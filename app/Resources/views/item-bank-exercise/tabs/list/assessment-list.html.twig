{% import 'macro.html.twig' as web_macro %}
<div class="course-detail-content js-course-detail-content">
  <ul class="task-list infinite-container">
    {% for assessment in assessments if assessments %}
      {% if records|default(null) %}{% set record = records[assessment.id]|default(null)  %}{% endif %}
      <li style="box-shadow: inset 0 -1px 0 0 rgba(0, 0, 0, 0.05);margin-left: 20px">
        <div class="item-content title gray-dark" style="display: inline-block;">
          <div style="rgba(102,102,102,1);font-weight:400;color:rgba(51,51,51,1);margin-bottom: 4px">{{ assessment.name }}</div>
          <div style="padding-bottom: 16px;font-weight:400;color:rgba(153,153,153,1);">
            {{ 'course.testpaper_manage.count'|trans({'%itemCount%': assessment.item_count}) }}/{{ 'course.testpaper_manage.score'|trans({'%score%':assessment.total_score}) }}
          </div>
        </div>
        {% if member|default(null) %}
          <div style="display: inline-block;float:right;padding-top: 13px;">
            {% if record|default(null) %}
              {% if record.status == 'doing' or record.status == 'paused' %}
                <span style="vertical-align:-3px;margin-right:30px;font-weight:400;color:rgba(153,153,153,1);">{{ 'item_bank_exercise.exercise.wait_tip'|trans }}</span>
                <a class="cd-btn cd-btn-primary" href="javasrcipt:;" style="border-bottom-left-radius: 18px;border-top-right-radius: 18px;">{{ 'item_bank_exercise.assessment.exercise.continue_btn'|trans }}</a>
              {% elseif record.status == 'reviewing' %}
                <a class="cd-btn cd-btn-ghost-primary" href="javasrcipt:;" style="border-bottom-left-radius: 18px;border-top-right-radius: 18px;color:rgba(255,155,86,1);border-color:rgba(255,155,86,1); ">{{ 'item_bank_exercise.assessment.exercise.view_btn'|trans }}</a>
                <a class="cd-btn cd-btn-ghost-primary" href="javasrcipt:;" style="border-bottom-left-radius: 18px;border-top-right-radius: 18px;">{{ 'item_bank_exercise.assessment.exercise.again_btn'|trans }}</a>
              {% else %}
                <a class="cd-btn cd-btn-ghost-primary" href="javasrcipt:;" style="border-bottom-left-radius: 18px;border-top-right-radius: 18px;">{{ 'item_bank_exercise.assessment.exercise.start_btn'|trans }}</a>
              {% endif %}
            {% else %}
              <a class="cd-btn cd-btn-ghost-primary" href="javasrcipt:;" style="border-bottom-left-radius: 18px;border-top-right-radius: 18px;">{{ 'item_bank_exercise.assessment.exercise.start_btn'|trans }}</a>
            {% endif %}
          </div>
        {% endif %}
      </li>
    {% else %}
        <div class="empty js-task-empty">
          {{'my.teaching.question_bank.testpaper.empty'|trans}}
        </div>
    {% endfor %}
  </ul>
  {{ web_macro.ajax_paginator(paginator) }}
</div>
