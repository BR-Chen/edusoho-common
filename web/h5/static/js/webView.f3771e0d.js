(window.webpackJsonp=window.webpackJsonp||[]).push([["webView"],{"23f2":function(e,t,n){"use strict";n.r(t),n("8e6e"),n("ac6a"),n("456d"),n("6762"),n("2fdb"),n("e7e5");var r=n("d399"),i=(n("96cf"),n("3b8d")),a=n("bd86"),s=n("32e6"),o=n.n(s),c=n("3ce7"),u=n("2f62"),d=n("faa5");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={data:function(){return{media:"",isPreview:this.$route.query.preview}},computed:f({},Object(u.d)("course",{details:function(e){return e.details},joinStatus:function(e){return e.joinStatus}}),{},Object(u.d)({isLoading:function(e){return e.isLoading}})),mounted:function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.getMedia(this.getParams()).catch((function(e){return Object(r.a)(e.message),Promise.reject(e)}));case 2:t=e.sent,["ppt","doc"].includes(this.media)?this.initPlayer(t):(this.$refs.text.innerHTML=t.media.content,this.setNavbarTitle(t.media.title));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),methods:f({},Object(u.c)({setNavbarTitle:d.k}),{getParams:function(){var e=this.$route.query,t=e.courseId,n=e.taskId,r=e.type,i=!this.joinStatus&&this.isPreview;return this.media=r,i?{query:{courseId:t,taskId:n},params:{preview:1}}:{query:{courseId:t,taskId:n}}},initPlayer:function(e){var t=e.media,n="//service-cdn.qiqiuyun.net/js-sdk/sdk-v1.js?v="+Date.now()/1e3/60;o()(n,(function(n){if(n)throw n;new window.QiQiuYun.Player({id:"player",resNo:t.resId,token:t.token,source:{type:e.mediaType,args:t}})}))}})},h=n("a6c2"),m=Object(h.a)(p,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"web-view"},[this.isLoading?t("e-loading"):this._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"text"!==this.media,expression:"media !== 'text'"}],attrs:{id:"player"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:"text"===this.media,expression:"media === 'text'"}],ref:"text",staticClass:"media-text"})],1)}),[],!1,null,null,null);t.default=m.exports},"32e6":function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,i){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof t&&(i=t,t={}),t=t||{},i=i||function(){},s.type=t.type||"text/javascript",s.charset=t.charset||"utf8",s.async=!("async"in t)||!!t.async,s.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(s,t.attrs),t.text&&(s.text=""+t.text),("onload"in s?n:r)(s,i),s.onload||n(s,i),a.appendChild(s)}}}]);