!function(u){function e(e){for(var o,r,n=e[0],t=e[1],s=e[2],a=0,i=[];a<n.length;a++)r=n[a],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&i.push(c[r][0]),c[r]=0;for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(u[o]=t[o]);for(w&&w(e);i.length;)i.shift()();return l.push.apply(l,s||[]),d()}function d(){for(var e,o=0;o<l.length;o++){for(var r=l[o],n=!0,t=1;t<r.length;t++){var s=r[t];0!==c[s]&&(n=!1)}n&&(l.splice(o--,1),e=a(a.s=r[0]))}return e}var r={},c={211:0},l=[];function a(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return u[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=u,a.c=r,a.d=function(e,o,r){a.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(o,e){if(1&e&&(o=a(o)),8&e)return o;if(4&e&&"object"==typeof o&&o&&o.__esModule)return o;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:o}),2&e&&"string"!=typeof o)for(var n in o)a.d(r,n,function(e){return o[e]}.bind(null,n));return r},a.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(o,"a",o),o},a.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},a.p="/static-dist/";var o=window.webpackJsonp=window.webpackJsonp||[],n=o.push.bind(o);o.push=e,o=o.slice();for(var t=0;t<o.length;t++)e(o[t]);var w=n;l.push([688,0]),d()}({15:function(e,o){e.exports=jQuery},318:function(e,o){e.exports=function(e){"use strict";if(!window||window.window!==window)throw new Error("This module is only available in browser");var o=window.Blob||window.MozBlob||window.WebKitBlob;if(!o)throw new Error("Blob was not supported");var r=e.match(/^data:((.*?)(;charset=.*?)?)(;base64)?,/);if(!r)throw new Error("invalid dataURI");for(var n=r[2]?r[1]:"text/plain"+(r[3]||";charset=utf-8"),t=!!r[4],s=e.slice(r[0].length),a=(t?atob:decodeURIComponent)(s),i=[],u=0;u<a.length;u++)i.push(a.charCodeAt(u));return new o([new Uint8Array(i)],{type:n})}},358:function(e,o,r){"use strict";r.d(o,"a",function(){return a});var n=r(6),t=r.n(n);function s(){function e(e){return e.test(r)}function o(e){return r.match(e).toString().replace(/[^0-9|_.]/g,"").replace(/_/g,".")}var r=navigator.userAgent.toLowerCase(),n="unknow";e(/windows|win32|win64|wow32|wow64/g)?n="windows":e(/macintosh|macintel/g)?n="macos":e(/x11/g)?n="linux":e(/android|adr/g)?n="android":e(/ios|iphone|ipad|ipod|iwatch/g)&&(n="ios");var t="unknow";"windows"===n?e(/windows nt 5.0|windows 2000/g)?t="2000":e(/windows nt 5.1|windows xp/g)?t="xp":e(/windows nt 5.2|windows 2003/g)?t="2003":e(/windows nt 6.0|windows vista/g)?t="vista":e(/windows nt 6.1|windows 7/g)?t="7":e(/windows nt 6.2|windows 8/g)?t="8":e(/windows nt 6.3|windows 8.1/g)?t="8.1":e(/windows nt 10.0|windows 10/g)&&(t="10"):"macos"===n?t=o(/os x [\d._]+/g):"android"===n?t=o(/android [\d._]+/g):"ios"===n&&(t=o(/os [\d._]+/g));var s="unknow";"windows"===n||"macos"===n||"linux"===n?s="desktop":"android"!==n&&"ios"!==n&&!e(/mobile/g)||(s="mobile");var a="unknow",i="unknow";e(/applewebkit/g)?(a="webkit",e(/edge/g)?i="edge":e(/opr/g)?i="opera":e(/chrome/g)?i="chrome":e(/safari/g)&&(i="safari")):e(/gecko/g)&&e(/firefox/g)?(a="gecko",i="firefox"):e(/presto/g)?(a="presto",i="opera"):e(/trident|compatible|msie/g)&&(a="trident",i="iexplore");var u="unknow";"webkit"===a?u=o(/applewebkit\/[\d._]+/g):"gecko"===a?u=o(/gecko\/[\d._]+/g):"presto"===a?u=o(/presto\/[\d._]+/g):"trident"===a&&(u=o(/trident\/[\d._]+/g));var d="unknow";"chrome"===i?d=o(/chrome\/[\d._]+/g):"safari"===i?d=o(/version\/[\d._]+/g):"firefox"===i?d=o(/firefox\/[\d._]+/g):"opera"===i?d=o(/opr\/[\d._]+/g):"iexplore"===i?d=o(/(msie [\d._]+)|(rv:[\d._]+)/g):"edge"===i&&(d=o(/edge\/[\d._]+/g));var c="none",l="unknow";e(/micromessenger/g)?(c="wechat",l=o(/micromessenger\/[\d._]+/g)):e(/qqbrowser/g)?(c="qq",l=o(/qqbrowser\/[\d._]+/g)):e(/ucbrowser/g)?(c="uc",l=o(/ucbrowser\/[\d._]+/g)):e(/qihu 360se/g)?c="360":e(/2345explorer/g)?(c="2345",l=o(/2345explorer\/[\d._]+/g)):e(/metasr/g)?c="sougou":e(/lbbrowser/g)?c="liebao":e(/maxthon/g)&&(c="maxthon",l=o(/maxthon\/[\d._]+/g));var w={engine:a,engineVs:u,platform:s,supporter:i,supporterVs:d,system:n,systemVs:t};return"none"!==c&&(w.shell=c,w.shellVs=l),w}var a=function(){var e={ok:!0,message:""},o=s(),r=e.message='请下载安装使用最新版 <a href="https://edtech.edusoho.net/software/chrome-win64.exe" target="_blank">谷歌</a>、<a href="https://browser.360.cn/se/" target="_blank">360</a> 或 <a href="https://ie.sogou.com/" target="_blank">搜狗</a> 浏览器。';return"desktop"!==o.platform?(e.ok=!1,e.message="请在电脑端浏览器中打开！"):"iexplore"===o.supporter||o.shell&&"qq"===o.shell?(e.ok=!1,e.message="不支持当前浏览器，"+r):"chrome"===o.supporter&&t()(o.supporterVs)<69&&(e.ok=!1,e.message="当前浏览器版本过低，"+r),e}},688:function(e,o,r){"use strict";r.r(o);var n=r(21),t=r.n(n),s=r(0),a=r.n(s),i=r(1),u=r.n(i),d=r(318),c=r.n(d),l=r(358),w=r(4);new(function(){function e(){a()(this,e),this.sdk=null,this._initSdk(),this.sdk&&this.capture()}return u()(e,[{key:"_initSdk",value:function(){var e=Object(l.a)();!1!==e.ok?this.sdk=new window.ExamSupervisorSDK({apiServer:"//exam-supervisor-service.edusoho.net",token:$("input[name=token]").val()}):this.showErrorMessage(e.message)}},{key:"capture",value:function(){var o=this,r=this;r.sdk.on("collect-open-error",function(e){console.log("error",e),r.showErrorMessage(e.message),$("#inspection-collect-btn").attr("disabled",!0)}),r.sdk.bootCollectFace("inspection-collect-video",function(e){return o.faceCaptured(e)})}},{key:"faceCaptured",value:function(e){var o=this;return console.log(e),new t.a(function(){console.log("uploading......"),o.uploadImg(e.face)})}},{key:"uploadImg",value:function(e){var o=new FormData;o.append("picture",c()(e)),$.ajax({url:$(".js-upload-url").data("uploadUrl"),type:"POST",contentType:!1,processData:!1,data:o,success:function(e){e?Object(w.a)("success",Translator.trans("恭喜！您已成功完成图像采集!")):Object(w.a)("danger",Translator.trans("采集失败！请刷新页面重新采集"))}})}},{key:"showErrorMessage",value:function(e){$("#alert-box").html(e)}}]),e}())}});