!function(u){function e(e){for(var o,n,r=e[0],t=e[1],s=e[2],i=0,a=[];i<r.length;i++)n=r[i],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&a.push(c[n][0]),c[n]=0;for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(u[o]=t[o]);for(w&&w(e);a.length;)a.shift()();return l.push.apply(l,s||[]),d()}function d(){for(var e,o=0;o<l.length;o++){for(var n=l[o],r=!0,t=1;t<n.length;t++){var s=n[t];0!==c[s]&&(r=!1)}r&&(l.splice(o--,1),e=i(i.s=n[0]))}return e}var n={},c={211:0},l=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return u[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=u,i.c=n,i.d=function(e,o,n){i.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(o,e){if(1&e&&(o=i(o)),8&e)return o;if(4&e&&"object"==typeof o&&o&&o.__esModule)return o;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:o}),2&e&&"string"!=typeof o)for(var r in o)i.d(n,r,function(e){return o[e]}.bind(null,r));return n},i.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(o,"a",o),o},i.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},i.p="/static-dist/";var o=window.webpackJsonp=window.webpackJsonp||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var t=0;t<o.length;t++)e(o[t]);var w=r;l.push([688,0]),d()}({15:function(e,o){e.exports=jQuery},318:function(e,o){e.exports=function(e){"use strict";if(!window||window.window!==window)throw new Error("This module is only available in browser");var o=window.Blob||window.MozBlob||window.WebKitBlob;if(!o)throw new Error("Blob was not supported");var n=e.match(/^data:((.*?)(;charset=.*?)?)(;base64)?,/);if(!n)throw new Error("invalid dataURI");for(var r=n[2]?n[1]:"text/plain"+(n[3]||";charset=utf-8"),t=!!n[4],s=e.slice(n[0].length),i=(t?atob:decodeURIComponent)(s),a=[],u=0;u<i.length;u++)a.push(i.charCodeAt(u));return new o([new Uint8Array(a)],{type:r})}},358:function(e,o,n){"use strict";n.d(o,"a",function(){return i});var r=n(6),t=n.n(r);function s(){function e(e){return e.test(n)}function o(e){return n.match(e).toString().replace(/[^0-9|_.]/g,"").replace(/_/g,".")}var n=navigator.userAgent.toLowerCase(),r="unknow";e(/windows|win32|win64|wow32|wow64/g)?r="windows":e(/macintosh|macintel/g)?r="macos":e(/x11/g)?r="linux":e(/android|adr/g)?r="android":e(/ios|iphone|ipad|ipod|iwatch/g)&&(r="ios");var t="unknow";"windows"===r?e(/windows nt 5.0|windows 2000/g)?t="2000":e(/windows nt 5.1|windows xp/g)?t="xp":e(/windows nt 5.2|windows 2003/g)?t="2003":e(/windows nt 6.0|windows vista/g)?t="vista":e(/windows nt 6.1|windows 7/g)?t="7":e(/windows nt 6.2|windows 8/g)?t="8":e(/windows nt 6.3|windows 8.1/g)?t="8.1":e(/windows nt 10.0|windows 10/g)&&(t="10"):"macos"===r?t=o(/os x [\d._]+/g):"android"===r?t=o(/android [\d._]+/g):"ios"===r&&(t=o(/os [\d._]+/g));var s="unknow";"windows"===r||"macos"===r||"linux"===r?s="desktop":"android"!==r&&"ios"!==r&&!e(/mobile/g)||(s="mobile");var i="unknow",a="unknow";e(/applewebkit/g)?(i="webkit",e(/edge/g)?a="edge":e(/opr/g)?a="opera":e(/chrome/g)?a="chrome":e(/safari/g)&&(a="safari")):e(/gecko/g)&&e(/firefox/g)?(i="gecko",a="firefox"):e(/presto/g)?(i="presto",a="opera"):e(/trident|compatible|msie/g)&&(i="trident",a="iexplore");var u="unknow";"webkit"===i?u=o(/applewebkit\/[\d._]+/g):"gecko"===i?u=o(/gecko\/[\d._]+/g):"presto"===i?u=o(/presto\/[\d._]+/g):"trident"===i&&(u=o(/trident\/[\d._]+/g));var d="unknow";"chrome"===a?d=o(/chrome\/[\d._]+/g):"safari"===a?d=o(/version\/[\d._]+/g):"firefox"===a?d=o(/firefox\/[\d._]+/g):"opera"===a?d=o(/opr\/[\d._]+/g):"iexplore"===a?d=o(/(msie [\d._]+)|(rv:[\d._]+)/g):"edge"===a&&(d=o(/edge\/[\d._]+/g));var c="none",l="unknow";e(/micromessenger/g)?(c="wechat",l=o(/micromessenger\/[\d._]+/g)):e(/qqbrowser/g)?(c="qq",l=o(/qqbrowser\/[\d._]+/g)):e(/ucbrowser/g)?(c="uc",l=o(/ucbrowser\/[\d._]+/g)):e(/qihu 360se/g)?c="360":e(/2345explorer/g)?(c="2345",l=o(/2345explorer\/[\d._]+/g)):e(/metasr/g)?c="sougou":e(/lbbrowser/g)?c="liebao":e(/maxthon/g)&&(c="maxthon",l=o(/maxthon\/[\d._]+/g));var w={engine:i,engineVs:u,platform:s,supporter:a,supporterVs:d,system:r,systemVs:t};return"none"!==c&&(w.shell=c,w.shellVs=l),w}var i=function(){var e={ok:!0,message:""},o=s(),n=e.message='请下载安装使用最新版 <a href="https://edtech.edusoho.net/software/chrome-win64.exe" target="_blank">谷歌</a>、<a href="https://browser.360.cn/se/" target="_blank">360</a> 或 <a href="https://ie.sogou.com/" target="_blank">搜狗</a> 浏览器。';return"desktop"!==o.platform?(e.ok=!1,e.message="请在电脑端浏览器中打开！"):"iexplore"===o.supporter||o.shell&&"qq"===o.shell?(e.ok=!1,e.message="不支持当前浏览器，"+n):"chrome"===o.supporter&&t()(o.supporterVs)<69&&(e.ok=!1,e.message="当前浏览器版本过低，"+n),e}},688:function(e,o,n){"use strict";n.r(o);var r=n(21),t=n.n(r),s=n(0),i=n.n(s),a=n(1),u=n.n(a),d=n(318),c=n.n(d),l=n(358),w=n(4);new(function(){function e(){i()(this,e),this.sdk=null,this._initSdk(),this.sdk&&this.capture()}return u()(e,[{key:"_initSdk",value:function(){var e=Object(l.a)();!1!==e.ok?this.sdk=new window.ExamSupervisorSDK({apiServer:"//exam-supervisor-service.edusoho.net",token:$("input[name=token]").val()}):this.showErrorMessage(e.message)}},{key:"capture",value:function(){var o=this,n=this;n.sdk.on("collect-open-error",function(e){console.log("error",e),n.showErrorMessage(e.message),$("#inspection-collect-btn").attr("disabled",!0)}),n.sdk.bootCollectFace("inspection-collect-video",function(e){return o.faceCaptured(e)})}},{key:"faceCaptured",value:function(e){var o=this;return console.log(e),new t.a(function(){console.log("uploading......"),o.uploadImg(e.face)})}},{key:"uploadImg",value:function(e){var o=new FormData;o.append("picture",c()(e)),$.ajax({url:$(".js-upload-url").data("uploadUrl"),type:"POST",contentType:!1,processData:!1,data:o,success:function(e){e?(Object(w.a)("success",Translator.trans("恭喜！您已成功完成图像采集!")),$("#inspection-collect-finish-btn").show(),$(".js-upload-url").find("button").hide()):Object(w.a)("danger",Translator.trans("采集失败！请刷新页面重新采集"))}})}},{key:"showErrorMessage",value:function(e){$("#alert-box").html(e)}}]),e}())}});