!function(s){function t(t){for(var n,e,r=t[0],i=t[1],o=t[2],a=0,u=[];a<r.length;a++)e=r[a],Object.prototype.hasOwnProperty.call(l,e)&&l[e]&&u.push(l[e][0]),l[e]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(s[n]=i[n]);for(p&&p(t);u.length;)u.shift()();return f.push.apply(f,o||[]),c()}function c(){for(var t,n=0;n<f.length;n++){for(var e=f[n],r=!0,i=1;i<e.length;i++){var o=e[i];0!==l[o]&&(r=!1)}r&&(f.splice(n--,1),t=a(a.s=e[0]))}return t}var e={},l={271:0},f=[];function a(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return s[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=s,a.c=e,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(n,t){if(1&t&&(n=a(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)a.d(e,r,function(t){return n[t]}.bind(null,r));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="/static-dist/";var n=window.webpackJsonp=window.webpackJsonp||[],r=n.push.bind(n);n.push=t,n=n.slice();for(var i=0;i<n.length;i++)t(n[i]);var p=r;f.push([707,0]),c()}({106:function(t,n,e){"use strict";var r=e(6),a=e.n(r),i=e(0),o=e.n(i),u=e(1),s=e.n(u),c=e(2),l=e.n(c),f=e(20),p=e.n(f),h=e(7),d=e.n(h),v=e(4),g=e.n(v),y=e(8),_=e.n(y),m=e(11),w=(e(153),e(65)),b=e(61);function k(r){return function(){var t,n=g()(r);if(function(){if("undefined"==typeof Reflect||!l.a)return;if(l.a.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(l()(Date,[],function(){})),1}catch(t){return}}()){var e=g()(this).constructor;t=l()(n,arguments,e)}else t=n.apply(this,arguments);return d()(this,t)}}var x=function(t){_()(r,t);var e=k(r);function r(t){var n;return o()(this,r),(n=e.call(this))._options=t,n._initConfig(),n.chapterAnimate(),n._displayAllImmediately?n._displayCurrentPageDataAndSwitchToNext():n._initUpLoading(),n}return s()(r,[{key:"toggleIcon",value:function(r,i,o){var a=this;return new p.a(function(t,n){var e=r.find(".js-remove-icon");r.find(".js-remove-text");e.hasClass(i)?(e.removeClass(i).addClass(o),0==$(".js-only-display-one-page").length&&a._displayCurrentPageDataAndSwitchToNext()):e.removeClass(o).addClass(i),t()})}},{key:"chapterAnimate",value:function(t,n,e,r){var i=1<arguments.length&&void 0!==n?n:".js-task-chapter",o=2<arguments.length&&void 0!==e?e:"es-icon-remove",a=3<arguments.length&&void 0!==r?r:"es-icon-anonymous-iconfont",u=this;$(0<arguments.length&&void 0!==t?t:"body").off("click").on("click",i,function(t){var n=$(t.currentTarget);u.toggleIcon(n,o,a).then(function(){n.nextUntil(i).animate({height:"toggle",opacity:"toggle"},"normal")})})}},{key:"_initUpLoading",value:function(){if(0!=$(".js-down-loading-more").length)var n=this,e=new Waypoint({element:$(".js-down-loading-more")[0],handler:function(t){"down"==t&&(n._isLastPage||n._canNotDisplayMore()?e.disable():(n._scrollToBottom(),e.disable(),n._displayCurrentPageDataAndSwitchToNext(),Waypoint.refreshAll(),e.enable()))},offset:"bottom-in-view"})}},{key:"_initConfig",value:function(){this._currentPage=1,this._displayAllImmediately=!!this._options.displayAllImmediately,this._displayAllImmediately?this._pageSize=1e4:this._pageSize=this._options.pageSize?this._options.pageSize:25,25<this._pageSize&&0!=$(".js-only-display-one-page").length&&(this._pageSize=25),this._afterFirstLoad=this._options.afterFirstLoad?this._options.afterFirstLoad:null,this._isFirstLoad=!0,this._options.displayItem?(this._displayItemDisplayed=!1,this._displayItem=this._options.displayItem):(this._displayItemDisplayed=!0,this._displayItem=null),this._isLastPage=!1}},{key:"_displayCurrentPageDataAndSwitchToNext",value:function(){this._displayData(),this._isLastPage||this._currentPage++,this._isFirstLoad&&(this._displayItemDisplayed?(this._isFirstLoad=!1,this._afterFirstLoad&&this._afterFirstLoad()):this._displayCurrentPageDataAndSwitchToNext())}},{key:"_displayData",value:function(){if(!this._isLastPage)for(var t=this._getStartIndex(),n=0;n<this._pageSize;n++){var e=this._options.data[n+t];if(!this._displayItemDisplayed){var r=this._displayItem.key,i=this._displayItem.value;e[r]==i&&(this._displayItemDisplayed=!0)}Object(m.d)(e)?this._isLastPage=!0:this._generateSingleCachedData(e)}}},{key:"_scrollToBottom",value:function(){var t=this,n=this,e=$(".js-sidebar-pane");if(e.length){var r=e[0],i=e.height(),o=r.scrollHeight,a=r.scrollTop;n._afterFirstLoad&&r.addEventListener("scroll",Object(b.a)(function(){o<=a+i&&!t._isLastPage&&n._displayCurrentPageDataAndSwitchToNext()},500,!0))}}},{key:"_generateSingleCachedData",value:function(t){var n=this._options.dataTemplateNode,e=this._options.wrapDom?this._options.wrapDom.find(n).html():$(n).html(),r=t,i=this,o=e.replace(/({\w+})/g,function(t){return i._replace(t,r,"{","}")});o=o.replace(/(%7B\w+%7D)/g,function(t){return i._replace(t,r,"%7B","%7D")});var a=$("<div>").append(o);this._removeUnNeedNodes(a),(this._options.wrapDom?this._options.wrapDom.find(".infinite-container"):$(".infinite-container")).append(a.html())}},{key:"_getStartIndex",value:function(){return(this._currentPage-1)*this._pageSize}},{key:"_replace",value:function(t,n,e,r){var i=t.split(e)[1].split(r)[0],o=this._options.context;return"function"==typeof o[i]?o[i](n,o):void 0!==n[i]?n[i]:t}},{key:"_canNotDisplayMore",value:function(){return 1!=this._currentPage&&0!=$(".js-only-display-one-page").length}},{key:"_removeUnNeedNodes",value:function(t){t.find("[display-if=false]").remove(),t.find("[display-if=0]").remove(),t.find("[hide-if=1]").remove(),t.find("[hide-if=true]").remove(),t.find("tmp :first-child").each(function(){var t=$(this).parent();t.hasClass("js-ignore-remove")||"TMP"!=t[0].nodeName||$(this).unwrap()})}}]),r}(w.a),I=function(){function n(t){o()(this,n),void 0===t&&(t={}),this._init(t)}return s()(n,[{key:"_init",value:function(t){var n=$.extend(this._getDefaultOptions(t),t);n.wrapDom=t.wrapTarget,n.pageSize=this._getPageSizeByMaxLessonsNumOfChapter(n),new x(n),this._displayAllImmediately&&this._destroyPaging()}},{key:"_getPageSizeByMaxLessonsNumOfChapter",value:function(n){var t=n.data;if(!Object(m.d)(t)){var e=0,r=0;return t.forEach(function(t){n.context.isChapter(t)?(e=e<r?r:e,r=0):r++}),e<25?25:e+1}}},{key:"_getDefaultOptions",value:function(t){var n=this._wrapTarget(t.wrapTarget,".js-hidden-cached-data"),e=this._wrapTarget(t.wrapTarget,".js-hidden-course-info"),r=this._wrapTarget(t.wrapTarget,".js-hidden-i18n"),i=this._wrapTarget(t.wrapTarget,".js-hidden-activity-metas"),o=this._wrapTarget(t.wrapTarget,".js-hidden-current-timestamp");return{data:this._toJson(n.html()),context:{course:this._toJson(e.html()),i18n:this._toJson(r.html()),metas:this._toJson(i.html()),currentTimeStamp:a()(o.html(),10),isChapter:function(t){return"chapter"==t.itemType},isUnit:function(t){return"unit"==t.itemType},isLesson:function(t){return"lesson"==t.itemType},isTask:function(t){return"task"==t.itemType},getChapterName:function(t,n){return Translator.trans("course.chapter",{chapter_name:n.i18n.i18nChapterName,number:t.number,title:t.title,colon:t.title?":":""})},getUnitName:function(t,n){return Translator.trans("course.unit",{part_name:n.i18n.i18nUnitName,number:t.number,title:t.title,colon:t.title?":":""})},getLessonName:function(t,n){return"1"==t.isOptional?t.title:Translator.trans("course.lesson",{part_name:n.i18n.i18nLessonName,number:n.getLessonNum(t,n),title:t.title})},isItemDisplayedAsOptionalOrUnpublished:function(t,n){return n.isItemDisplayedAsOptional(t,n)||n.isItemDisplayedAsUnpublished(t,n)},isItemDisplayedAsOptional:function(t,n){return"1"==t.isOptional&&n.isLessonNode(t,n)},isItemDisplayedAsUnpublished:function(t,n){return!n.isPublished(t,n)&&n.isLessonNode(t,n)},isLessonNode:function(t){return"task"==t.itemType&&t.isSingleTaskLesson||"lesson"==t.itemType&&!t.isSingleTaskLesson},getTaskName:function(t,n){return t.isSingleTaskLesson?Translator.trans("course.lesson",{part_name:n.i18n.i18nLessonName,number:n.getLessonNum(t,n),title:t.title}):Translator.trans("course.catalogue.task_status.task",{taskName:n.i18n.i18nTaskName,taskNumber:t.number,taskTitle:t.title})},hasWatchLimitRemaining:function(t){return!1!==t.watchLimitRemaining},highlightTaskClass:function(t,n){return t.taskId==n.course.currentTaskId?"active":""},taskClass:function(t,n){var e="es-icon left-menu";return n.isTaskLocked(t,n)?e+=" es-icon-lock":""==t.result||"false"==n.course.isMember?e+=" es-icon-undone-check color-gray":"start"==t.resultStatus?e+=" es-icon-doing color-primary":"finish"==t.resultStatus&&(e+=" es-icon-iccheckcircleblack24px color-primary"),e},lessonContainerClass:function(t,n){var e="color-gray bg-gray-lighter";return n.isTask(t,n)?t.isSingleTaskLesson?e:"":n.isLesson(t,n)?e:void 0},isTaskLocked:function(t,n){return n.course.isMember?"lockMode"==n.course.learnMode&&t.lock:"lockMode"==n.course.learnMode},isPublished:function(t){return"published"==t.status},isPublishedTaskUnlocked:function(t,n){return n.isPublished(t,n)&&!n.isTaskLocked(t,n)},isCloudVideo:function(t){return"video"==t.type&&"cloud"==t.fileStorage},getMetaIcon:function(t,n){return void 0!==n.metas[t.type]?n.metas[t.type].icon:""},getMetaName:function(t,n){return void 0!==n.metas[t.type]?n.metas[t.type].name:""},isLiveReplayGenerated:function(t){return"ungenerated"!=t.replayStatus},isLive:function(t){return"live"==t.type},isLiveNotStarted:function(t,n){return n.isLive(t,n)&&n.currentTimeStamp<n.toInt(t.activityStartTime)},isLiveStarting:function(t,n){return n.isLive(t,n)&&n.currentTimeStamp>=n.toInt(t.activityStartTime)&&n.currentTimeStamp<=n.toInt(t.activityEndTime)},isLiveFinished:function(t,n){return n.isLive(t,n)&&n.currentTimeStamp>n.toInt(t.activityEndTime)},toInt:function(t){return a()(t,10)},getLessonNum:function(t,n){var e=t.number;return"1"==n.course.isHideUnpublish&&(e=t.published_number),e}},dataTemplateNode:".js-infinite-item-template"}}},{key:"_wrapTarget",value:function(t,n){return t?t.find(n):$(n)}},{key:"_destroyPaging",value:function(){for(var t=["js-infinite-item-template","js-hidden-cached-data","js-hidden-course-info","js-hidden-i18n","js-hidden-activity-metas","js-hidden-current-timestamp","infinite-container","js-down-loading-more"],n=0;n<t.length;n++)$("."+t[n]).removeClass(t[n])}},{key:"_toJson",value:function(t){var n={};return t&&(n=$.parseJSON(t.replace(/[\r\n\t]/g,""))),n}}]),n}();n.a=I},153:function(t,n){
/*!
Waypoints - 4.0.1
Copyright © 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(){"use strict";function n(t){if(!t)throw new Error("No options passed to Waypoint constructor");if(!t.element)throw new Error("No element option passed to Waypoint constructor");if(!t.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=n.Adapter.extend({},n.defaults,t),this.element=this.options.element,this.adapter=new n.Adapter(this.element),this.callback=t.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=n.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=n.Context.findOrCreateByElement(this.options.context),n.offsetAliases[this.options.offset]&&(this.options.offset=n.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),o[this.key]=this,e+=1}var e=0,o={};n.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},n.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},n.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete o[this.key]},n.prototype.disable=function(){return this.enabled=!1,this},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},n.prototype.next=function(){return this.group.next(this)},n.prototype.previous=function(){return this.group.previous(this)},n.invokeAll=function(t){var n=[];for(var e in o)n.push(o[e]);for(var r=0,i=n.length;r<i;r++)n[r][t]()},n.destroyAll=function(){n.invokeAll("destroy")},n.disableAll=function(){n.invokeAll("disable")},n.enableAll=function(){for(var t in n.Context.refreshAll(),o)o[t].enabled=!0;return this},n.refreshAll=function(){n.Context.refreshAll()},n.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},n.viewportWidth=function(){return document.documentElement.clientWidth},n.adapters=[],n.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},n.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=n}(),function(){"use strict";function n(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=g.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+r,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,i[t.waypointContextKey]=this,r+=1,g.windowContext||(g.windowContext=!0,g.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var r=0,i={},g=window.Waypoint,t=window.onload;e.prototype.add=function(t){var n=t.options.horizontal?"horizontal":"vertical";this.waypoints[n][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),n=this.Adapter.isEmptyObject(this.waypoints.vertical),e=this.element==this.element.window;t&&n&&!e&&(this.adapter.off(".waypoints"),delete i[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){n.handleResize(),n.didResize=!1}var n=this;this.adapter.on("resize.waypoints",function(){n.didResize||(n.didResize=!0,g.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){n.handleScroll(),n.didScroll=!1}var n=this;this.adapter.on("scroll.waypoints",function(){n.didScroll&&!g.isTouch||(n.didScroll=!0,g.requestAnimationFrame(t))})},e.prototype.handleResize=function(){g.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},n={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var e in n){var r=n[e],i=r.newScroll>r.oldScroll?r.forward:r.backward;for(var o in this.waypoints[e]){var a=this.waypoints[e][o];if(null!==a.triggerPoint){var u=r.oldScroll<a.triggerPoint,s=r.newScroll>=a.triggerPoint;(u&&s||!u&&!s)&&(a.queueTrigger(i),t[a.group.id]=a.group)}}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:n.horizontal.newScroll,y:n.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?g.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?g.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var n in this.waypoints)for(var e in this.waypoints[n])t.push(this.waypoints[n][e]);for(var r=0,i=t.length;r<i;r++)t[r].destroy()},e.prototype.refresh=function(){var t,n=this.element==this.element.window,e=n?void 0:this.adapter.offset(),r={};for(var i in this.handleScroll(),t={horizontal:{contextOffset:n?0:e.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:e.top,contextScroll:n?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o=t[i];for(var a in this.waypoints[i]){var u,s,c,l,f=this.waypoints[i][a],p=f.options.offset,h=f.triggerPoint,d=0,v=null==h;f.element!==f.element.window&&(d=f.adapter.offset()[o.offsetProp]),"function"==typeof p?p=p.apply(f):"string"==typeof p&&(p=parseFloat(p),-1<f.options.offset.indexOf("%")&&(p=Math.ceil(o.contextDimension*p/100))),u=o.contextScroll-o.contextOffset,f.triggerPoint=Math.floor(d+u-p),s=h<o.oldScroll,c=f.triggerPoint>=o.oldScroll,l=!s&&!c,!v&&(s&&c)?(f.queueTrigger(o.backward),r[f.group.id]=f.group):(!v&&l||v&&o.oldScroll>=f.triggerPoint)&&(f.queueTrigger(o.forward),r[f.group.id]=f.group)}}return g.requestAnimationFrame(function(){for(var t in r)r[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in i)i[t].refresh()},e.findByElement=function(t){return i[t.waypointContextKey]},window.onload=function(){t&&t(),e.refreshAll()},g.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||n).call(window,t)},g.Context=e}(),function(){"use strict";function a(t,n){return t.triggerPoint-n.triggerPoint}function u(t,n){return n.triggerPoint-t.triggerPoint}function n(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),e[this.axis][this.name]=this}var e={vertical:{},horizontal:{}},r=window.Waypoint;n.prototype.add=function(t){this.waypoints.push(t)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var t in this.triggerQueues){var n=this.triggerQueues[t],e="up"===t||"left"===t;n.sort(e?u:a);for(var r=0,i=n.length;r<i;r+=1){var o=n[r];!o.options.continuous&&r!==n.length-1||o.trigger([t])}}this.clearTriggerQueues()},n.prototype.next=function(t){this.waypoints.sort(a);var n=r.Adapter.inArray(t,this.waypoints);return n===this.waypoints.length-1?null:this.waypoints[n+1]},n.prototype.previous=function(t){this.waypoints.sort(a);var n=r.Adapter.inArray(t,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(t,n){this.triggerQueues[n].push(t)},n.prototype.remove=function(t){var n=r.Adapter.inArray(t,this.waypoints);-1<n&&this.waypoints.splice(n,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(t){return e[t.axis][t.name]||new n(t)},r.Group=n}(),function(){"use strict";function e(t){this.$element=r(t)}var r=window.jQuery,t=window.Waypoint;r.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,n){e.prototype[n]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[n].apply(this.$element,t)}}),r.each(["extend","inArray","isEmptyObject"],function(t,n){e[n]=r[n]}),t.adapters.push({name:"jquery",Adapter:e}),t.Adapter=e}(),function(){"use strict";function t(r){return function(){var n=[],e=arguments[0];return r.isFunction(arguments[0])&&((e=r.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var t=r.extend({},e,{element:this});"string"==typeof t.context&&(t.context=r(this).closest(t.context)[0]),n.push(new i(t))}),n}}var i=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}()},43:function(t,n,e){"use strict";var r=e(9),o=e.n(r),i=e(0),a=e.n(i),u=e(1),s=e.n(u),c=(e(68),function(){function t(){a()(this,t)}return s()(t,null,[{key:"set",value:function(t,n,e){var r=store.get("durations",{});r&&r instanceof Array||(r=new Array);var i=t+"-"+n+":"+e;0<r.length&&-1<r.slice(r.length-1,r.length)[0].indexOf(t+"-"+n)&&r.splice(r.length-1,r.length),20<=r.length&&r.shift(),r.push(i),store.set("durations",r)}},{key:"get",value:function(t,n){var e=store.get("durations",{});if(e)for(var r=0;r<e.length;r++){if(-1<e[r].indexOf(t+"-"+n)){var i=e[r];return o()(i.split(":")[1])}}return 0}},{key:"del",value:function(t,n){var e=store.get("durations");if(e){for(var r=0;r<e.length;r++){-1<e[r].indexOf(t+"-"+n)&&e.splice(r,1)}store.set("durations",e)}}}]),t}());n.a=c},57:function(t,w,b){(function(y,_){var m;
/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -d -o ./index.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */(function(){var gi,t,n,yi="3.10.1",_i=1,mi=2,wi=4,bi=8,ki=16,xi=32,Ii=64,Si=128,ji=256,Ti=30,Ai="...",Oi=150,Ci=16,Pi=200,Mi=1,Li=2,$i="Expected a function",Ei="__lodash_placeholder__",Ni="[object Arguments]",Di="[object Array]",Ri="[object Boolean]",Fi="[object Date]",Wi="[object Error]",zi="[object Function]",e="[object Map]",Ui="[object Number]",Bi="[object Object]",qi="[object RegExp]",r="[object Set]",Qi="[object String]",i="[object WeakMap]",Hi="[object ArrayBuffer]",Ji="[object Float32Array]",Ki="[object Float64Array]",Vi="[object Int8Array]",Yi="[object Int16Array]",Gi="[object Int32Array]",Zi="[object Uint8Array]",Xi="[object Uint8ClampedArray]",to="[object Uint16Array]",no="[object Uint32Array]",eo=/\b__p \+= '';/g,ro=/\b(__p \+=) '' \+/g,io=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oo=/&(?:amp|lt|gt|quot|#39|#96);/g,ao=/[&<>"'`]/g,uo=RegExp(oo.source),so=RegExp(ao.source),co=/<%-([\s\S]+?)%>/g,lo=/<%([\s\S]+?)%>/g,fo=/<%=([\s\S]+?)%>/g,po=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ho=/^\w*$/,vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,go=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,yo=RegExp(go.source),_o=/[\u0300-\u036f\ufe20-\ufe23]/g,mo=/\\(\\)?/g,wo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bo=/\w*$/,ko=/^0[xX]/,xo=/^\[object .+?Constructor\]$/,Io=/^\d+$/,So=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,jo=/($^)/,To=/['\n\r\u2028\u2029\\]/g,Ao=(t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(t+"+(?="+t+n+")|"+t+"?"+n+"|"+t+"+|[0-9]+","g")),Oo=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Co=-1,Po={};Po[Ji]=Po[Ki]=Po[Vi]=Po[Yi]=Po[Gi]=Po[Zi]=Po[Xi]=Po[to]=Po[no]=!0,Po[Ni]=Po[Di]=Po[Hi]=Po[Ri]=Po[Fi]=Po[Wi]=Po[zi]=Po[e]=Po[Ui]=Po[Bi]=Po[qi]=Po[r]=Po[Qi]=Po[i]=!1;var Mo={};Mo[Ni]=Mo[Di]=Mo[Hi]=Mo[Ri]=Mo[Fi]=Mo[Ji]=Mo[Ki]=Mo[Vi]=Mo[Yi]=Mo[Gi]=Mo[Ui]=Mo[Bi]=Mo[qi]=Mo[Qi]=Mo[Zi]=Mo[Xi]=Mo[to]=Mo[no]=!0,Mo[Wi]=Mo[zi]=Mo[e]=Mo[r]=Mo[i]=!1;var o={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},u={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},s={function:!0,object:!0},c={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},l={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},f=s[typeof w]&&w&&!w.nodeType&&w,p=s[typeof y]&&y&&!y.nodeType&&y,h=f&&p&&"object"==typeof _&&_&&_.Object&&_,d=s[typeof self]&&self&&self.Object&&self,v=s[typeof window]&&window&&window.Object&&window,Lo=(p&&p.exports,h||v!==(this&&this.window)&&v||d||this);function $o(t,n){if(t!==n){var e=null===t,r=t===gi,i=t==t,o=null===n,a=n===gi,u=n==n;if(n<t&&!o||!i||e&&!a&&u||r&&u)return 1;if(t<n&&!e||!u||o&&!r&&i||a&&i)return-1}return 0}function Eo(t,n,e){for(var r=t.length,i=e?r:-1;e?i--:++i<r;)if(n(t[i],i,t))return i;return-1}function No(t,n,e){if(n!=n)return Ho(t,e);for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1}function Do(t){return"function"==typeof t||!1}function Ro(t){return null==t?"":t+""}function Fo(t,n){for(var e=-1,r=t.length;++e<r&&-1<n.indexOf(t.charAt(e)););return e}function Wo(t,n){for(var e=t.length;e--&&-1<n.indexOf(t.charAt(e)););return e}function zo(t,n){return $o(t.criteria,n.criteria)||t.index-n.index}function Uo(t){return o[t]}function Bo(t){return a[t]}function qo(t,n,e){return n?t=c[t]:e&&(t=l[t]),"\\"+t}function Qo(t){return"\\"+l[t]}function Ho(t,n,e){for(var r=t.length,i=n+(e?0:-1);e?i--:++i<r;){var o=t[i];if(o!=o)return i}return-1}function Jo(t){return!!t&&"object"==typeof t}function g(t){return t<=160&&9<=t&&t<=13||32==t||160==t||5760==t||6158==t||8192<=t&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function Ko(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;)t[e]===n&&(t[e]=Ei,o[++i]=e);return o}function Vo(t){for(var n=-1,e=t.length;++n<e&&g(t.charCodeAt(n)););return n}function Yo(t){for(var n=t.length;n--&&g(t.charCodeAt(n)););return n}function Go(t){return u[t]}var Zo=function t(n){var O=(n=n?Zo.defaults(Lo.Object(),n,Zo.pick(Lo,Oo)):Lo).Array,e=n.Date,r=n.Error,g=n.Function,i=n.Math,o=n.Number,p=n.Object,y=n.RegExp,a=n.String,_=n.TypeError,u=O.prototype,s=p.prototype,c=a.prototype,l=g.prototype.toString,m=s.hasOwnProperty,f=0,w=s.toString,h=Lo._,d=y("^"+l.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=n.ArrayBuffer,b=n.clearTimeout,k=n.parseFloat,x=i.pow,I=s.propertyIsEnumerable,S=Rn(n,"Set"),j=n.setTimeout,T=u.splice,A=n.Uint8Array,C=Rn(n,"WeakMap"),P=i.ceil,M=Rn(p,"create"),L=i.floor,$=Rn(O,"isArray"),E=n.isFinite,N=Rn(p,"keys"),D=i.max,R=i.min,F=Rn(e,"now"),W=n.parseInt,z=i.random,U=o.NEGATIVE_INFINITY,B=o.POSITIVE_INFINITY,q=4294967295,Q=q-1,H=q>>>1,J=9007199254740991,K=C&&new C,V={};function Y(t){if(Jo(t)&&!pr(t)&&!(t instanceof X)){if(t instanceof Z)return t;if(m.call(t,"__chain__")&&m.call(t,"__wrapped__"))return ee(t)}return new Z(t)}function G(){}function Z(t,n,e){this.__wrapped__=t,this.__actions__=e||[],this.__chain__=!!n}Y.support={};function X(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function tt(){this.__data__={}}function nt(t){var n=t?t.length:0;for(this.data={hash:M(null),set:new S};n--;)this.push(t[n])}function et(t,n){var e=t.data;return("string"==typeof n||gr(n)?e.set.has(n):e.hash[n])?0:-1}function rt(t,n){var e=-1,r=t.length;for(n=n||O(r);++e<r;)n[e]=t[e];return n}function it(t,n){for(var e=-1,r=t.length;++e<r&&!1!==n(t[e],e,t););return t}function ot(t,n){for(var e=-1,r=t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function at(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[++i]=a)}return o}function ut(t,n){for(var e=-1,r=t.length,i=O(r);++e<r;)i[e]=n(t[e],e,t);return i}function st(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function ct(t,n,e,r){var i=-1,o=t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function lt(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function ft(t,n,e,r){return t!==gi&&m.call(r,e)?t:n}function pt(t,n,e){for(var r=-1,i=Dr(n),o=i.length;++r<o;){var a=i[r],u=t[a],s=e(u,n[a],a,t,n);(s==s?s===u:u!=u)&&(u!==gi||a in t)||(t[a]=s)}return t}function ht(t,n){return null==n?t:vt(n,Dr(n),t)}function dt(t,n){for(var e=-1,r=null==t,i=!r&&Wn(t),o=i?t.length:0,a=n.length,u=O(a);++e<a;){var s=n[e];u[e]=i?zn(s,o)?t[s]:gi:r?gi:t[s]}return u}function vt(t,n,e){e=e||{};for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}function gt(t,n,e){var r=typeof t;return"function"==r?n===gi?t:tn(t,n,e):null==t?ri:"object"==r?Rt(t):n===gi?ci(t):Ft(t,n)}function yt(e,r,i,t,n,o,a){var u;if(i&&(u=n?i(e,t,n):i(e)),u!==gi)return u;if(!gr(e))return e;var s=pr(e);if(s){if(u=function(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&m.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(e),!r)return rt(e,u)}else{var c=w.call(e),l=c==zi;if(c!=Bi&&c!=Ni&&(!l||n))return Mo[c]?function(t,n,e){var r=t.constructor;switch(n){case Hi:return nn(t);case Ri:case Fi:return new r(+t);case Ji:case Ki:case Vi:case Yi:case Gi:case Zi:case Xi:case to:case no:var i=t.buffer;return new r(e?nn(i):i,t.byteOffset,t.length);case Ui:case Qi:return new r(t);case qi:var o=new r(t.source,bo.exec(t));o.lastIndex=t.lastIndex}return o}(e,c,r):n?e:{};if(u=function(t){var n=t.constructor;return"function"==typeof n&&n instanceof n||(n=p),new n}(l?{}:e),!r)return ht(u,e)}a=a||[];for(var f=(o=o||[]).length;f--;)if(o[f]==e)return a[f];return o.push(e),a.push(u),(s?it:Pt)(e,function(t,n){u[n]=yt(t,r,i,n,e,o,a)}),u}Y.templateSettings={escape:co,evaluate:lo,interpolate:fo,variable:"",imports:{_:Y}};var _t=function(t){if(gr(t)){mt.prototype=t;var n=new mt;mt.prototype=gi}return n||{}};function mt(){}function wt(t,n,e){if("function"!=typeof t)throw new _($i);return j(function(){t.apply(gi,e)},n)}function bt(t,n){var e=t?t.length:0,r=[];if(!e)return r;var i=-1,o=En(),a=o==No,u=a&&n.length>=Pi?cn(n):null,s=n.length;u&&(o=et,a=!1,n=u);t:for(;++i<e;){var c=t[i];if(a&&c==c){for(var l=s;l--;)if(n[l]===c)continue t;r.push(c)}else o(n,c,0)<0&&r.push(c)}return r}var kt=un(Pt),xt=un(Mt,!0);function It(t,r){var i=!0;return kt(t,function(t,n,e){return i=!!r(t,n,e)}),i}function St(t,r){var i=[];return kt(t,function(t,n,e){r(t,n,e)&&i.push(t)}),i}function jt(t,r,n,i){var o;return n(t,function(t,n,e){if(r(t,n,e))return o=i?n:t,!1}),o}function Tt(t,n,e,r){r=r||[];for(var i=-1,o=t.length;++i<o;){var a=t[i];Jo(a)&&Wn(a)&&(e||pr(a)||fr(a))?n?Tt(a,n,e,r):st(r,a):e||(r[r.length]=a)}return r}var At=sn(),Ot=sn(!0);function Ct(t,n){return At(t,n,Rr)}function Pt(t,n){return At(t,n,Dr)}function Mt(t,n){return Ot(t,n,Dr)}function Lt(t,n){for(var e=-1,r=n.length,i=-1,o=[];++e<r;){var a=n[e];vr(t[a])&&(o[++i]=a)}return o}function $t(t,n,e){if(null!=t){e!==gi&&e in te(t)&&(n=[e]);for(var r=0,i=n.length;null!=t&&r<i;)t=t[n[r++]];return r&&r==i?t:gi}}function Et(t,n,e,r,i,o){return t===n||(null==t||null==n||!gr(t)&&!Jo(n)?t!=t&&n!=n:function(t,n,e,r,i,o,a){var u=pr(t),s=pr(n),c=Di,l=Di;u||((c=w.call(t))==Ni?c=Bi:c!=Bi&&(u=kr(t))),s||((l=w.call(n))==Ni?l=Bi:l!=Bi&&(s=kr(n)));var f=c==Bi,p=l==Bi,h=c==l;if(h&&!u&&!f)return function(t,n,e){switch(e){case Ri:case Fi:return+t==+n;case Wi:return t.name==n.name&&t.message==n.message;case Ui:return t!=+t?n!=+n:t==+n;case qi:case Qi:return t==n+""}return!1}(t,n,c);if(!i){var d=f&&m.call(t,"__wrapped__"),v=p&&m.call(n,"__wrapped__");if(d||v)return e(d?t.value():t,v?n.value():n,r,i,o,a)}if(!h)return!1;a=a||[];for(var g=(o=o||[]).length;g--;)if(o[g]==t)return a[g]==n;o.push(t),a.push(n);var y=(u?function(t,n,e,r,i,o,a){var u=-1,s=t.length,c=n.length;if(s!=c&&!(i&&s<c))return!1;for(;++u<s;){var l=t[u],f=n[u],p=r?r(i?f:l,i?l:f,u):gi;if(p!==gi){if(p)continue;return!1}if(i){if(!lt(n,function(t){return l===t||e(l,t,r,i,o,a)}))return!1}else if(l!==f&&!e(l,f,r,i,o,a))return!1}return!0}:function(t,n,e,r,i,o,a){var u=Dr(t),s=u.length,c=Dr(n).length;if(s!=c&&!i)return!1;for(var l=s;l--;){var f=u[l];if(!(i?f in n:m.call(n,f)))return!1}for(var p=i;++l<s;){f=u[l];var h=t[f],d=n[f],v=r?r(i?d:h,i?h:d,f):gi;if(!(v===gi?e(h,d,r,i,o,a):v))return!1;p=p||"constructor"==f}if(!p){var g=t.constructor,y=n.constructor;if(g!=y&&"constructor"in t&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0})(t,n,e,r,i,o,a);return o.pop(),a.pop(),y}(t,n,Et,e,r,i,o))}function Nt(t,n,e){var r=n.length,i=r,o=!e;if(null==t)return!i;for(t=te(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){var u=(a=n[r])[0],s=t[u],c=a[1];if(o&&a[2]){if(s===gi&&!(u in t))return!1}else{var l=e?e(s,c,u):gi;if(!(l===gi?Et(c,s,e,!0):l))return!1}}return!0}function Dt(t,r){var i=-1,o=Wn(t)?O(t.length):[];return kt(t,function(t,n,e){o[++i]=r(t,n,e)}),o}function Rt(t){var n=Dn(t);if(1==n.length&&n[0][2]){var e=n[0][0],r=n[0][1];return function(t){return null!=t&&t[e]===r&&(r!==gi||e in te(t))}}return function(t){return Nt(t,n)}}function Ft(e,r){var i=pr(e),o=Bn(e)&&Hn(r),a=e+"";return e=ne(e),function(t){if(null==t)return!1;var n=a;if(t=te(t),(i||!o)&&!(n in t)){if(null==(t=1==e.length?t:$t(t,qt(e,0,-1))))return!1;n=fe(e),t=te(t)}return t[n]===r?r!==gi||n in t:Et(r,t[n],gi,!0)}}function Wt(n){return function(t){return null==t?gi:t[n]}}function zt(t,n){for(var e=t?n.length:0;e--;){var r=n[e];if(r!=i&&zn(r)){var i=r;T.call(t,r,1)}}return t}function Ut(t,n){return t+L(z()*(n-t+1))}var Bt=K?function(t,n){return K.set(t,n),t}:ri;function qt(t,n,e){var r=-1,i=t.length;(n=null!=n&&+n||0)<0&&(n=i<-n?0:i+n),(e=e===gi||i<e?i:+e||0)<0&&(e+=i),i=e<n?0:e-n>>>0,n>>>=0;for(var o=O(i);++r<i;)o[r]=t[r+n];return o}function Qt(t,r){var i;return kt(t,function(t,n,e){return!(i=r(t,n,e))}),!!i}function Ht(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}function Jt(t,e,r){var n=Mn(),i=-1;return e=ut(e,function(t){return n(t)}),Ht(Dt(t,function(n){return{criteria:ut(e,function(t){return t(n)}),index:++i,value:n}}),function(t,n){return function(t,n,e){for(var r=-1,i=t.criteria,o=n.criteria,a=i.length,u=e.length;++r<a;){var s=$o(i[r],o[r]);if(s){if(u<=r)return s;var c=e[r];return s*("asc"===c||!0===c?1:-1)}}return t.index-n.index}(t,n,r)})}function Kt(t,n){var e=-1,r=En(),i=t.length,o=r==No,a=o&&Pi<=i,u=a?cn():null,s=[];u?(r=et,o=!1):(a=!1,u=n?[]:s);t:for(;++e<i;){var c=t[e],l=n?n(c,e,t):c;if(o&&c==c){for(var f=u.length;f--;)if(u[f]===l)continue t;n&&u.push(l),s.push(c)}else r(u,l,0)<0&&((n||a)&&u.push(l),s.push(c))}return s}function Vt(t,n){for(var e=-1,r=n.length,i=O(r);++e<r;)i[e]=t[n[e]];return i}function Yt(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?qt(t,r?0:o,r?o+1:i):qt(t,r?o+1:0,r?i:o)}function Gt(t,n){var e=t;e instanceof X&&(e=e.value());for(var r=-1,i=n.length;++r<i;){var o=n[r];e=o.func.apply(o.thisArg,st([e],o.args))}return e}function Zt(t,n,e){var r=0,i=t?t.length:r;if("number"==typeof n&&n==n&&i<=H){for(;r<i;){var o=r+i>>>1,a=t[o];(e?a<=n:a<n)&&null!==a?r=1+o:i=o}return i}return Xt(t,n,ri,e)}function Xt(t,n,e,r){n=e(n);for(var i=0,o=t?t.length:0,a=n!=n,u=null===n,s=n===gi;i<o;){var c=L((i+o)/2),l=e(t[c]),f=l!==gi,p=l==l;if(a)var h=p||r;else h=u?p&&f&&(r||null!=l):s?p&&(r||f):null!=l&&(r?l<=n:l<n);h?i=c+1:o=c}return R(o,Q)}function tn(o,a,t){if("function"!=typeof o)return ri;if(a===gi)return o;switch(t){case 1:return function(t){return o.call(a,t)};case 3:return function(t,n,e){return o.call(a,t,n,e)};case 4:return function(t,n,e,r){return o.call(a,t,n,e,r)};case 5:return function(t,n,e,r,i){return o.call(a,t,n,e,r,i)}}return function(){return o.apply(a,arguments)}}function nn(t){var n=new v(t.byteLength);return new A(n).set(new A(t)),n}function en(t,n,e){for(var r=e.length,i=-1,o=D(t.length-r,0),a=-1,u=n.length,s=O(u+o);++a<u;)s[a]=n[a];for(;++i<r;)s[e[i]]=t[i];for(;o--;)s[a++]=t[i++];return s}function rn(t,n,e){for(var r=-1,i=e.length,o=-1,a=D(t.length-i,0),u=-1,s=n.length,c=O(a+s);++o<a;)c[o]=t[o];for(var l=o;++u<s;)c[l+u]=n[u];for(;++r<i;)c[l+e[r]]=t[o++];return c}function on(u,s){return function(t,r,n){var i=s?s():{};if(r=Mn(r,n,3),pr(t))for(var e=-1,o=t.length;++e<o;){var a=t[e];u(i,a,r(a,e,t),t)}else kt(t,function(t,n,e){u(i,t,r(t,n,e),e)});return i}}function an(s){return cr(function(t,n){var e=-1,r=null==t?0:n.length,i=2<r?n[r-2]:gi,o=2<r?n[2]:gi,a=1<r?n[r-1]:gi;for("function"==typeof i?(i=tn(i,a,5),r-=2):r-=(i="function"==typeof a?a:gi)?1:0,o&&Un(n[0],n[1],o)&&(i=r<3?gi:i,r=1);++e<r;){var u=n[e];u&&s(t,u,i)}return t})}function un(o,a){return function(t,n){var e=t?Nn(t):0;if(!Qn(e))return o(t,n);for(var r=a?e:-1,i=te(t);(a?r--:++r<e)&&!1!==n(i[r],r,i););return t}}function sn(s){return function(t,n,e){for(var r=te(t),i=e(t),o=i.length,a=s?o:-1;s?a--:++a<o;){var u=i[a];if(!1===n(r[u],u,r))break}return t}}function cn(t){return M&&S?new nt(t):null}function ln(o){return function(t){for(var n=-1,e=ti(Hr(t)),r=e.length,i="";++n<r;)i=o(i,e[n],n);return i}}function fn(r){return function(){var t=arguments;switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=_t(r.prototype),e=r.apply(n,t);return gr(e)?e:n}}function pn(o){return function t(n,e,r){r&&Un(n,e,r)&&(e=gi);var i=Pn(n,o,gi,gi,gi,gi,gi,e);return i.placeholder=t.placeholder,i}}function hn(e,r){return cr(function(t){var n=t[0];return null==n?n:(t.push(r),e.apply(gi,t))})}function dn(c,l){return function(t,n,e){if(e&&Un(t,n,e)&&(n=gi),1==(n=Mn(n,e,3)).length){var r=function(t,n,e,r){for(var i=-1,o=t.length,a=r,u=a;++i<o;){var s=t[i],c=+n(s);e(c,a)&&(a=c,u=s)}return u}(t=pr(t)?t:Xn(t),n,c,l);if(!t.length||r!==l)return r}return i=n,o=c,s=u=a=l,kt(t,function(t,n,e){var r=+i(t,n,e);(o(r,u)||r===a&&r===s)&&(u=r,s=t)}),s;var i,o,a,u,s}}function vn(i,o){return function(t,n,e){if(n=Mn(n,e,3),pr(t)){var r=Eo(t,n,o);return-1<r?t[r]:gi}return jt(t,n,i)}}function gn(r){return function(t,n,e){return t&&t.length?Eo(t,n=Mn(n,e,3),r):-1}}function yn(r){return function(t,n,e){return jt(t,n=Mn(n,e,3),r,!0)}}function _n(s){return function(){for(var i,o=arguments.length,t=s?o:-1,n=0,a=O(o);s?t--:++t<o;){var e=a[n++]=arguments[t];if("function"!=typeof e)throw new _($i);!i&&Z.prototype.thru&&"wrapper"==$n(e)&&(i=new Z([],!0))}for(t=i?-1:o;++t<o;){var r=$n(e=a[t]),u="wrapper"==r?Ln(e):gi;i=u&&qn(u[0])&&u[1]==(Si|bi|xi|ji)&&!u[4].length&&1==u[9]?i[$n(u[0])].apply(i,u[3]):1==e.length&&qn(e)?i[r]():i.thru(e)}return function(){var t=arguments,n=t[0];if(i&&1==t.length&&pr(n)&&n.length>=Pi)return i.plant(n).value();for(var e=0,r=o?a[e].apply(this,t):n;++e<o;)r=a[e].call(this,r);return r}}}function mn(r,i){return function(t,n,e){return"function"==typeof n&&e===gi&&pr(t)?r(t,n):i(t,tn(n,e,3))}}function wn(r){return function(t,n,e){return"function"==typeof n&&e===gi||(n=tn(n,e,3)),r(t,n,Rr)}}function bn(r){return function(t,n,e){return"function"==typeof n&&e===gi||(n=tn(n,e,3)),r(t,n)}}function kn(a){return function(t,i,n){var o={};return i=Mn(i,n,3),Pt(t,function(t,n,e){var r=i(t,n,e);t=a?t:r,o[n=a?r:n]=t}),o}}function xn(r){return function(t,n,e){return t=Ro(t),(r?t:"")+Tn(t,n,e)+(r?"":t)}}function In(r){var i=cr(function(t,n){var e=Ko(n,i.placeholder);return Pn(t,r,gi,n,e)});return i}function Sn(c,l){return function(t,n,e,r){var i,o,a,u,s=arguments.length<3;return"function"==typeof n&&r===gi&&pr(t)?c(t,n,e,s):(i=t,o=Mn(n,r,4),a=e,u=s,l(i,function(t,n,e){a=u?(u=!1,t):o(a,t,n,e)}),a)}}function jn(p,h,d,v,g,y,_,m,w,b){var k=h&Si,x=h&_i,I=h&mi,S=h&bi,j=h&wi,T=h&ki,A=I?gi:fn(p);return function t(){for(var n=arguments.length,e=n,r=O(n);e--;)r[e]=arguments[e];if(v&&(r=en(r,v,g)),y&&(r=rn(r,y,_)),S||T){var i=t.placeholder,o=Ko(r,i);if((n-=o.length)<b){var a=m?rt(m):gi,u=D(b-n,0);h|=S?xi:Ii,h&=~(S?Ii:xi),j||(h&=~(_i|mi));var s=[p,h,d,S?r:gi,S?o:gi,S?gi:r,S?gi:o,a,w,u],c=jn.apply(gi,s);return qn(p)&&Gn(c,s),c.placeholder=i,c}}var l=x?d:this,f=I?l[p]:p;return m&&(r=function(t,n){for(var e=t.length,r=R(n.length,e),i=rt(t);r--;){var o=n[r];t[r]=zn(o,e)?i[o]:gi}return t}(r,m)),k&&w<r.length&&(r.length=w),this&&this!==Lo&&this instanceof t&&(f=A||fn(p)),f.apply(l,r)}}function Tn(t,n,e){var r=t.length;if((n=+n)<=r||!E(n))return"";var i=n-r;return Yr(e=null==e?" ":e+"",P(i/e.length)).slice(0,i)}function An(a,t,u,s){var c=t&_i,l=fn(a);return function t(){for(var n=-1,e=arguments.length,r=-1,i=s.length,o=O(i+e);++r<i;)o[r]=s[r];for(;e--;)o[r++]=arguments[++n];return(this&&this!==Lo&&this instanceof t?l:a).apply(c?u:this,o)}}function On(t){var e=i[t];return function(t,n){return(n=n!==gi&&+n||0)?(n=x(10,n),e(t*n)/n):e(t)}}function Cn(o){return function(t,n,e,r){var i=Mn(e);return null==e&&i===gt?Zt(t,n,o):Xt(t,n,i(e,r,1),o)}}function Pn(t,n,e,r,i,o,a,u){var s=n&mi;if(!s&&"function"!=typeof t)throw new _($i);var c=r?r.length:0;if(c||(n&=~(xi|Ii),r=i=gi),c-=i?i.length:0,n&Ii){var l=r,f=i;r=i=gi}var p,h,d,v=s?gi:Ln(t),g=[t,n,e,r,i,l,f,o,a,u];if(v&&(function(t,n){var e=t[1],r=n[1],i=e|r,o=i<Si,a=r==Si&&e==bi||r==Si&&e==ji&&t[7].length<=n[8]||r==(Si|ji)&&e==bi;if(o||a){r&_i&&(t[2]=n[2],i|=e&_i?0:wi);var u=n[3];if(u){var s=t[3];t[3]=s?en(s,u,n[4]):rt(u),t[4]=s?Ko(t[3],Ei):rt(n[4])}(u=n[5])&&(s=t[5],t[5]=s?rn(s,u,n[6]):rt(u),t[6]=s?Ko(t[5],Ei):rt(n[6])),(u=n[7])&&(t[7]=rt(u)),r&Si&&(t[8]=null==t[8]?n[8]:R(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i}}(g,v),n=g[1],u=g[9]),g[9]=null==u?s?0:t.length:D(u-c,0)||0,n==_i)var y=(p=g[0],h=g[2],d=fn(p),function t(){return(this&&this!==Lo&&this instanceof t?d:p).apply(h,arguments)});else y=n!=xi&&n!=(_i|xi)||g[4].length?jn.apply(gi,g):An.apply(gi,g);return(v?Bt:Gn)(y,g)}function Mn(t,n,e){var r=Y.callback||ei;return r=r===ei?gt:r,e?r(t,n,e):r}var Ln=K?function(t){return K.get(t)}:si;function $n(t){for(var n=t.name,e=V[n],r=e?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function En(t,n,e){var r=Y.indexOf||ce;return r=r===ce?No:r,t?r(t,n,e):r}var Nn=Wt("length");function Dn(t){for(var n=Ur(t),e=n.length;e--;)n[e][2]=Hn(n[e][1]);return n}function Rn(t,n){var e=null==t?gi:t[n];return yr(e)?e:gi}function Fn(t,n,e){null==t||Bn(n,t)||(t=1==(n=ne(n)).length?t:$t(t,qt(n,0,-1)),n=fe(n));var r=null==t?t:t[n];return null==r?gi:r.apply(t,e)}function Wn(t){return null!=t&&Qn(Nn(t))}function zn(t,n){return t="number"==typeof t||Io.test(t)?+t:-1,n=null==n?J:n,-1<t&&t%1==0&&t<n}function Un(t,n,e){if(gr(e)){var r=typeof n;if("number"==r?Wn(e)&&zn(n,e.length):"string"==r&&n in e){var i=e[n];return t==t?t===i:i!=i}}}function Bn(t,n){var e=typeof t;return!!("string"==e&&ho.test(t)||"number"==e)||!pr(t)&&(!po.test(t)||null!=n&&t in te(n))}function qn(t){var n=$n(t);if(n in X.prototype){var e=Y[n];if(t===e)return 1;var r=Ln(e);return r&&t===r[0]}}function Qn(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=J}function Hn(t){return t==t&&!gr(t)}function Jn(t,n){t=te(t);for(var e=-1,r=n.length,i={};++e<r;){var o=n[e];o in t&&(i[o]=t[o])}return i}function Kn(t,r){var i={};return Ct(t,function(t,n,e){r(t,n,e)&&(i[n]=t)}),i}var Vn,Yn,Gn=(Yn=Vn=0,function(t,n){var e=He(),r=Ci-(e-Yn);if(Yn=e,0<r){if(++Vn>=Oi)return t}else Vn=0;return Bt(t,n)});function Zn(t){for(var n=Rr(t),e=n.length,r=e&&t.length,i=!!r&&Qn(r)&&(pr(t)||fr(t)),o=-1,a=[];++o<e;){var u=n[o];(i&&zn(u,r)||m.call(t,u))&&a.push(u)}return a}function Xn(t){return null==t?[]:Wn(t)?gr(t)?t:p(t):qr(t)}function te(t){return gr(t)?t:p(t)}function ne(t){if(pr(t))return t;var i=[];return Ro(t).replace(vo,function(t,n,e,r){i.push(e?r.replace(mo,"$1"):n||t)}),i}function ee(t){return t instanceof X?t.clone():new Z(t.__wrapped__,t.__chain__,rt(t.__actions__))}var re=cr(function(t,n){return Jo(t)&&Wn(t)?bt(t,Tt(n,!1,!0)):[]});function ie(t,n,e){return t&&t.length?((e?Un(t,n,e):null==n)&&(n=1),qt(t,n<0?0:n)):[]}function oe(t,n,e){var r=t?t.length:0;return r?((e?Un(t,n,e):null==n)&&(n=1),qt(t,0,(n=r-(+n||0))<0?0:n)):[]}var ae=gn(),ue=gn(!0);function se(t){return t?t[0]:gi}function ce(t,n,e){var r=t?t.length:0;if(!r)return-1;if("number"==typeof e)e=e<0?D(r+e,0):e;else if(e){var i=Zt(t,n);return i<r&&(n==n?n===t[i]:t[i]!=t[i])?i:-1}return No(t,n,e||0)}var le=cr(function(t){for(var n=t.length,e=n,r=O(l),i=En(),o=i==No,a=[];e--;){var u=t[e]=Wn(u=t[e])?u:[];r[e]=o&&120<=u.length?cn(e&&u):null}var s=t[0],c=-1,l=s?s.length:0,f=r[0];t:for(;++c<l;)if(u=s[c],(f?et(f,u):i(a,u,0))<0){for(e=n;--e;){var p=r[e];if((p?et(p,u):i(t[e],u,0))<0)continue t}f&&f.push(u),a.push(u)}return a});function fe(t){var n=t?t.length:0;return n?t[n-1]:gi}var pe=cr(function(t,n){var e=dt(t,n=Tt(n));return zt(t,n.sort($o)),e});function he(t){return ie(t,1)}var de=Cn(),ve=Cn(!0);var ge=cr(function(t){return Kt(Tt(t,!1,!0))});function ye(t,n,e,r){if(!t||!t.length)return[];null!=n&&"boolean"!=typeof n&&(e=Un(t,n,r=e)?gi:n,n=!1);var i=Mn();return null==e&&i===gt||(e=i(e,r,3)),(n&&En()==No?function(t,n){for(var e,r=-1,i=t.length,o=-1,a=[];++r<i;){var u=t[r],s=n?n(u,r,t):u;r&&e===s||(e=s,a[++o]=u)}return a}:Kt)(t,e)}function _e(t){if(!t||!t.length)return[];var n=-1,e=0;t=at(t,function(t){return Wn(t)&&(e=D(t.length,e),1)});for(var r=O(e);++n<e;)r[n]=ut(t,Wt(n));return r}function me(t,n,e){if(!t||!t.length)return[];var r=_e(t);return null==n?r:(n=tn(n,e,4),ut(r,function(t){return ct(t,n,gi,!0)}))}var we=cr(function(t,n){return Wn(t)?bt(t,n):[]});var be=cr(_e);function ke(t,n){var e=-1,r=t?t.length:0,i={};for(!r||n||pr(t[0])||(n=[]);++e<r;){var o=t[e];n?i[o]=n[e]:o&&(i[o[0]]=o[1])}return i}var xe=cr(function(t){var n=t.length,e=2<n?t[n-2]:gi,r=1<n?t[n-1]:gi;return 2<n&&"function"==typeof e?n-=2:(e=1<n&&"function"==typeof r?(--n,r):gi,r=gi),t.length=n,me(t,e,r)});function Ie(t){var n=Y(t);return n.__chain__=!0,n}function Se(t,n,e){return n.call(e,t)}var je=cr(function(n){return n=Tt(n),this.thru(function(t){return function(t,n){for(var e=-1,r=t.length,i=-1,o=n.length,a=O(r+o);++e<r;)a[e]=t[e];for(;++i<o;)a[e++]=n[i];return a}(pr(t)?t:[te(t)],n)})});var Te=cr(function(t,n){return dt(t,Tt(n))}),Ae=on(function(t,n,e){m.call(t,e)?++t[e]:t[e]=1});function Oe(t,n,e){var r=pr(t)?ot:It;return e&&Un(t,n,e)&&(n=gi),"function"==typeof n&&e===gi||(n=Mn(n,e,3)),r(t,n)}function Ce(t,n,e){return(pr(t)?at:St)(t,n=Mn(n,e,3))}var Pe=vn(kt),Me=vn(xt,!0);var Le=mn(it,kt),$e=mn(function(t,n){for(var e=t.length;e--&&!1!==n(t[e],e,t););return t},xt),Ee=on(function(t,n,e){m.call(t,e)?t[e].push(n):t[e]=[n]});function Ne(t,n,e,r){var i=t?Nn(t):0;return Qn(i)||(i=(t=qr(t)).length),e="number"!=typeof e||r&&Un(n,e,r)?0:e<0?D(i+e,0):e||0,"string"==typeof t||!pr(t)&&br(t)?e<=i&&-1<t.indexOf(n,e):!!i&&-1<En(t,n,e)}var De=on(function(t,n,e){t[e]=n}),Re=cr(function(t,e,r){var i=-1,o="function"==typeof e,a=Bn(e),u=Wn(t)?O(t.length):[];return kt(t,function(t){var n=o?e:a&&null!=t?t[e]:gi;u[++i]=n?n.apply(t,r):Fn(t,e,r)}),u});function Fe(t,n,e){return(pr(t)?ut:Dt)(t,n=Mn(n,e,3))}var We=on(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]});var ze=Sn(ct,kt),Ue=Sn(function(t,n,e,r){var i=t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e},xt);function Be(t,n,e){if(e?Un(t,n,e):null==n)return 0<(r=(t=Xn(t)).length)?t[Ut(0,r-1)]:gi;var r,i=-1,o=Ir(t),a=(r=o.length)-1;for(n=R(!(n<0)&&+n||0,r);++i<n;){var u=Ut(i,a),s=o[u];o[u]=o[i],o[i]=s}return o.length=n,o}function qe(t,n,e){var r=pr(t)?lt:Qt;return e&&Un(t,n,e)&&(n=gi),"function"==typeof n&&e===gi||(n=Mn(n,e,3)),r(t,n)}var Qe=cr(function(t,n){if(null==t)return[];var e=n[2];return e&&Un(n[0],n[1],e)&&(n.length=1),Jt(t,Tt(n),[])});var He=F||function(){return(new e).getTime()};function Je(t,n){var e;if("function"!=typeof n){if("function"!=typeof t)throw new _($i);var r=t;t=n,n=r}return function(){return 0<--t&&(e=n.apply(this,arguments)),t<=1&&(n=gi),e}}var Ke=cr(function(t,n,e){var r=_i;if(e.length){var i=Ko(e,Ke.placeholder);r|=xi}return Pn(t,r,n,e,i)}),Ve=cr(function(t,n){for(var e=-1,r=(n=n.length?Tt(n):Nr(t)).length;++e<r;){var i=n[e];t[i]=Pn(t[i],_i,t)}return t}),Ye=cr(function(t,n,e){var r=_i|mi;if(e.length){var i=Ko(e,Ye.placeholder);r|=xi}return Pn(n,r,t,e,i)}),Ge=pn(bi),Ze=pn(ki);function Xe(r,i,t){var o,a,u,s,c,l,f,p=0,h=!1,d=!0;if("function"!=typeof r)throw new _($i);if(i=!(i<0)&&+i||0,!0===t){var v=!0;d=!1}else gr(t)&&(v=!!t.leading,h="maxWait"in t&&D(+t.maxWait||0,i),d="trailing"in t?!!t.trailing:d);function n(t,n){n&&b(n),a=l=f=gi,t&&(p=He(),u=r.apply(c,o),l||a||(o=c=gi))}function g(){var t=i-(He()-s);t<=0||i<t?n(f,a):l=j(g,t)}function y(){n(d,l)}function e(){if(o=arguments,s=He(),c=this,f=d&&(l||!v),!1===h)var t=v&&!l;else{a||v||(p=s);var n=h-(s-p),e=n<=0||h<n;e?(a=a&&b(a),p=s,u=r.apply(c,o)):a=a||j(y,n)}return e&&l?l=b(l):l||i===h||(l=j(g,i)),t&&(e=!0,u=r.apply(c,o)),!e||l||a||(o=c=gi),u}return e.cancel=function(){l&&b(l),a&&b(a),p=0,a=l=f=gi},e}var tr=cr(function(t,n){return wt(t,1,n)}),nr=cr(function(t,n,e){return wt(t,n,e)}),er=_n(),rr=_n(!0);function ir(i,o){if("function"!=typeof i||o&&"function"!=typeof o)throw new _($i);var a=function(){var t=arguments,n=o?o.apply(this,t):t[0],e=a.cache;if(e.has(n))return e.get(n);var r=i.apply(this,t);return a.cache=e.set(n,r),r};return a.cache=new ir.Cache,a}var or=cr(function(e,r){if(r=Tt(r),"function"!=typeof e||!ot(r,Do))throw new _($i);var i=r.length;return cr(function(t){for(var n=R(t.length,i);n--;)t[n]=r[n](t[n]);return e.apply(this,t)})});var ar=In(xi),ur=In(Ii),sr=cr(function(t,n){return Pn(t,ji,gi,gi,gi,Tt(n))});function cr(o,a){if("function"!=typeof o)throw new _($i);return a=D(a===gi?o.length-1:+a||0,0),function(){for(var t=arguments,n=-1,e=D(t.length-a,0),r=O(e);++n<e;)r[n]=t[a+n];switch(a){case 0:return o.call(this,r);case 1:return o.call(this,t[0],r);case 2:return o.call(this,t[0],t[1],r)}var i=O(a+1);for(n=-1;++n<a;)i[n]=t[n];return i[a]=r,o.apply(this,i)}}function lr(t,n){return n<t}function fr(t){return Jo(t)&&Wn(t)&&m.call(t,"callee")&&!I.call(t,"callee")}var pr=$||function(t){return Jo(t)&&Qn(t.length)&&w.call(t)==Di};function hr(t,n,e,r){var i=(e="function"==typeof e?tn(e,r,3):gi)?e(t,n):gi;return i===gi?Et(t,n,e):!!i}function dr(t){return Jo(t)&&"string"==typeof t.message&&w.call(t)==Wi}function vr(t){return gr(t)&&w.call(t)==zi}function gr(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function yr(t){return null!=t&&(vr(t)?d.test(l.call(t)):Jo(t)&&xo.test(t))}function _r(t){return"number"==typeof t||Jo(t)&&w.call(t)==Ui}function mr(t){var n,e;return!(!Jo(t)||w.call(t)!=Bi||fr(t)||!(m.call(t,"constructor")||"function"!=typeof(n=t.constructor)||n instanceof n))&&(Ct(t,function(t,n){e=n}),e===gi||m.call(t,e))}function wr(t){return gr(t)&&w.call(t)==qi}function br(t){return"string"==typeof t||Jo(t)&&w.call(t)==Qi}function kr(t){return Jo(t)&&Qn(t.length)&&!!Po[w.call(t)]}function xr(t,n){return t<n}function Ir(t){var n=t?Nn(t):0;return Qn(n)?n?rt(t):[]:qr(t)}function Sr(t){return vt(t,Rr(t))}var jr=an(function o(a,u,s,c,l){if(!gr(a))return a;var f=Wn(u)&&(pr(u)||kr(u)),p=f?gi:Dr(u);return it(p||u,function(t,n){if(p&&(t=u[n=t]),Jo(t))!function(t,n,e,r,i,o,a){for(var u=o.length,s=n[e];u--;)if(o[u]==s)return t[e]=a[u];var c=t[e],l=i?i(c,s,e,t,n):gi,f=l===gi;f&&(Wn(l=s)&&(pr(s)||kr(s))?l=pr(c)?c:Wn(c)?rt(c):[]:mr(s)||fr(s)?l=fr(c)?Sr(c):mr(c)?c:{}:f=!1),o.push(s),a.push(l),f?t[e]=r(l,s,i,o,a):(l==l?l!==c:c==c)&&(t[e]=l)}(a,u,n,o,s,c=c||[],l=l||[]);else{var e=a[n],r=s?s(e,t,n,a,u):gi,i=r===gi;i&&(r=t),r===gi&&(!f||n in a)||!i&&(r==r?r===e:e!=e)||(a[n]=r)}}),a}),Tr=an(function(t,n,e){return e?pt(t,n,e):ht(t,n)});var Ar=hn(Tr,function(t,n){return t===gi?n:t}),Or=hn(jr,function t(n,e){return n===gi?e:jr(n,e,t)}),Cr=yn(Pt),Pr=yn(Mt),Mr=wn(At),Lr=wn(Ot),$r=bn(Pt),Er=bn(Mt);function Nr(t){return Lt(t,Rr(t))}var Dr=N?function(t){var n=null==t?gi:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&Wn(t)?Zn(t):gr(t)?N(t):[]}:Zn;function Rr(t){if(null==t)return[];gr(t)||(t=p(t));var n=t.length;n=n&&Qn(n)&&(pr(t)||fr(t))&&n||0;for(var e=t.constructor,r=-1,i="function"==typeof e&&e.prototype===t,o=O(n),a=0<n;++r<n;)o[r]=r+"";for(var u in t)a&&zn(u,n)||"constructor"==u&&(i||!m.call(t,u))||o.push(u);return o}var Fr=kn(!0),Wr=kn(),zr=cr(function(t,n){if(null==t)return{};if("function"!=typeof n[0])return n=ut(Tt(n),a),Jn(t,bt(Rr(t),n));var r=tn(n[0],n[1],3);return Kn(t,function(t,n,e){return!r(t,n,e)})});function Ur(t){t=te(t);for(var n=-1,e=Dr(t),r=e.length,i=O(r);++n<r;){var o=e[n];i[n]=[o,t[o]]}return i}var Br=cr(function(t,n){return null==t?{}:"function"==typeof n[0]?Kn(t,tn(n[0],n[1],3)):Jn(t,Tt(n))});function qr(t){return Vt(t,Dr(t))}var Qr=ln(function(t,n,e){return n=n.toLowerCase(),t+(e?n.charAt(0).toUpperCase()+n.slice(1):n)});function Hr(t){return(t=Ro(t))&&t.replace(So,Uo).replace(_o,"")}var Jr=ln(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()});var Kr=xn(),Vr=xn(!0);function Yr(t,n){var e="";if(t=Ro(t),(n=+n)<1||!t||!E(n))return e;for(;n%2&&(e+=t),t+=t,n=L(n/2););return e}var Gr=ln(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}),Zr=ln(function(t,n,e){return t+(e?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))});function Xr(t,n,e){var r=t;return(t=Ro(t))?(e?Un(r,n,e):null==n)?t.slice(Vo(t),Yo(t)+1):(n+="",t.slice(Fo(t,n),Wo(t,n)+1)):t}function ti(t,n,e){return e&&Un(t,n,e)&&(n=gi),(t=Ro(t)).match(n||Ao)||[]}var ni=cr(function(t,n){try{return t.apply(gi,n)}catch(t){return dr(t)?t:new r(t)}});function ei(t,n,e){return e&&Un(t,n,e)&&(n=gi),Jo(t)?ii(t):gt(t,n)}function ri(t){return t}function ii(t){return Rt(yt(t,!0))}var oi=cr(function(n,e){return function(t){return Fn(t,n,e)}}),ai=cr(function(n,e){return function(t){return Fn(n,t,e)}});function ui(r,t,n){if(null==n){var e=gr(t),i=e?Dr(t):gi,o=i&&i.length?Lt(t,i):gi;(o?o.length:e)||(o=!1,n=t,t=r,r=this)}o=o||Lt(t,Dr(t));var a=!0,u=-1,s=vr(r),c=o.length;!1===n?a=!1:gr(n)&&"chain"in n&&(a=n.chain);for(;++u<c;){var l=o[u],f=t[l];r[l]=f,s&&(r.prototype[l]=function(e){return function(){var t=this.__chain__;if(a||t){var n=r(this.__wrapped__);return(n.__actions__=rt(this.__actions__)).push({func:e,args:arguments,thisArg:r}),n.__chain__=t,n}return e.apply(r,st([this.value()],arguments))}}(f))}return r}function si(){}function ci(t){return Bn(t)?Wt(t):(e=(n=t)+"",n=ne(n),function(t){return $t(t,n,e)});var n,e}var li,fi=On("ceil"),pi=On("floor"),hi=dn(lr,U),di=dn(xr,B),vi=On("round");return Y.prototype=G.prototype,(Z.prototype=_t(G.prototype)).constructor=Z,(X.prototype=_t(G.prototype)).constructor=X,tt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},tt.prototype.get=function(t){return"__proto__"==t?gi:this.__data__[t]},tt.prototype.has=function(t){return"__proto__"!=t&&m.call(this.__data__,t)},tt.prototype.set=function(t,n){return"__proto__"!=t&&(this.__data__[t]=n),this},nt.prototype.push=function(t){var n=this.data;"string"==typeof t||gr(t)?n.set.add(t):n.hash[t]=!0},ir.Cache=tt,Y.after=function(t,n){if("function"!=typeof n){if("function"!=typeof t)throw new _($i);var e=t;t=n,n=e}return t=E(t=+t)?t:0,function(){if(--t<1)return n.apply(this,arguments)}},Y.ary=function(t,n,e){return e&&Un(t,n,e)&&(n=gi),n=t&&null==n?t.length:D(+n||0,0),Pn(t,Si,gi,gi,gi,gi,n)},Y.assign=Tr,Y.at=Te,Y.before=Je,Y.bind=Ke,Y.bindAll=Ve,Y.bindKey=Ye,Y.callback=ei,Y.chain=Ie,Y.chunk=function(t,n,e){n=(e?Un(t,n,e):null==n)?1:D(L(n)||1,1);for(var r=0,i=t?t.length:0,o=-1,a=O(P(i/n));r<i;)a[++o]=qt(t,r,r+=n);return a},Y.compact=function(t){for(var n=-1,e=t?t.length:0,r=-1,i=[];++n<e;){var o=t[n];o&&(i[++r]=o)}return i},Y.constant=function(t){return function(){return t}},Y.countBy=Ae,Y.create=function(t,n,e){var r=_t(t);return e&&Un(t,n,e)&&(n=gi),n?ht(r,n):r},Y.curry=Ge,Y.curryRight=Ze,Y.debounce=Xe,Y.defaults=Ar,Y.defaultsDeep=Or,Y.defer=tr,Y.delay=nr,Y.difference=re,Y.drop=ie,Y.dropRight=oe,Y.dropRightWhile=function(t,n,e){return t&&t.length?Yt(t,Mn(n,e,3),!0,!0):[]},Y.dropWhile=function(t,n,e){return t&&t.length?Yt(t,Mn(n,e,3),!0):[]},Y.fill=function(t,n,e,r){var i=t?t.length:0;return i?(e&&"number"!=typeof e&&Un(t,n,e)&&(e=0,r=i),function(t,n,e,r){var i=t.length;for((e=null!=e&&+e||0)<0&&(e=i<-e?0:i+e),(r=r===gi||i<r?i:+r||0)<0&&(r+=i),i=r<e?0:r>>>0,e>>>=0;e<i;)t[e++]=n;return t}(t,n,e,r)):[]},Y.filter=Ce,Y.flatten=function(t,n,e){var r=t?t.length:0;return e&&Un(t,n,e)&&(n=!1),r?Tt(t,n):[]},Y.flattenDeep=function(t){return t&&t.length?Tt(t,!0):[]},Y.flow=er,Y.flowRight=rr,Y.forEach=Le,Y.forEachRight=$e,Y.forIn=Mr,Y.forInRight=Lr,Y.forOwn=$r,Y.forOwnRight=Er,Y.functions=Nr,Y.groupBy=Ee,Y.indexBy=De,Y.initial=function(t){return oe(t,1)},Y.intersection=le,Y.invert=function(t,n,e){e&&Un(t,n,e)&&(n=gi);for(var r=-1,i=Dr(t),o=i.length,a={};++r<o;){var u=i[r],s=t[u];n?m.call(a,s)?a[s].push(u):a[s]=[u]:a[s]=u}return a},Y.invoke=Re,Y.keys=Dr,Y.keysIn=Rr,Y.map=Fe,Y.mapKeys=Fr,Y.mapValues=Wr,Y.matches=ii,Y.matchesProperty=function(t,n){return Ft(t,yt(n,!0))},Y.memoize=ir,Y.merge=jr,Y.method=oi,Y.methodOf=ai,Y.mixin=ui,Y.modArgs=or,Y.negate=function(t){if("function"!=typeof t)throw new _($i);return function(){return!t.apply(this,arguments)}},Y.omit=zr,Y.once=function(t){return Je(2,t)},Y.pairs=Ur,Y.partial=ar,Y.partialRight=ur,Y.partition=We,Y.pick=Br,Y.pluck=function(t,n){return Fe(t,ci(n))},Y.property=ci,Y.propertyOf=function(n){return function(t){return $t(n,ne(t),t+"")}},Y.pull=function(){var t=arguments,n=t[0];if(!n||!n.length)return n;for(var e=0,r=En(),i=t.length;++e<i;)for(var o=0,a=t[e];-1<(o=r(n,a,o));)T.call(n,o,1);return n},Y.pullAt=pe,Y.range=function(t,n,e){e&&Un(t,n,e)&&(n=e=gi),t=+t||0,null==n?(n=t,t=0):n=+n||0;for(var r=-1,i=D(P((n-t)/((e=null==e?1:+e||0)||1)),0),o=O(i);++r<i;)o[r]=t,t+=e;return o},Y.rearg=sr,Y.reject=function(t,r,n){var e=pr(t)?at:St;return r=Mn(r,n,3),e(t,function(t,n,e){return!r(t,n,e)})},Y.remove=function(t,n,e){var r=[];if(!t||!t.length)return r;var i=-1,o=[],a=t.length;for(n=Mn(n,e,3);++i<a;){var u=t[i];n(u,i,t)&&(r.push(u),o.push(i))}return zt(t,o),r},Y.rest=he,Y.restParam=cr,Y.set=function(t,n,e){if(null==t)return t;for(var r=n+"",i=-1,o=(n=null!=t[r]||Bn(n,t)?[r]:ne(n)).length,a=o-1,u=t;null!=u&&++i<o;){var s=n[i];gr(u)&&(i==a?u[s]=e:null==u[s]&&(u[s]=zn(n[i+1])?[]:{})),u=u[s]}return t},Y.shuffle=function(t){return Be(t,B)},Y.slice=function(t,n,e){var r=t?t.length:0;return r?(e&&"number"!=typeof e&&Un(t,n,e)&&(n=0,e=r),qt(t,n,e)):[]},Y.sortBy=function(t,r,n){if(null==t)return[];n&&Un(t,r,n)&&(r=gi);var i=-1;return r=Mn(r,n,3),Ht(Dt(t,function(t,n,e){return{criteria:r(t,n,e),index:++i,value:t}}),zo)},Y.sortByAll=Qe,Y.sortByOrder=function(t,n,e,r){return null==t?[]:(r&&Un(n,e,r)&&(e=gi),pr(n)||(n=null==n?[]:[n]),pr(e)||(e=null==e?[]:[e]),Jt(t,n,e))},Y.spread=function(n){if("function"!=typeof n)throw new _($i);return function(t){return n.apply(this,t)}},Y.take=function(t,n,e){return t&&t.length?((e?Un(t,n,e):null==n)&&(n=1),qt(t,0,n<0?0:n)):[]},Y.takeRight=function(t,n,e){var r=t?t.length:0;return r?((e?Un(t,n,e):null==n)&&(n=1),qt(t,(n=r-(+n||0))<0?0:n)):[]},Y.takeRightWhile=function(t,n,e){return t&&t.length?Yt(t,Mn(n,e,3),!1,!0):[]},Y.takeWhile=function(t,n,e){return t&&t.length?Yt(t,Mn(n,e,3)):[]},Y.tap=function(t,n,e){return n.call(e,t),t},Y.throttle=function(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new _($i);return!1===e?r=!1:gr(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),Xe(t,n,{leading:r,maxWait:+n,trailing:i})},Y.thru=Se,Y.times=function(t,n,e){if((t=L(t))<1||!E(t))return[];var r=-1,i=O(R(t,q));for(n=tn(n,e,1);++r<t;)r<q?i[r]=n(r):n(r);return i},Y.toArray=Ir,Y.toPlainObject=Sr,Y.transform=function(t,r,i,n){var e=pr(t)||kr(t);if(r=Mn(r,n,4),null==i)if(e||gr(t)){var o=t.constructor;i=e?pr(t)?new o:[]:_t(vr(o)?o.prototype:gi)}else i={};return(e?it:Pt)(t,function(t,n,e){return r(i,t,n,e)}),i},Y.union=ge,Y.uniq=ye,Y.unzip=_e,Y.unzipWith=me,Y.values=qr,Y.valuesIn=function(t){return Vt(t,Rr(t))},Y.where=function(t,n){return Ce(t,Rt(n))},Y.without=we,Y.wrap=function(t,n){return Pn(n=null==n?ri:n,xi,gi,[t],[])},Y.xor=function(){for(var t=-1,n=arguments.length;++t<n;){var e=arguments[t];if(Wn(e))var r=r?st(bt(r,e),bt(e,r)):e}return r?Kt(r):[]},Y.zip=be,Y.zipObject=ke,Y.zipWith=xe,Y.backflow=rr,Y.collect=Fe,Y.compose=rr,Y.each=Le,Y.eachRight=$e,Y.extend=Tr,Y.iteratee=ei,Y.methods=Nr,Y.object=ke,Y.select=Ce,Y.tail=he,Y.unique=ye,ui(Y,Y),Y.add=function(t,n){return(+t||0)+(+n||0)},Y.attempt=ni,Y.camelCase=Qr,Y.capitalize=function(t){return(t=Ro(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Y.ceil=fi,Y.clone=function(t,n,e,r){return n&&"boolean"!=typeof n&&Un(t,n,e)?n=!1:"function"==typeof n&&(r=e,e=n,n=!1),"function"==typeof e?yt(t,n,tn(e,r,1)):yt(t,n)},Y.cloneDeep=function(t,n,e){return"function"==typeof n?yt(t,!0,tn(n,e,1)):yt(t,!0)},Y.deburr=Hr,Y.endsWith=function(t,n,e){n+="";var r=(t=Ro(t)).length;return e=e===gi?r:R(!(e<0)&&+e||0,r),0<=(e-=n.length)&&t.indexOf(n,e)==e},Y.escape=function(t){return(t=Ro(t))&&so.test(t)?t.replace(ao,Bo):t},Y.escapeRegExp=function(t){return(t=Ro(t))&&yo.test(t)?t.replace(go,qo):t||"(?:)"},Y.every=Oe,Y.find=Pe,Y.findIndex=ae,Y.findKey=Cr,Y.findLast=Me,Y.findLastIndex=ue,Y.findLastKey=Pr,Y.findWhere=function(t,n){return Pe(t,Rt(n))},Y.first=se,Y.floor=pi,Y.get=function(t,n,e){var r=null==t?gi:$t(t,ne(n),n+"");return r===gi?e:r},Y.gt=lr,Y.gte=function(t,n){return n<=t},Y.has=function(t,n){if(null==t)return!1;var e=m.call(t,n);if(!e&&!Bn(n)){if(null==(t=1==(n=ne(n)).length?t:$t(t,qt(n,0,-1))))return!1;n=fe(n),e=m.call(t,n)}return e||Qn(t.length)&&zn(n,t.length)&&(pr(t)||fr(t))},Y.identity=ri,Y.includes=Ne,Y.indexOf=ce,Y.inRange=function(t,n,e){return n=+n||0,e===gi?(e=n,n=0):e=+e||0,t>=R(n,e)&&t<D(n,e)},Y.isArguments=fr,Y.isArray=pr,Y.isBoolean=function(t){return!0===t||!1===t||Jo(t)&&w.call(t)==Ri},Y.isDate=function(t){return Jo(t)&&w.call(t)==Fi},Y.isElement=function(t){return!!t&&1===t.nodeType&&Jo(t)&&!mr(t)},Y.isEmpty=function(t){return null==t||(Wn(t)&&(pr(t)||br(t)||fr(t)||Jo(t)&&vr(t.splice))?!t.length:!Dr(t).length)},Y.isEqual=hr,Y.isError=dr,Y.isFinite=function(t){return"number"==typeof t&&E(t)},Y.isFunction=vr,Y.isMatch=function(t,n,e,r){return e="function"==typeof e?tn(e,r,3):gi,Nt(t,Dn(n),e)},Y.isNaN=function(t){return _r(t)&&t!=+t},Y.isNative=yr,Y.isNull=function(t){return null===t},Y.isNumber=_r,Y.isObject=gr,Y.isPlainObject=mr,Y.isRegExp=wr,Y.isString=br,Y.isTypedArray=kr,Y.isUndefined=function(t){return t===gi},Y.kebabCase=Jr,Y.last=fe,Y.lastIndexOf=function(t,n,e){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof e)i=(e<0?D(r+e,0):R(e||0,r-1))+1;else if(e){var o=t[i=Zt(t,n,!0)-1];return(n==n?n===o:o!=o)?i:-1}if(n!=n)return Ho(t,i,!0);for(;i--;)if(t[i]===n)return i;return-1},Y.lt=xr,Y.lte=function(t,n){return t<=n},Y.max=hi,Y.min=di,Y.noConflict=function(){return Lo._=h,this},Y.noop=si,Y.now=He,Y.pad=function(t,n,e){n=+n;var r=(t=Ro(t)).length;if(n<=r||!E(n))return t;var i=(n-r)/2,o=L(i);return(e=Tn("",P(i),e)).slice(0,o)+t+e},Y.padLeft=Kr,Y.padRight=Vr,Y.parseInt=function(t,n,e){return n=(e?Un(t,n,e):null==n)?0:n&&+n,t=Xr(t),W(t,n||(ko.test(t)?16:10))},Y.random=function(t,n,e){e&&Un(t,n,e)&&(n=e=gi);var r=null==t,i=null==n;if(null==e&&(i&&"boolean"==typeof t?(e=t,t=1):"boolean"==typeof n&&(e=n,i=!0)),r&&i&&(i=!(n=1)),t=+t||0,i?(n=t,t=0):n=+n||0,e||t%1||n%1){var o=z();return R(t+o*(n-t+k("1e-"+((o+"").length-1))),n)}return Ut(t,n)},Y.reduce=ze,Y.reduceRight=Ue,Y.repeat=Yr,Y.result=function(t,n,e){var r=null==t?gi:t[n];return r===gi&&(null==t||Bn(n,t)||(r=null==(t=1==(n=ne(n)).length?t:$t(t,qt(n,0,-1)))?gi:t[fe(n)]),r=r===gi?e:r),vr(r)?r.call(t):r},Y.round=vi,Y.runInContext=t,Y.size=function(t){var n=t?Nn(t):0;return Qn(n)?n:Dr(t).length},Y.snakeCase=Gr,Y.some=qe,Y.sortedIndex=de,Y.sortedLastIndex=ve,Y.startCase=Zr,Y.startsWith=function(t,n,e){return t=Ro(t),e=null==e?0:R(!(e<0)&&+e||0,t.length),t.lastIndexOf(n,e)==e},Y.sum=function(t,n,e){return e&&Un(t,n,e)&&(n=gi),1==(n=Mn(n,e,3)).length?function(t,n){for(var e=t.length,r=0;e--;)r+=+n(t[e])||0;return r}(pr(t)?t:Xn(t),n):(r=n,i=0,kt(t,function(t,n,e){i+=+r(t,n,e)||0}),i);var r,i},Y.template=function(a,t,n){var e=Y.templateSettings;n&&Un(a,t,n)&&(t=n=gi),a=Ro(a),t=pt(ht({},n||t),e,ft);var u,s,r=pt(ht({},t.imports),e.imports,ft),i=Dr(r),o=Vt(r,i),c=0,l=t.interpolate||jo,f="__p += '",p=y((t.escape||jo).source+"|"+l.source+"|"+(l===fo?wo:jo).source+"|"+(t.evaluate||jo).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Co+"]")+"\n";a.replace(p,function(t,n,e,r,i,o){return e=e||r,f+=a.slice(c,o).replace(To,Qo),n&&(u=!0,f+="' +\n__e("+n+") +\n'"),i&&(s=!0,f+="';\n"+i+";\n__p += '"),e&&(f+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),c=o+t.length,t}),f+="';\n";var d=t.variable;d||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(eo,""):f).replace(ro,"$1").replace(io,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=ni(function(){return g(i,h+"return "+f).apply(gi,o)});if(v.source=f,dr(v))throw v;return v},Y.trim=Xr,Y.trimLeft=function(t,n,e){var r=t;return(t=Ro(t))?(e?Un(r,n,e):null==n)?t.slice(Vo(t)):t.slice(Fo(t,n+"")):t},Y.trimRight=function(t,n,e){var r=t;return(t=Ro(t))?(e?Un(r,n,e):null==n)?t.slice(0,Yo(t)+1):t.slice(0,Wo(t,n+"")+1):t},Y.trunc=function(t,n,e){e&&Un(t,n,e)&&(n=gi);var r=Ti,i=Ai;if(null!=n)if(gr(n)){var o="separator"in n?n.separator:o;r="length"in n?+n.length||0:r,i="omission"in n?Ro(n.omission):i}else r=+n||0;if(r>=(t=Ro(t)).length)return t;var a=r-i.length;if(a<1)return i;var u=t.slice(0,a);if(null==o)return u+i;if(wr(o)){if(t.slice(a).search(o)){var s,c,l=t.slice(0,a);for(o.global||(o=y(o.source,(bo.exec(o)||"")+"g")),o.lastIndex=0;s=o.exec(l);)c=s.index;u=u.slice(0,null==c?a:c)}}else if(t.indexOf(o,a)!=a){var f=u.lastIndexOf(o);-1<f&&(u=u.slice(0,f))}return u+i},Y.unescape=function(t){return(t=Ro(t))&&uo.test(t)?t.replace(oo,Go):t},Y.uniqueId=function(t){var n=++f;return Ro(t)+n},Y.words=ti,Y.all=Oe,Y.any=qe,Y.contains=Ne,Y.eq=hr,Y.detect=Pe,Y.foldl=ze,Y.foldr=Ue,Y.head=se,Y.include=Ne,Y.inject=ze,ui(Y,(li={},Pt(Y,function(t,n){Y.prototype[n]||(li[n]=t)}),li),!1),Y.sample=Be,Y.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return Be(t,n)}):Be(this.value())},Y.VERSION=yi,it(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Y[t].placeholder=Y}),it(["drop","take"],function(r,i){X.prototype[r]=function(t){var n=this.__filtered__;if(n&&!i)return new X(this);t=null==t?1:D(L(t)||0,0);var e=this.clone();return n?e.__takeCount__=R(e.__takeCount__,t):e.__views__.push({size:t,type:r+(e.__dir__<0?"Right":"")}),e},X.prototype[r+"Right"]=function(t){return this.reverse()[r](t).reverse()}}),it(["filter","map","takeWhile"],function(t,n){var r=n+1,i=r!=Li;X.prototype[t]=function(t,n){var e=this.clone();return e.__iteratees__.push({iteratee:Mn(t,n,1),type:r}),e.__filtered__=e.__filtered__||i,e}}),it(["first","last"],function(t,n){var e="take"+(n?"Right":"");X.prototype[t]=function(){return this[e](1).value()[0]}}),it(["initial","rest"],function(t,n){var e="drop"+(n?"":"Right");X.prototype[t]=function(){return this.__filtered__?new X(this):this[e](1)}}),it(["pluck","where"],function(t,n){var e=n?"filter":"map",r=n?Rt:ci;X.prototype[t]=function(t){return this[e](r(t))}}),X.prototype.compact=function(){return this.filter(ri)},X.prototype.reject=function(n,t){return n=Mn(n,t,1),this.filter(function(t){return!n(t)})},X.prototype.slice=function(t,n){t=null!=t&&+t||0;var e=this;return e.__filtered__&&(0<t||n<0)?new X(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==gi&&(e=(n=+n||0)<0?e.dropRight(-n):e.take(n-t)),e)},X.prototype.takeRightWhile=function(t,n){return this.reverse().takeWhile(t,n).reverse()},X.prototype.toArray=function(){return this.take(B)},Pt(X.prototype,function(f,t){var p=/^(?:filter|map|reject)|While$/.test(t),h=/^(?:first|last)$/.test(t),d=Y[h?"take"+("last"==t?"Right":""):t];d&&(Y.prototype[t]=function(){var n=h?[1]:arguments,e=this.__chain__,t=this.__wrapped__,r=!!this.__actions__.length,i=t instanceof X,o=n[0],a=i||pr(t);function u(t){return h&&e?d(t,1)[0]:d.apply(gi,st([t],n))}a&&p&&"function"==typeof o&&1!=o.length&&(i=a=!1);var s={func:Se,args:[u],thisArg:gi},c=i&&!r;if(h&&!e)return c?((t=t.clone()).__actions__.push(s),f.call(t)):d.call(gi,this.value())[0];if(h||!a)return this.thru(u);t=c?t:new X(this);var l=f.apply(t,n);return l.__actions__.push(s),new Z(l,e)})}),it(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?c:u)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);Y.prototype[t]=function(){var n=arguments;return i&&!this.__chain__?e.apply(this.value(),n):this[r](function(t){return e.apply(t,n)})}}),Pt(X.prototype,function(t,n){var e=Y[n];if(e){var r=e.name;(V[r]||(V[r]=[])).push({name:n,func:e})}}),V[jn(gi,mi).name]=[{name:"wrapper",func:gi}],X.prototype.clone=function(){var t=new X(this.__wrapped__);return t.__actions__=rt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rt(this.__views__),t},X.prototype.reverse=function(){if(this.__filtered__){var t=new X(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},X.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=pr(t),r=n<0,i=e?t.length:0,o=function(t,n,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=R(n,t+a);break;case"takeRight":t=D(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,p=0,h=R(s,this.__takeCount__);if(!e||i<Pi||i==s&&h==s)return Gt(r&&e?t.reverse():t,this.__actions__);var d=[];t:for(;s--&&p<h;){for(var v=-1,g=t[c+=n];++v<f;){var y=l[v],_=y.iteratee,m=y.type,w=_(g);if(m==Li)g=w;else if(!w){if(m==Mi)continue t;break t}}d[p++]=g}return d},Y.prototype.chain=function(){return Ie(this)},Y.prototype.commit=function(){return new Z(this.value(),this.__chain__)},Y.prototype.concat=je,Y.prototype.plant=function(t){for(var n,e=this;e instanceof G;){var r=ee(e);n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n},Y.prototype.reverse=function(){function t(t){return e&&e.__dir__<0?t:t.reverse()}var n=this.__wrapped__;if(n instanceof X){var e=n;return this.__actions__.length&&(e=new X(this)),(e=e.reverse()).__actions__.push({func:Se,args:[t],thisArg:gi}),new Z(e,this.__chain__)}return this.thru(t)},Y.prototype.toString=function(){return this.value()+""},Y.prototype.run=Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=function(){return Gt(this.__wrapped__,this.__actions__)},Y.prototype.collect=Y.prototype.map,Y.prototype.head=Y.prototype.first,Y.prototype.select=Y.prototype.filter,Y.prototype.tail=Y.prototype.rest,Y}();Lo._=Zo,(m=function(){return Zo}.call(w,b,w,y))===gi||(y.exports=m)}).call(this)}).call(this,b(132)(t),b(111))},61:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(i,o,a){var u,s=0;return function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];if(a)u&&clearTimeout(u),u=setTimeout(function(){i.apply(void 0,n)},o);else{var r=(new Date).getTime();if(r-s<o)return;s=r,i.apply(void 0,n)}}}},65:function(t,n,e){"use strict";e.d(n,"a",function(){return m});var r=e(2),i=e.n(r),o=e(66),a=e.n(o),u=e(0),s=e.n(u),c=e(1),l=e.n(c),f=e(7),p=e.n(f),h=e(4),d=e.n(h),v=e(8),g=e.n(v),y=e(19);function _(r){return function(){var t,n=d()(r);if(function(){if("undefined"==typeof Reflect||!i.a)return;if(i.a.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(i()(Date,[],function(){})),1}catch(t){return}}()){var e=d()(this).constructor;t=i()(n,arguments,e)}else t=n.apply(this,arguments);return p()(this,t)}}var m=function(t){g()(e,t);var n=_(e);function e(){return s()(this,e),n.apply(this,arguments)}return l()(e,[{key:"delay",value:function(t,n,e){var r=2<arguments.length&&void 0!==e?e:0;return this.on(t,function(){var t=arguments;setTimeout(function(){n.apply(self,a()(t))},r)})}},{key:"once",value:function(n,e){var r=this;return this.on(n,function t(){e.apply(r,Array.prototype.slice.call(arguments)),r.off(n,t)})}}]),e}(e.n(y).a)},707:function(t,n,e){"use strict";e.r(n);var r=e(2),i=e.n(r),o=e(0),a=e.n(o),u=e(1),s=e.n(u),c=e(7),l=e.n(c),f=e(4),p=e.n(f),h=e(8),d=e.n(h),v=e(19),g=e.n(v),y=e(92);function _(r){return function(){var t,n=p()(r);if(function(){if("undefined"==typeof Reflect||!i.a)return;if(i.a.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(i()(Date,[],function(){})),1}catch(t){return}}()){var e=p()(this).constructor;t=i()(n,arguments,e)}else t=n.apply(this,arguments);return l()(this,t)}}var m=function(t){d()(o,t);var i=_(o);function o(t){var n,e=t.element,r=t.url;return a()(this,o),(n=i.call(this)).url=r,n.isManualOperation=!0,n.element=$(e),n.init(),n}return s()(o,[{key:"init",value:function(){var n=this;this.fixIconInChrome(),this.fetchPlugins().then(function(t){n.plugins=t,n.renderToolbar(),n.renderPane(),n.element.hide().show(),n.bindEvent()}).fail(function(){})}},{key:"fetchPlugins",value:function(){return $.post(this.url)}},{key:"fixIconInChrome",value:function(){this.element.html('<i class="es-icon es-icon-chevronleft"></i>')}},{key:"renderToolbar",value:function(){var t='\n    <div class="dashboard-toolbar">\n      <ul class="dashboard-toolbar-nav" id="dashboard-toolbar-nav">\n        '.concat(this.plugins.reduce(function(t,n){return t+'<li data-plugin="'.concat(n.code,'" data-url="').concat(n.url,'"><a href="#"><div class="mbs es-icon ').concat(n.icon,'"></div>').concat(n.name,"</a></li>")},""),"\n      </ul>\n    </div>");this.element.html(t)}},{key:"renderPane",value:function(){var t=this.plugins.reduce(function(t,n){return t+'<div data-pane="'.concat(n.code,'" class=" ').concat(n.code,'-pane js-sidebar-pane" ><div class="').concat(n.code,'-pane-body js-sidebar-pane-body"></div></div>')},"");this.element.append(t)}},{key:"bindEvent",value:function(){var a=this;this.element.find("#dashboard-toolbar-nav").on("click","li",function(t){var n=$(t.currentTarget),e=n.data("plugin"),r=n.data("url"),i=a.element.find('[data-pane="'.concat(e,'"]')),o=i.find(".js-sidebar-pane-body");void 0!==e&&void 0!==r&&(a.isManualOperation&&a.operationContent(n),n.data("loaded")||$.get(r).then(function(t){o.html(t),i.perfectScrollbar(),n.data("loaded",!0),a.isManualOperation=!0,a.emit(n.data("plugin")+"-loaded",o)}))})}},{key:"operationContent",value:function(t){t.hasClass("active")?(this.foldContent(),t.removeClass("active"),$(".dashboard-sidebar").removeClass("spread")):(this.element.find("#dashboard-toolbar-nav li").removeClass("active"),t.addClass("active"),this.element.find("[data-pane]").hide(),this.element.find('[data-pane="'.concat(t.data("plugin"),'"]')).show(),this.popupContent(),$(".dashboard-sidebar").addClass("spread"))}},{key:"popupContent",value:function(t){var n=0<arguments.length&&void 0!==t?t:500,e=$("#dashboard-sidebar").width()+35+"px";this.emit("popup",e,n),this.element.animate({right:"0px"},n)}},{key:"foldContent",value:function(t){var n=0<arguments.length&&void 0!==t?t:500,e="-"+this.element.width()+"px";this.emit("fold","35px",n),this.element.animate({right:e},n)}},{key:"reload",value:function(){this.isManualOperation=!1;var t=this.element.find(".js-sidebar-pane:visible"),n=t.data("pane");t.undelegate(),this.element.find("#dashboard-toolbar-nav").children('[data-plugin="'.concat(n,'"]')).data("loaded",!1).click()}},{key:"listEvent",value:function(){$(".js-sidebar-pane:visible .task-list-pane-body").length&&Object(y.a)()}}]),o}(g.a),w=function(){function n(t){a()(this,n),this.element=$(t.element),this.learningPrompt=this.element.find(".js-learning-prompt"),this.learnedPrompt=this.element.find(".js-learned-prompt"),this.learnprompt=this.element.find(".js-learn-prompt"),this.btnLearn=this.element.find(".js-btn-learn")}return s()(n,[{key:"learnedWeakPrompt",value:function(){var t=this;this.learnprompt.removeClass("open"),this.learningPrompt.addClass("moveup"),window.setTimeout(function(){t.learningPrompt.removeClass("moveup"),t.learnedPrompt.addClass("moveup"),t.learnedPrompt.popover("show"),window.setTimeout(function(){t.learnedPrompt.popover("hide")},2e3)},2e3)}},{key:"learned",value:function(){this.btnLearn.addClass("active")}}]),n}(),b=e(6),k=e.n(b),x=e(14),I=e.n(x),S=(e(86),e(87),e(43)),j=function(){function n(t){if(a()(this,n),this.element=$(t),this.eventUrl=this.element.data("eventUrl"),this.learnTimeSec=this.element.data("learnTimeSec"),this.userId=this.element.data("userId"),this.fileId=this.element.data("fileId"),k()(this.element.data("lastLearnTime"))!=k()(S.a.get(this.userId,this.fileId))&&(S.a.del(this.userId,this.fileId),S.a.set(this.userId,this.fileId,this.element.data("lastLearnTime"))),this.lastLearnTime=S.a.get(this.userId,this.fileId),void 0===this.eventUrl)throw Error("task event url is undefined");this.eventDatas={},this.playerMsg={},this.intervalId=null,this.lastTime=this.element.data("lastTime"),this.eventMap={receives:{}},this._registerChannel(),1==this.element.data("eventEnable")&&this._initInterval()}return s()(n,[{key:"_registerChannel",value:function(){var r=this;return I.a.instanceId("task"),I.a.fedx.addFilter([{channel:"activity-events",topic:"#",direction:"in"},{channel:"task-events",topic:"#",direction:"out"}]),I.a.subscribe({channel:"activity-events",topic:"#",callback:function(t){var n=t.event,e=t.data;r.eventDatas[n]=e,r._flush(e)}}),this}},{key:"_initInterval",value:function(){var t=this;window.onbeforeunload=function(){t._clearInterval(),t._flush()},this._clearInterval(),this.intervalId=setInterval(function(){return t._flush()},1e3*this.learnTimeSec)}},{key:"_clearInterval",value:function(){clearInterval(this.intervalId)}},{key:"_flush",value:function(t){var r=this,i=0<arguments.length&&void 0!==t?t:{};return $.post(this.eventUrl,{data:{lastTime:this.lastTime,lastLearnTime:S.a.get(this.userId,this.fileId),events:this.eventDatas}}).done(function(t){if(r._publishResponse(t),r.eventDatas={},r.lastTime=t.lastTime,t&&t.result&&t.result.status){i.data&&(t.playerMsg=i.data.playerMsg);var n=r.eventMap.receives[t.result.status];if(n)for(var e=n.length-1;0<=e;e--){(0,n[e])(t)}}}).fail(function(t){403==t.status&&(r._clearInterval(),cd.message({type:"danger",message:Translator.trans("task_show.user_login_protect_tip")}),window.location.href="/logout")})}},{key:"_publishResponse",value:function(t){I.a.publish({channel:"task-events",topic:"#",data:{event:t.event,data:t.data}})}},{key:"addListener",value:function(t,n){this.eventMap.receives[t]=this.eventMap.receives[t]||[],this.eventMap.receives[t].push(n)}}]),n}(),T=e(65),A=e(106);function O(r){return function(){var t,n=p()(r);if(function(){if("undefined"==typeof Reflect||!i.a)return;if(i.a.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(i()(Date,[],function(){})),1}catch(t){return}}()){var e=p()(this).constructor;t=i()(n,arguments,e)}else t=n.apply(this,arguments);return l()(this,t)}}var C=function(t){d()(o,t);var i=O(o);function o(t){var n,e=t.element,r=t.mode;return a()(this,o),(n=i.call(this)).element=$(e),n.mode=r,n.ui=new w({element:".js-task-dashboard-page"}),n.init(),n}return s()(o,[{key:"init",value:function(){this.initPlugin(),this.initSidebar(),"preview"!=this.mode&&(this.initTaskPipe(),this.initLearnBtn())}},{key:"initPlugin",value:function(){$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover({html:!0,trigger:"hover"})}},{key:"initLearnBtn",value:function(){var e=this;this.element.on("click","#learn-btn",function(){$.post($("#learn-btn").data("url"),function(t){$("#modal").modal("show"),$("#modal").html(t),$('input[name="task-result-status"]',$("#js-hidden-data")).val("finish");var n=$(".js-next-mobile-btn");n.data("url")&&n.removeClass("disabled").attr("href",n.data("url")),e.ui.learned()})})}},{key:"initTaskPipe",value:function(){var n=this;this.eventEmitter=new j(this.element.find("#task-content-iframe")),this.eventEmitter.addListener("finish",function(t){n._receiveFinish(t)})}},{key:"_receiveFinish",value:function(t){var e=this,n=this.element.find("#task-content-iframe").data("nextTaskUrl");"finish"!=$('input[name="task-result-status"]',$("#js-hidden-data")).val()&&$.get($(".js-learned-prompt").data("url"),function(t){$(".js-learned-prompt").attr("data-content",t),e.ui.learnedWeakPrompt(),e.ui.learned(),e.sidebar.reload();var n=$(".js-next-mobile-btn");n.data("url")&&n.removeClass("disabled").attr("href",n.data("url")),$('input[name="task-result-status"]',$("#js-hidden-data")).val("finish")}),n&&t.playerMsg&&"sequence"==t.playerMsg.mode&&(window.location.href=n)}},{key:"initSidebar",value:function(){var e=this;this.sidebar=new m({element:this.element.find("#dashboard-sidebar"),url:this.element.find('#js-hidden-data [name="plugins_url"]').val()}),this.sidebar.on("popup",function(t,n){e.element.find("#dashboard-content").animate({right:t},n)}).on("fold",function(t,n){e.element.find("#dashboard-content").animate({right:t},n)}).on("task-list-loaded",function(a){new A.a({afterFirstLoad:function(){var t=a.parent(),n=t.height(),e=a.height(),r=a.find(".task-item.active"),i=r.position().top,o=(n-r.height())/2;if(e-i<o)return console.log("位置靠近底部，top偏移",i-o),console.log(e-n),void t.scrollTop(e-n);o<i&&(console.log("位置大于标准位置时，top偏移",i-o),console.log(i,o),t.scrollTop(i-o))},displayItem:{key:"taskId",value:$(".js-hidden-current-task-id").html()}})})}}]),o}(T.a),P=e(11),M=e(41),L=e.n(M),E=$("#task-content-iframe");if(E.attr("src",E.data("url")),new C({element:$("body"),mode:$("body").find('#js-hidden-data [name="mode"]').val()}),P.a.ie10||P.a.ie11||P.a.edge){var N=document.getElementById("task-content-iframe");N.onload=function(){N.contentWindow.document.getElementsByTagName("html")[0].style.width="100%"}}var D=$(".js-audio-convert-ad");if(0<D.length&&D.on("click",function(t){L.a.set(D.data("cookie"),"true",{expires:360,path:"/"}),D.parents(".js-audio-convert-box").remove(),$(".js-dashboard-footer").removeClass("dashboard-footer--audio")}),0<$(".js-wechat-qrcode-btn").length){var R=$(".js-wechat-qrcode-btn");if(void 0!==R.data("url"))$.get(R.data("url"),function(t){R.data("img",t.img);var n=t.img;$(".js-wechat-qrcode-btn").popover({trigger:"click",placement:"bottom",html:"true",animation:!1,container:"body",content:'<img class="wechat-inform-task-qrcode" src="'.concat(n,'">')})});else{var F=R.data("img");$(".js-wechat-qrcode-btn").popover({trigger:"click",placement:"bottom",html:"true",animation:!1,container:"body",content:'<img class="wechat-inform-task-qrcode" src="'.concat(F,'">')})}}function W(e,r,i){var t=$(".js-task-content-iframe"),o=$(".js-video-wrapper"),a=t.height(),n=t.width();e.on("show.bs.popover",function(){var t=a-r;if(i)o.css("height",t);else if(e.hasClass("js-next-task")){var n=r+30;o.css("height",a-n)}else o.css("height",a-r)}),e.on("shown.bs.popover",function(){$(".popover").css({minWidth:n,left:"15px"}).find(".arrow").hide()}),e.on("hidden.bs.popover",function(){o.css("height",a)})}var z=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(Object(P.f)()&&!z){var U=$(".js-learn-video-prompt"),B=$(".js-learned-video-prompt");W(U,50,!0),W(B,115)}},86:function(t,n,e){
/*!
 *  * postal.federation - A base plugin for federating instances of postal.js across various boundaries.
 *  * Author: Jim Cowart (http://ifandelse.com)
 *  * Version: v0.5.3
 *  * Url: http://github.com/postaljs/postal.federation
 *  * License(s): (MIT OR GPL-2.0)
 */
var r;r=function(e,r){return a={},i.m=o=[function(t,n,e){function r(t){return t&&t.__esModule?t.default:t}var i=r(e(1)),o=r(e(2));e(3);var a=e(4),u=a.packingSlips,s=a.getPackingSlip,c=e(5),l=c.state,f=c.disconnect,p=c.NO_OP,h=c.configure,d=e(6),v=d.handlers,g=d.onFederatedMsg,y=e(7),_=r(y),m=y.matchesFilter,w=y.addFilter,b=y.removeFilter,k=r(e(8)),x=o.fedx={FederationClient:k,packingSlips:u,handlers:v,clients:l._clients,transports:l._transports,filters:_,addFilter:w,removeFilter:b,canSendRemote:function(t,n){return m(t,n,"out")},configure:h,getPackingSlip:s,onFederatedMsg:g,sendMessage:function(n){l._ready?i.each(this.transports,function(t){t.sendMessage(n)}):l._outboundQueue.push(arguments)},disconnect:f,_getTransports:function(){return i.reduce(this.transports,function(t,n,e){return t[e]=!0,t},{})},signalReady:function(t,n,e){if(l._ready){var r=this._getTransports();switch(arguments.length){case 1:"function"==typeof t?e=t:"string"==typeof t&&((r={})[t]=this.transports[t],e=p);break;case 2:"string"==typeof t?(r={})[t]=this.transports[t]:r=t,e=n||p;break;case 3:(r={})[t]=[n]}i.each(r,function(t,n){t="boolean"==typeof t?[]:t,this.transports[n].signalReady(t,e)},this)}else l._signalQueue.push(arguments)}};function I(t){x.signalReady.apply(this,t)}function S(t){x.send.apply(this,t)}function j(t){x.onFederatedMsg.call(this,t)}t.exports=x,o.addWireTap(function(t,n){x.canSendRemote(n.channel,n.topic)&&x.sendMessage(n)}),o.subscribe({channel:o.configuration.SYSTEM_CHANNEL,topic:"instanceId.changed",callback:function(){for(l._ready=!0;l._signalQueue.length;)I(l._signalQueue.shift());for(;l._outboundQueue.length;)S(l._outboundQueue.shift());for(;l._inboundQueue.length;)j(l._inboundQueue.shift())}}),void 0!==o.instanceId()&&(l._ready=!0)},function(t,n){t.exports=e},function(t,n){t.exports=r},function(t,n,e){var r,i,o,a=(r=e(2))&&r.__esModule?r.default:r;a.createUUID||(a.createUUID=function(){for(var t=[],n="0123456789abcdef",e=0;e<36;e++)t[e]=n.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=n.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}),a.instanceId||(a.instanceId=(o=i=void 0,function(t){return t&&(o=i,i=t,a.publish({channel:a.configuration.SYSTEM_CHANNEL,topic:"instanceId.changed",data:{oldId:o,newId:i}})),i}))},function(t,n,e){n.getPackingSlip=function(t){if(Object.prototype.hasOwnProperty.call(o,t))return o[t].apply(this,Array.prototype.slice.call(arguments,1))},Object.defineProperty(n,"__esModule",{value:!0});var r,i=(r=e(2))&&r.__esModule?r.default:r;var o={ping:function(){return{type:"federation.ping",instanceId:i.instanceId(),timeStamp:new Date,ticket:i.createUUID()}},pong:function(t){return{type:"federation.pong",instanceId:i.instanceId(),timeStamp:new Date,pingData:{instanceId:t.instanceId,timeStamp:t.timeStamp,ticket:t.ticket}}},message:function(t){return{type:"federation.message",instanceId:i.instanceId(),timeStamp:new Date,envelope:t}},disconnect:function(){return{type:"federation.disconnect",instanceId:i.instanceId(),timeStamp:new Date}},bundle:function(t){return{type:"federation.bundle",instanceId:i.instanceId(),timeStamp:new Date,packingSlips:t}}};n.packingSlips=o},function(t,n,e){n.configure=function(t){if(t&&t.filterMode&&"blacklist"!==t.filterMode&&"whitelist"!==t.filterMode)throw new Error("postal.fedx filterMode must be 'blacklist' or 'whitelist'.");t&&(a._config=i.defaults(t,o));return a._config},n.disconnect=function(n){n=n||{};var t=a._transports;n.transport&&((t={})[n.transport]=a._transports[n.transport]);i.each(t,function(t){t.disconnect({target:n.target,instanceId:n.instanceId,doNotNotify:!!n.doNotNotify})})},Object.defineProperty(n,"__esModule",{value:!0});var r,i=(r=e(1))&&r.__esModule?r.default:r,o={enabled:!0,filterMode:"whitelist",filterDirection:"both"},a={_clients:[],_transports:{},_ready:!(n.NO_OP=function(){}),_inboundQueue:[],_outboundQueue:[],_signalQueue:[],_config:o};n.state=a},function(t,n,e){function r(t){return t&&t.__esModule?t.default:t}n.onFederatedMsg=p,Object.defineProperty(n,"__esModule",{value:!0});var i=e(4).getPackingSlip,o=e(5),a=o.state,u=o.disconnect,s=e(7).matchesFilter,c=r(e(2)),l=r(e(1)),f={"federation.ping":function(t){t.source.setInstanceId(t.packingSlip.instanceId),t.source.handshakeComplete?t.source.sendPong(t.packingSlip):t.source.sendBundle([i("pong",t.packingSlip),i("ping")])},"federation.pong":function(t){t.source.handshakeComplete=!0,t.source.setInstanceId(t.packingSlip.instanceId),t.source.pings[t.packingSlip.pingData.ticket]&&(t.source.pings[t.packingSlip.pingData.ticket].callback({ticket:t.packingSlip.pingData.ticket,instanceId:t.packingSlip.instanceId,source:t.source}),t.source.pings[t.packingSlip.pingData.ticket]=void 0),l.contains(a._clients,t.packingSlip.instanceId)||a._clients.push(t.packingSlip.instanceId),c.publish({channel:"postal.federation",topic:"client.federated",data:{remoteId:t.source.instanceId,localId:c.instanceId(),transport:t.transport}})},"federation.disconnect":function(t){a._clients=l.without(a._clients,t.source.instanceId),u({transport:t.source.transportName,instanceId:t.source.instanceId,doNotNotify:!0})},"federation.message":function(t){var n=t.packingSlip.envelope;s(n.channel,n.topic,"in")&&(n.lastSender=t.packingSlip.instanceId,c.publish(n))},"federation.bundle":function(n){l.each(n.packingSlip.packingSlips,function(t){p(l.extend({},n,{packingSlip:t}))})}};function p(t){if(a._ready){if(!Object.prototype.hasOwnProperty.call(f,t.packingSlip.type))throw new Error("postal.federation does not have a message handler for '"+t.packingSlip.type+"'.");f[t.packingSlip.type](t)}else a._inboundQueue.push(t)}n.handlers=f},function(t,n,e){function r(t){return t&&t.__esModule?t.default:t}n.addFilter=function(t){t=a.isArray(t)?t:[t],a.each(t,function(n){n.direction=n.direction||u._config.filterDirection,a.each("both"===n.direction?["in","out"]:[n.direction],function(t){c[t][n.channel]?a.include(c[t][n.channel],n.topic)||c[t][n.channel].push(n.topic):c[t][n.channel]=[n.topic]})})},n.removeFilter=function(t){t=a.isArray(t)?t:[t],a.each(t,function(n){n.direction=n.direction||u._config.filterDirection,a.each("both"===n.direction?["in","out"]:[n.direction],function(t){c[t][n.channel]&&a.include(c[t][n.channel],n.topic)&&(c[t][n.channel]=a.without(c[t][n.channel],n.topic))})})},n.matchesFilter=function(t,n,e){var r=Object.prototype.hasOwnProperty.call(c[e],t),i=r&&a.any(c[e][t],function(t){return s.configuration.resolver.compare(t,n)}),o="blacklist"===u._config.filterMode;return u._config.enabled&&(o&&(!r||r&&!i)||!o&&r&&i)},Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(1)),u=e(5).state,s=r(e(2)),c={in:{},out:{}};n.default=c},function(t,n,e){function r(t){return t&&t.__esModule?t.default:t}var i=function(t,n,e){return n&&o(t.prototype,n),e&&o(t,e),t};function o(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}var a=e(4).getPackingSlip,u=e(6).onFederatedMsg,s=e(5),c=s.state,l=s.NO_OP,f=r(e(2)),p=r(e(1)),h=(i(d,{sendPing:{value:function(t){var n=a("ping");this.pings[n.ticket]={ticket:n.ticket,callback:t||l},this.send(n)}},sendPong:{value:function(t){this.send(a("pong",t))}},sendBundle:{value:function(t){this.send(a("bundle",t))}},sendMessage:{value:function(t){if(this.handshakeComplete){t.originId=t.originId||f.instanceId();var n=p.clone(t);!this.instanceId||this.instanceId===n.lastSender||n.knownIds&&n.knownIds.length&&(!n.knownIds||p.include(n.knownIds,this.instanceId))||(n.knownIds=(n.knownIds||[]).concat(p.without(c._clients,this.instanceId)),this.send(a("message",n)))}}},disconnect:{value:function(){this.send(a("disconnect"))}},onMessage:{value:function(t){this.shouldProcess()&&u({transport:this.transportName,packingSlip:t,source:this})}},shouldProcess:{value:function(){return!0}},send:{value:function(){throw new Error("An object deriving from FederationClient must provide an implementation for 'send'.")}},setInstanceId:{value:function(t){this.instanceId=t}}},{extend:{value:function(t,n){function e(){d.apply(this,arguments)}return e.prototype=Object.create(d.prototype),p.extend(e.prototype,t),p.extend(e,n),e}}}),d);function d(t,n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,d),this.target=t,this.options=n||{},this.pings={},this.instanceId=e,this.handshakeComplete=!1}t.exports=h}],i.c=a,i.p="",i(0);function i(t){if(a[t])return a[t].exports;var n=a[t]={exports:{},id:t,loaded:!1};return o[t].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}var o,a},t.exports=r(e(57),e(14))},87:function(t,n,e){
/*!
 *  * postal.xframe - postal.js/postal.federation plugin for federating instances of postal.js across iframe/window boundaries.
 *  * Author: Jim Cowart (http://ifandelse.com)
 *  * Version: v0.5.0
 *  * Url: http://github.com/postaljs/postal.xframe
 *  * License(s): (MIT OR GPL-2.0)
 */
var r;r=function(e,r){return a={},i.m=o=[function(t,n,e){function r(t){return t&&t.__esModule?t.default:t}var i=r(e(1)),o=r(e(2)),a=e(3),u=a._memoRemoteByInstanceId,s=a._memoRemoteByTarget,c=a._disconnectClient,l=a.safeSerialize,f=e(4),p=f.state,h=f.env,d=r(e(5));function v(){_.routeMessage.apply(_,arguments)}function g(t){i.include(p.workers,t)||(t.addEventListener("message",v),p.workers.push(t))}d.getInstance=function(t,n,e){var r=new d(t,{origin:n,isWorker:"undefined"!=typeof Worker&&t instanceof Worker},e);return r.options.isWorker&&g(r.target),r};function y(){}var _=o.fedx.transports.xframe={eagerSerialize:h.useEagerSerialize,XFrameClient:d,configure:function(t){return t&&(p.config=i.defaults(i.extend(p.config,t),p.defaults)),p.config},clearConfiguration:function(){p.config=i.extend({},p.defaults)},getTargets:h.isWorker?function(){return[{target:{postMessage:postMessage}}]}:function(){var t=i.map(document.getElementsByTagName("iframe"),function(t){var n=document.createElement("a");n.href=t.src;var e=n.protocol+"//"+n.host;return"//"===e&&(e=null),{target:t.contentWindow,origin:e||p.config.defaultOriginUrl}});return window.parent&&window.parent!==window&&t.push({target:window.parent,origin:"*"}),t.concat(p.workers)},remotes:[],wrapForTransport:h.useEagerSerialize?function(t){return JSON.stringify({postal:!0,packingSlip:t})}:function(t){return{postal:!0,packingSlip:t}},unwrapFromTransport:function(t){if("string"!=typeof t||!h.useEagerSerialize&&-1===t.indexOf('"postal":true'))return t;try{return JSON.parse(t)}catch(t){return{}}},routeMessage:function(t){var n=t.source||t.currentTarget,e=this.unwrapFromTransport(t.data);if(e.postal){var r=i.find(this.remotes,function(t){return t.target===n});r||(r=d.getInstance(n,t.origin,e.packingSlip.instanceId),this.remotes.push(r)),r.onMessage(e.packingSlip)}},sendMessage:function(t){var n=t;p.config.safeSerialize&&(n=l(i.cloneDeep(t))),i.each(this.remotes,function(t){t.sendMessage(n)})},disconnect:function(t){var n=(t=t||{}).instanceId?i.reduce(i.isArray(t.instanceId)?t.instanceId:[t.instanceId],u,[],this):t.target?i.reduce(i.isArray(t.target)?t.target:[t.target],s,[],this):this.remotes;t.doNotNotify||i.each(n,c,this),this.remotes=i.without.apply(null,[this.remotes].concat(n))},signalReady:function(t,e){t=(t=i.isArray(t)?t:[t]).length?t:this.getTargets(),e=e||y,i.each(t,function(n){if(n.target){n.origin=n.origin||p.config.defaultOriginUrl;var t=i.find(this.remotes,function(t){return t.target===n.target});t||(t=d.getInstance(n.target,n.origin),this.remotes.push(t)),t.sendPing(e)}},this)},addEventListener:h.isWorker?function(){addEventListener("message",v)}:function(t,n,e){if("undefined"==typeof window||"function"!=typeof window.addEventListener)throw new Error("postal.xframe only works with browsers that support window.addEventListener");window.addEventListener(t,n,e)},listenToWorker:g,stopListeningToWorker:function(t){if(t)t.removeEventListener("message",v),p.workers=i.without(p.workers,t);else for(;p.workers.length;)p.workers.pop().removeEventListener("message",v)}};_.addEventListener("message",v,!1)},function(t,n){t.exports=e},function(t,n){t.exports=r},function(t,n,e){var l=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var e,r=[],i=t[Symbol.iterator]();!(e=i.next()).done&&(r.push(e.value),!n||r.length!==n););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")};n._memoRemoteByInstanceId=function(t,n){var e=f.find(this.remotes,function(t){return t.instanceId===n});e&&t.push(e);return t},n._memoRemoteByTarget=function(t,n){var e=f.find(this.remotes,function(t){return t.target===n});e&&t.push(e);return t},n._disconnectClient=function(t){t.disconnect()},n.safeSerialize=function t(n){var e=!0;var r=!1;var i=void 0;try{for(var o,a=p(n)[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var u=l(o.value,2),s=u[0],c=u[1];"function"==typeof c&&delete n[s],f.isPlainObject(c)&&t(c),f.isArray(c)&&f.each(c,t)}}catch(t){r=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(r)throw i}}return n},Object.defineProperty(n,"__esModule",{value:!0});var r,f=(r=e(1))&&r.__esModule?r.default:r;var p=regeneratorRuntime.mark(function t(n){var e,r,i,o,a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:-1===["object","function"].indexOf(typeof n)&&(n={}),r=!(e=!0),i=void 0,t.prev=4,o=Object.keys(n)[Symbol.iterator]();case 6:if(e=(a=o.next()).done){t.next=13;break}return u=a.value,t.next=10,[u,n[u]];case 10:e=!0,t.next=6;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(4),r=!0,i=t.t0;case 19:t.prev=19,t.prev=20,!e&&o.return&&o.return();case 22:if(t.prev=22,r)throw i;t.next=25;break;case 25:return t.finish(22);case 26:return t.finish(19);case 27:case"end":return t.stop()}},t,this,[[4,15,19,27],[20,,22,26]])});n.entries=p},function(t,n,e){Object.defineProperty(n,"__esModule",{value:!0});var r,i=(r=e(1))&&r.__esModule?r.default:r,o={origin:location.origin||location.protocol+"//"+location.host,isWorker:"undefined"==typeof window&&postMessage&&location,useEagerSerialize:/MSIE [8,9]/.test(navigator.userAgent)},a={allowedOrigins:[(n.env=o).origin],enabled:!0,defaultOriginUrl:"*",safeSerialize:!1},u={workers:[],config:i.extend({},a),defaults:a};n.state=u},function(t,n,e){function r(t){return t&&t.__esModule?t.default:t}var i=function(t,n,e){return n&&o(t.prototype,n),e&&o(t,e),t};function o(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}var a=r(e(2)),u=r(e(1)),s=e(4),c=s.state,l=s.env,f=(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.__proto__=n)}(p,a.fedx.FederationClient),i(p,{shouldProcess:{value:function(){var t=!!c.config.allowedOrigins.length;return c.config.enabled&&("*"===this.options.origin||t&&u.contains(c.config.allowedOrigins,this.options.origin)||!t||this.options.isWorker&&u.contains(c.workers,this.target)||l.isWorker)}},send:{value:function(t){if(this.shouldProcess()){var n=l.isWorker?null:this.target,e=[a.fedx.transports.xframe.wrapForTransport(t)];this.options.isWorker||l.isWorker||e.push(this.options.origin),l.isWorker?this.target.postMessage.apply(n,e):1===e.length?this.target.postMessage(e[0]):this.target.postMessage(e[0],e[1])}}}}),p);function p(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,p),this.transportName="xframe",function t(n,e,r){var i=Object.getOwnPropertyDescriptor(n,e);if(void 0===i){var o=Object.getPrototypeOf(n);return null===o?void 0:t(o,e,r)}if("value"in i&&i.writable)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(Object.getPrototypeOf(p.prototype),"constructor",this).apply(this,n)}t.exports=f}],i.c=a,i.p="",i(0);function i(t){if(a[t])return a[t].exports;var n=a[t]={exports:{},id:t,loaded:!1};return o[t].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}var o,a},t.exports=r(e(57),e(14))},92:function(t,n,e){"use strict";e.d(n,"b",function(){return u}),e.d(n,"a",function(){return r});var u=function(t,n,e){var r=t.find(".js-remove-icon"),i=t.find(".js-remove-text");r.hasClass(n)?(r.removeClass(n).addClass(e),i&&i.text(Translator.trans("收起"))):(r.removeClass(e).addClass(n),i&&i.text(Translator.trans("展开")))},r=function(t,n,e,r){var i=1<arguments.length&&void 0!==n?n:".js-task-chapter",o=2<arguments.length&&void 0!==e?e:"es-icon-remove",a=3<arguments.length&&void 0!==r?r:"es-icon-anonymous-iconfont";$(0<arguments.length&&void 0!==t?t:"body").on("click",i,function(t){var n=$(t.currentTarget);n.nextUntil(i).animate({height:"toggle",opacity:"toggle"},"normal"),u(n,o,a)})}}});