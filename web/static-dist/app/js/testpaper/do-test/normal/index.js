!function(c){function n(n){for(var t,e,r=n[0],i=n[1],o=n[2],a=0,u=[];a<r.length;a++)e=r[a],Object.prototype.hasOwnProperty.call(f,e)&&f[e]&&u.push(f[e][0]),f[e]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(c[t]=i[t]);for(p&&p(n);u.length;)u.shift()();return l.push.apply(l,o||[]),s()}function s(){for(var n,t=0;t<l.length;t++){for(var e=l[t],r=!0,i=1;i<e.length;i++){var o=e[i];0!==f[o]&&(r=!1)}r&&(l.splice(t--,1),n=a(a.s=e[0]))}return n}var e={},f={283:0},l=[];function a(n){if(e[n])return e[n].exports;var t=e[n]={i:n,l:!1,exports:{}};return c[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=c,a.c=e,a.d=function(n,t,e){a.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},a.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(e,r,function(n){return t[n]}.bind(null,r));return e},a.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(t,"a",t),t},a.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},a.p="/static-dist/";var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=n,t=t.slice();for(var i=0;i<t.length;i++)n(t[i]);var p=r;l.push([765,0]),s()}({10:function(n,t){n.exports=jQuery},105:function(n,t,e){"use strict";var r=e(13),i=e.n(r),o=e(6),a=e.n(o),u=e(0),c=e.n(u),s=e(1),f=e.n(s),l=function(){function n(){c()(this,n)}return f()(n,[{key:"getAnswer",value:function(n){var t=[];return $("input[name="+n+"]:checked").each(function(){t.push($(this).val())}),t}}]),n}(),p=function(){function n(){c()(this,n)}return f()(n,[{key:"getAnswer",value:function(n){var t=[];return $("input[name="+n+"]:checked").each(function(){t.push($(this).val())}),t}}]),n}(),h=function(){function n(){c()(this,n)}return f()(n,[{key:"getAnswer",value:function(n){var t=[],e=$("[name="+n+"]").val();return t.push(e),t}},{key:"getAttachment",value:function(n){var t=[],e=$("[name="+n+"]").parent().find('[data-role="fileId"]').val();return""!=e&&t.push(e),t}}]),n}(),d=function(){function n(){c()(this,n)}return f()(n,[{key:"getAnswer",value:function(n){var t=[];return $("input[name="+n+"]").each(function(){t.push($(this).val())}),t}}]),n}(),v=function(){function n(){c()(this,n)}return f()(n,[{key:"getAnswer",value:function(n){var t=[];return $("input[name="+n+"]:checked").each(function(){t.push($(this).val())}),t}}]),n}(),g=function(){function t(n){c()(this,t),this.type=n}return f()(t,null,[{key:"getTypeBuilder",value:function(n){var t=null;switch(n){case"choice":t=new l;break;case"determine":t=new p;break;case"essay":t=new h;break;case"fill":t=new d;break;case"single_choice":case"uncertain_choice":t=new v;break;default:t=null}return t}}]),t}(),_=e(76),y=e(64),m=e(5),w=function(){function t(n){c()(this,t),this.$container=n,this.answers={},this.usedTime=0<n.find(".js-used-time").length?a()(n.find(".js-used-time").val()):0,this.$form=n.find("form"),this._initEvent(),this._initUsedTimer(),this._isCopy(),this._alwaysSave()}return f()(t,[{key:"_initEvent",value:function(){var t=this;this.$container.on("focusin","textarea",function(n){return t._showEssayInputEditor(n)}),this.$container.on("click",'[data-role="test-suspend"],[data-role="paper-submit"]',function(n){return t._btnSubmit(n)}),this.$container.on("click",".js-testpaper-question-list li",function(n){return t._choiceList(n)}),this.$container.on("click","*[data-anchor]",function(n){return t._quick2Question(n)}),this.$container.find(".js-testpaper-question-label").on("click","input",function(n){return t._choiceLable(n)}),this.$container.on("click",".js-marking",function(n){return t._markingToggle(n)}),this.$container.on("click",".js-favorite",function(n){return t._favoriteToggle(n)}),this.$container.on("click",".js-analysis",function(n){return t._analysisToggle(n)}),this.$container.on("blur",'[data-type="fill"]',function(n){return t.fillChange(n)})}},{key:"_isCopy",value:function(){this.$container.find(".js-testpaper-body").data("copy")&&new _.a}},{key:"fillChange",value:function(n){var t=$(n.currentTarget);this._renderBtnIndex(t.attr("name"),!!t.val())}},{key:"_markingToggle",value:function(n){var t=$(n.currentTarget).addClass("hidden");t.siblings(".js-marking.hidden").removeClass("hidden");var e=t.closest(".js-testpaper-question").attr("id");$('[data-anchor="#'.concat(e,'"]')).find(".js-marking-card").toggleClass("hidden")}},{key:"_favoriteToggle",value:function(n){var t=$(n.currentTarget),e=t.data("targetType"),r=t.data("targetId");$.post(t.data("url"),{targetType:e,targetId:r},function(n){t.addClass("hidden").siblings(".js-favorite.hidden").data("url",n.url),t.addClass("hidden").siblings(".js-favorite.hidden").removeClass("hidden")}).error(function(n){Object(m.a)("error",n.error.message)})}},{key:"_analysisToggle",value:function(n){var t=$(n.currentTarget);t.addClass("hidden"),t.siblings(".js-analysis.hidden").removeClass("hidden"),t.closest(".js-testpaper-question").find(".js-testpaper-question-analysis").slideToggle()}},{key:"_initUsedTimer",value:function(){var n=this;this.$usedTimer=window.setInterval(function(){n.usedTime+=1},1e3)}},{key:"_choiceLable",value:function(n){var t=$(n.currentTarget),e=t.closest(".js-testpaper-question-label");this.changeInput(e,t)}},{key:"_choiceList",value:function(n){var t=$(n.currentTarget),e=t.index(),r=t.closest(".js-testpaper-question").find(".js-testpaper-question-label"),i=r.find("label").eq(e).find("input");i.prop("checked",!i.prop("checked")).change(),this.changeInput(r,i)}},{key:"changeInput",value:function(n,t){var e=0;n.find("label").each(function(n,t){$(t).find("input").prop("checked")?($(t).addClass("active"),e++):$(t).removeClass("active")});var r=t.attr("name");this._renderBtnIndex(r,0<e)}},{key:"_renderBtnIndex",value:function(n,t,e){var r=!(1<arguments.length&&void 0!==t)||t,i=2<arguments.length&&void 0!==e&&e,o=$('[data-anchor="#question'.concat(n,'"]'));r?o.addClass("done"):o.removeClass("done"),i?o.addClass("doing").siblings(".doing").removeClass("doing"):o.removeClass("doing")}},{key:"_showEssayInputEditor",value:function(n){var t=this,e=$(n.currentTarget);if(e.hasClass("essay-input-short")){n.preventDefault(),n.stopPropagation(),$(this).blur();var r=e.siblings(".essay-input-long"),i=r.siblings(".essay-input-btn");e.hide(),r.show(),i.show();var o=CKEDITOR.replace(r.attr("id"),{toolbar:"Minimal",fileSingleSizeLimit:app.fileSingleSizeLimit,filebrowserImageUploadUrl:r.data("imageUploadUrl")});o.on("blur",function(){o.updateElement(),setTimeout(function(){r.val(o.getData()),r.change(),r.val()?t._renderBtnIndex(r.attr("name"),!0):t._renderBtnIndex(r.attr("name"),!1)},1)}),o.on("instanceReady",function(){this.focus(),i.one("click",function(){e.val($(o.getData()).text()),o.destroy(),r.hide(),i.hide(),e.show()})}),o.on("key",function(){o.updateElement(),setTimeout(function(){r.val(o.getData()),r.change()},1)}),o.on("insertHtml",function(){o.updateElement(),setTimeout(function(){r.val(o.getData()),r.change()},1)})}}},{key:"_quick2Question",value:function(n){var t=$(n.currentTarget);window.location.hash=t.data("anchor")}},{key:"_suspendSubmit",value:function(n){var t=this._getAnswers(),e=this._getAttachments();$.post(n,{data:t,usedTime:this.usedTime,attachments:e}).done(function(){}).error(function(n){Object(m.a)("error",n.error.message)})}},{key:"_btnSubmit",value:function(n){var t=$(n.currentTarget);t.button("loading"),clearInterval(this.saveTimer),this._submitTest(t.data("url"),t.data("goto"))}},{key:"_submitTest",value:function(n,t){var e=1<arguments.length&&void 0!==t?t:"",r=this._getAnswers(),i=new y.a,o=this._getAttachments();$.post(n,{data:r,usedTime:this.usedTime,attachments:o}).done(function(n){n.result&&i.emit("finish",{data:""}),""!=e||""!=n.goto?window.location.href=e:""!=n.goto?window.location.href=n.goto:""!=n.message&&Object(m.a)("error",n.message)}).error(function(n){Object(m.a)("error",n.error.message)})}},{key:"_getAnswers",value:function(){var r={};return $("*[data-type]").each(function(){var n=$(this).attr("name"),t=$(this).data("type"),e=g.getTypeBuilder(t).getAnswer(n);r[n]=e}),i()(r)}},{key:"_getAttachments",value:function(){var e={};return $('[data-type="essay"]').each(function(){var n=$(this).attr("name"),t=g.getTypeBuilder("essay").getAttachment(n);e[n]=t}),e}},{key:"_alwaysSave",value:function(){if(0<$('input[name="testSuspend"]').length){var t=this,e=$('input[name="testSuspend"]').data("url");this.saveTimer=setInterval(function(){t._suspendSubmit(e);var n=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds();Object(m.a)("success",n+Translator.trans("testpaper.widget.save_success_hint"))},18e4)}}}]),t}();t.a=w},28:function(n,t,e){"use strict";e.d(t,"a",function(){return o}),e.d(t,"d",function(){return i}),e.d(t,"e",function(){return a}),e.d(t,"c",function(){return u}),e.d(t,"b",function(){return c});e(112);var r=e(11),o=function(){var n=$(".js-panel-card");n.perfectScrollbar(),n.perfectScrollbar("update")},i=function(){if(console.log("ok"),!Object(r.f)()){var t=$(".js-testpaper-card");if(!(t.length<=0)){var e=t.offset().top;$(window).scroll(function(){var n=$(window).scrollTop();e<=n?t.addClass("affix"):t.removeClass("affix")})}}},a=function(){$(".js-btn-index").click(function(n){var t=$(n.currentTarget);$(".js-testpaper-heading").length<=0&&t.addClass("doing").siblings(".doing").removeClass("doing")})},u=function(){$("#showWrong").change(function(n){var i=$(n.currentTarget);$(".js-answer-notwrong").each(function(n,t){var e=$($(t).data("anchor")),r=e.closest(".js-testpaper-question-block");i.prop("checked")?(e.hide(),r.find(".js-testpaper-question:visible").length<=0&&r.hide()):(e.show(),r.show())}),o()})},c=function(){var t=$(".js-testpaper-watermark");0<t.length&&$.get(t.data("watermark-url"),function(n){t.each(function(){$(this).WaterMark({yPosition:"center",style:{"font-size":10},opacity:.6,contents:n})})})}},57:function(n,w,b){(function(_,y){var m;
/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -d -o ./index.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */(function(){var gi,n,t,_i="3.10.1",yi=1,mi=2,wi=4,bi=8,ki=16,xi=32,Ii=64,ji=128,$i=256,Si=30,Oi="...",Ti=150,Ai=16,Ei=200,Ci=1,Mi=2,Ri="Expected a function",Pi="__lodash_placeholder__",Di="[object Arguments]",Fi="[object Array]",Wi="[object Boolean]",Ni="[object Date]",Ui="[object Error]",Bi="[object Function]",e="[object Map]",Li="[object Number]",zi="[object Object]",qi="[object RegExp]",r="[object Set]",Qi="[object String]",i="[object WeakMap]",Ki="[object ArrayBuffer]",Hi="[object Float32Array]",Ji="[object Float64Array]",Yi="[object Int8Array]",Vi="[object Int16Array]",Xi="[object Int32Array]",Gi="[object Uint8Array]",Zi="[object Uint8ClampedArray]",no="[object Uint16Array]",to="[object Uint32Array]",eo=/\b__p \+= '';/g,ro=/\b(__p \+=) '' \+/g,io=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oo=/&(?:amp|lt|gt|quot|#39|#96);/g,ao=/[&<>"'`]/g,uo=RegExp(oo.source),co=RegExp(ao.source),so=/<%-([\s\S]+?)%>/g,fo=/<%([\s\S]+?)%>/g,lo=/<%=([\s\S]+?)%>/g,po=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ho=/^\w*$/,vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,go=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,_o=RegExp(go.source),yo=/[\u0300-\u036f\ufe20-\ufe23]/g,mo=/\\(\\)?/g,wo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bo=/\w*$/,ko=/^0[xX]/,xo=/^\[object .+?Constructor\]$/,Io=/^\d+$/,jo=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,$o=/($^)/,So=/['\n\r\u2028\u2029\\]/g,Oo=(n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")),To=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ao=-1,Eo={};Eo[Hi]=Eo[Ji]=Eo[Yi]=Eo[Vi]=Eo[Xi]=Eo[Gi]=Eo[Zi]=Eo[no]=Eo[to]=!0,Eo[Di]=Eo[Fi]=Eo[Ki]=Eo[Wi]=Eo[Ni]=Eo[Ui]=Eo[Bi]=Eo[e]=Eo[Li]=Eo[zi]=Eo[qi]=Eo[r]=Eo[Qi]=Eo[i]=!1;var Co={};Co[Di]=Co[Fi]=Co[Ki]=Co[Wi]=Co[Ni]=Co[Hi]=Co[Ji]=Co[Yi]=Co[Vi]=Co[Xi]=Co[Li]=Co[zi]=Co[qi]=Co[Qi]=Co[Gi]=Co[Zi]=Co[no]=Co[to]=!0,Co[Ui]=Co[Bi]=Co[e]=Co[r]=Co[i]=!1;var o={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},u={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},c={function:!0,object:!0},s={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},f={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},l=c[typeof w]&&w&&!w.nodeType&&w,p=c[typeof _]&&_&&!_.nodeType&&_,h=l&&p&&"object"==typeof y&&y&&y.Object&&y,d=c[typeof self]&&self&&self.Object&&self,v=c[typeof window]&&window&&window.Object&&window,Mo=(p&&p.exports,h||v!==(this&&this.window)&&v||d||this);function Ro(n,t){if(n!==t){var e=null===n,r=n===gi,i=n==n,o=null===t,a=t===gi,u=t==t;if(t<n&&!o||!i||e&&!a&&u||r&&u)return 1;if(n<t&&!e||!u||o&&!r&&i||a&&i)return-1}return 0}function Po(n,t,e){for(var r=n.length,i=e?r:-1;e?i--:++i<r;)if(t(n[i],i,n))return i;return-1}function Do(n,t,e){if(t!=t)return Ko(n,e);for(var r=e-1,i=n.length;++r<i;)if(n[r]===t)return r;return-1}function Fo(n){return"function"==typeof n||!1}function Wo(n){return null==n?"":n+""}function No(n,t){for(var e=-1,r=n.length;++e<r&&-1<t.indexOf(n.charAt(e)););return e}function Uo(n,t){for(var e=n.length;e--&&-1<t.indexOf(n.charAt(e)););return e}function Bo(n,t){return Ro(n.criteria,t.criteria)||n.index-t.index}function Lo(n){return o[n]}function zo(n){return a[n]}function qo(n,t,e){return t?n=s[n]:e&&(n=f[n]),"\\"+n}function Qo(n){return"\\"+f[n]}function Ko(n,t,e){for(var r=n.length,i=t+(e?0:-1);e?i--:++i<r;){var o=n[i];if(o!=o)return i}return-1}function Ho(n){return!!n&&"object"==typeof n}function g(n){return n<=160&&9<=n&&n<=13||32==n||160==n||5760==n||6158==n||8192<=n&&(n<=8202||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function Jo(n,t){for(var e=-1,r=n.length,i=-1,o=[];++e<r;)n[e]===t&&(n[e]=Pi,o[++i]=e);return o}function Yo(n){for(var t=-1,e=n.length;++t<e&&g(n.charCodeAt(t)););return t}function Vo(n){for(var t=n.length;t--&&g(n.charCodeAt(t)););return t}function Xo(n){return u[n]}var Go=function n(t){var T=(t=t?Go.defaults(Mo.Object(),t,Go.pick(Mo,To)):Mo).Array,e=t.Date,r=t.Error,g=t.Function,i=t.Math,o=t.Number,p=t.Object,_=t.RegExp,a=t.String,y=t.TypeError,u=T.prototype,c=p.prototype,s=a.prototype,f=g.prototype.toString,m=c.hasOwnProperty,l=0,w=c.toString,h=Mo._,d=_("^"+f.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=t.ArrayBuffer,b=t.clearTimeout,k=t.parseFloat,x=i.pow,I=c.propertyIsEnumerable,j=Wt(t,"Set"),$=t.setTimeout,S=u.splice,O=t.Uint8Array,A=Wt(t,"WeakMap"),E=i.ceil,C=Wt(p,"create"),M=i.floor,R=Wt(T,"isArray"),P=t.isFinite,D=Wt(p,"keys"),F=i.max,W=i.min,N=Wt(e,"now"),U=t.parseInt,B=i.random,L=o.NEGATIVE_INFINITY,z=o.POSITIVE_INFINITY,q=4294967295,Q=q-1,K=q>>>1,H=9007199254740991,J=A&&new A,Y={};function V(n){if(Ho(n)&&!pr(n)&&!(n instanceof Z)){if(n instanceof G)return n;if(m.call(n,"__chain__")&&m.call(n,"__wrapped__"))return ee(n)}return new G(n)}function X(){}function G(n,t,e){this.__wrapped__=n,this.__actions__=e||[],this.__chain__=!!t}V.support={};function Z(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function nn(){this.__data__={}}function tn(n){var t=n?n.length:0;for(this.data={hash:C(null),set:new j};t--;)this.push(n[t])}function en(n,t){var e=n.data;return("string"==typeof t||gr(t)?e.set.has(t):e.hash[t])?0:-1}function rn(n,t){var e=-1,r=n.length;for(t=t||T(r);++e<r;)t[e]=n[e];return t}function on(n,t){for(var e=-1,r=n.length;++e<r&&!1!==t(n[e],e,n););return n}function an(n,t){for(var e=-1,r=n.length;++e<r;)if(!t(n[e],e,n))return!1;return!0}function un(n,t){for(var e=-1,r=n.length,i=-1,o=[];++e<r;){var a=n[e];t(a,e,n)&&(o[++i]=a)}return o}function cn(n,t){for(var e=-1,r=n.length,i=T(r);++e<r;)i[e]=t(n[e],e,n);return i}function sn(n,t){for(var e=-1,r=t.length,i=n.length;++e<r;)n[i+e]=t[e];return n}function fn(n,t,e,r){var i=-1,o=n.length;for(r&&o&&(e=n[++i]);++i<o;)e=t(e,n[i],i,n);return e}function ln(n,t){for(var e=-1,r=n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}function pn(n,t,e,r){return n!==gi&&m.call(r,e)?n:t}function hn(n,t,e){for(var r=-1,i=Fr(t),o=i.length;++r<o;){var a=i[r],u=n[a],c=e(u,t[a],a,n,t);(c==c?c===u:u!=u)&&(u!==gi||a in n)||(n[a]=c)}return n}function dn(n,t){return null==t?n:gn(t,Fr(t),n)}function vn(n,t){for(var e=-1,r=null==n,i=!r&&Ut(n),o=i?n.length:0,a=t.length,u=T(a);++e<a;){var c=t[e];u[e]=i?Bt(c,o)?n[c]:gi:r?gi:n[c]}return u}function gn(n,t,e){e=e||{};for(var r=-1,i=t.length;++r<i;){var o=t[r];e[o]=n[o]}return e}function _n(n,t,e){var r=typeof n;return"function"==r?t===gi?n:tt(n,t,e):null==n?ri:"object"==r?Nn(n):t===gi?si(n):Un(n,t)}function yn(e,r,i,n,t,o,a){var u;if(i&&(u=t?i(e,n,t):i(e)),u!==gi)return u;if(!gr(e))return e;var c=pr(e);if(c){if(u=function(n){var t=n.length,e=new n.constructor(t);return t&&"string"==typeof n[0]&&m.call(n,"index")&&(e.index=n.index,e.input=n.input),e}(e),!r)return rn(e,u)}else{var s=w.call(e),f=s==Bi;if(s!=zi&&s!=Di&&(!f||t))return Co[s]?function(n,t,e){var r=n.constructor;switch(t){case Ki:return et(n);case Wi:case Ni:return new r(+n);case Hi:case Ji:case Yi:case Vi:case Xi:case Gi:case Zi:case no:case to:var i=n.buffer;return new r(e?et(i):i,n.byteOffset,n.length);case Li:case Qi:return new r(n);case qi:var o=new r(n.source,bo.exec(n));o.lastIndex=n.lastIndex}return o}(e,s,r):t?e:{};if(u=function(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=p),new t}(f?{}:e),!r)return dn(u,e)}a=a||[];for(var l=(o=o||[]).length;l--;)if(o[l]==e)return a[l];return o.push(e),a.push(u),(c?on:Cn)(e,function(n,t){u[t]=yn(n,r,i,t,e,o,a)}),u}V.templateSettings={escape:so,evaluate:fo,interpolate:lo,variable:"",imports:{_:V}};var mn=function(n){if(gr(n)){wn.prototype=n;var t=new wn;wn.prototype=gi}return t||{}};function wn(){}function bn(n,t,e){if("function"!=typeof n)throw new y(Ri);return $(function(){n.apply(gi,e)},t)}function kn(n,t){var e=n?n.length:0,r=[];if(!e)return r;var i=-1,o=Pt(),a=o==Do,u=a&&t.length>=Ei?st(t):null,c=t.length;u&&(o=en,a=!1,t=u);n:for(;++i<e;){var s=n[i];if(a&&s==s){for(var f=c;f--;)if(t[f]===s)continue n;r.push(s)}else o(t,s,0)<0&&r.push(s)}return r}var xn=ut(Cn),In=ut(Mn,!0);function jn(n,r){var i=!0;return xn(n,function(n,t,e){return i=!!r(n,t,e)}),i}function $n(n,r){var i=[];return xn(n,function(n,t,e){r(n,t,e)&&i.push(n)}),i}function Sn(n,r,t,i){var o;return t(n,function(n,t,e){if(r(n,t,e))return o=i?t:n,!1}),o}function On(n,t,e,r){r=r||[];for(var i=-1,o=n.length;++i<o;){var a=n[i];Ho(a)&&Ut(a)&&(e||pr(a)||lr(a))?t?On(a,t,e,r):sn(r,a):e||(r[r.length]=a)}return r}var Tn=ct(),An=ct(!0);function En(n,t){return Tn(n,t,Wr)}function Cn(n,t){return Tn(n,t,Fr)}function Mn(n,t){return An(n,t,Fr)}function Rn(n,t){for(var e=-1,r=t.length,i=-1,o=[];++e<r;){var a=t[e];vr(n[a])&&(o[++i]=a)}return o}function Pn(n,t,e){if(null!=n){e!==gi&&e in ne(n)&&(t=[e]);for(var r=0,i=t.length;null!=n&&r<i;)n=n[t[r++]];return r&&r==i?n:gi}}function Dn(n,t,e,r,i,o){return n===t||(null==n||null==t||!gr(n)&&!Ho(t)?n!=n&&t!=t:function(n,t,e,r,i,o,a){var u=pr(n),c=pr(t),s=Fi,f=Fi;u||((s=w.call(n))==Di?s=zi:s!=zi&&(u=kr(n))),c||((f=w.call(t))==Di?f=zi:f!=zi&&(c=kr(t)));var l=s==zi,p=f==zi,h=s==f;if(h&&!u&&!l)return function(n,t,e){switch(e){case Wi:case Ni:return+n==+t;case Ui:return n.name==t.name&&n.message==t.message;case Li:return n!=+n?t!=+t:n==+t;case qi:case Qi:return n==t+""}return!1}(n,t,s);if(!i){var d=l&&m.call(n,"__wrapped__"),v=p&&m.call(t,"__wrapped__");if(d||v)return e(d?n.value():n,v?t.value():t,r,i,o,a)}if(!h)return!1;a=a||[];for(var g=(o=o||[]).length;g--;)if(o[g]==n)return a[g]==t;o.push(n),a.push(t);var _=(u?function(n,t,e,r,i,o,a){var u=-1,c=n.length,s=t.length;if(c!=s&&!(i&&c<s))return!1;for(;++u<c;){var f=n[u],l=t[u],p=r?r(i?l:f,i?f:l,u):gi;if(p!==gi){if(p)continue;return!1}if(i){if(!ln(t,function(n){return f===n||e(f,n,r,i,o,a)}))return!1}else if(f!==l&&!e(f,l,r,i,o,a))return!1}return!0}:function(n,t,e,r,i,o,a){var u=Fr(n),c=u.length,s=Fr(t).length;if(c!=s&&!i)return!1;for(var f=c;f--;){var l=u[f];if(!(i?l in t:m.call(t,l)))return!1}for(var p=i;++f<c;){l=u[f];var h=n[l],d=t[l],v=r?r(i?d:h,i?h:d,l):gi;if(!(v===gi?e(h,d,r,i,o,a):v))return!1;p=p||"constructor"==l}if(!p){var g=n.constructor,_=t.constructor;if(g!=_&&"constructor"in n&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _))return!1}return!0})(n,t,e,r,i,o,a);return o.pop(),a.pop(),_}(n,t,Dn,e,r,i,o))}function Fn(n,t,e){var r=t.length,i=r,o=!e;if(null==n)return!i;for(n=ne(n);r--;){var a=t[r];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++r<i;){var u=(a=t[r])[0],c=n[u],s=a[1];if(o&&a[2]){if(c===gi&&!(u in n))return!1}else{var f=e?e(c,s,u):gi;if(!(f===gi?Dn(s,c,e,!0):f))return!1}}return!0}function Wn(n,r){var i=-1,o=Ut(n)?T(n.length):[];return xn(n,function(n,t,e){o[++i]=r(n,t,e)}),o}function Nn(n){var t=Ft(n);if(1==t.length&&t[0][2]){var e=t[0][0],r=t[0][1];return function(n){return null!=n&&n[e]===r&&(r!==gi||e in ne(n))}}return function(n){return Fn(n,t)}}function Un(e,r){var i=pr(e),o=zt(e)&&Kt(r),a=e+"";return e=te(e),function(n){if(null==n)return!1;var t=a;if(n=ne(n),(i||!o)&&!(t in n)){if(null==(n=1==e.length?n:Pn(n,Qn(e,0,-1))))return!1;t=le(e),n=ne(n)}return n[t]===r?r!==gi||t in n:Dn(r,n[t],gi,!0)}}function Bn(t){return function(n){return null==n?gi:n[t]}}function Ln(n,t){for(var e=n?t.length:0;e--;){var r=t[e];if(r!=i&&Bt(r)){var i=r;S.call(n,r,1)}}return n}function zn(n,t){return n+M(B()*(t-n+1))}var qn=J?function(n,t){return J.set(n,t),n}:ri;function Qn(n,t,e){var r=-1,i=n.length;(t=null!=t&&+t||0)<0&&(t=i<-t?0:i+t),(e=e===gi||i<e?i:+e||0)<0&&(e+=i),i=e<t?0:e-t>>>0,t>>>=0;for(var o=T(i);++r<i;)o[r]=n[r+t];return o}function Kn(n,r){var i;return xn(n,function(n,t,e){return!(i=r(n,t,e))}),!!i}function Hn(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n}function Jn(n,e,r){var t=Ct(),i=-1;return e=cn(e,function(n){return t(n)}),Hn(Wn(n,function(t){return{criteria:cn(e,function(n){return n(t)}),index:++i,value:t}}),function(n,t){return function(n,t,e){for(var r=-1,i=n.criteria,o=t.criteria,a=i.length,u=e.length;++r<a;){var c=Ro(i[r],o[r]);if(c){if(u<=r)return c;var s=e[r];return c*("asc"===s||!0===s?1:-1)}}return n.index-t.index}(n,t,r)})}function Yn(n,t){var e=-1,r=Pt(),i=n.length,o=r==Do,a=o&&Ei<=i,u=a?st():null,c=[];u?(r=en,o=!1):(a=!1,u=t?[]:c);n:for(;++e<i;){var s=n[e],f=t?t(s,e,n):s;if(o&&s==s){for(var l=u.length;l--;)if(u[l]===f)continue n;t&&u.push(f),c.push(s)}else r(u,f,0)<0&&((t||a)&&u.push(f),c.push(s))}return c}function Vn(n,t){for(var e=-1,r=t.length,i=T(r);++e<r;)i[e]=n[t[e]];return i}function Xn(n,t,e,r){for(var i=n.length,o=r?i:-1;(r?o--:++o<i)&&t(n[o],o,n););return e?Qn(n,r?0:o,r?o+1:i):Qn(n,r?o+1:0,r?i:o)}function Gn(n,t){var e=n;e instanceof Z&&(e=e.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];e=o.func.apply(o.thisArg,sn([e],o.args))}return e}function Zn(n,t,e){var r=0,i=n?n.length:r;if("number"==typeof t&&t==t&&i<=K){for(;r<i;){var o=r+i>>>1,a=n[o];(e?a<=t:a<t)&&null!==a?r=1+o:i=o}return i}return nt(n,t,ri,e)}function nt(n,t,e,r){t=e(t);for(var i=0,o=n?n.length:0,a=t!=t,u=null===t,c=t===gi;i<o;){var s=M((i+o)/2),f=e(n[s]),l=f!==gi,p=f==f;if(a)var h=p||r;else h=u?p&&l&&(r||null!=f):c?p&&(r||l):null!=f&&(r?f<=t:f<t);h?i=s+1:o=s}return W(o,Q)}function tt(o,a,n){if("function"!=typeof o)return ri;if(a===gi)return o;switch(n){case 1:return function(n){return o.call(a,n)};case 3:return function(n,t,e){return o.call(a,n,t,e)};case 4:return function(n,t,e,r){return o.call(a,n,t,e,r)};case 5:return function(n,t,e,r,i){return o.call(a,n,t,e,r,i)}}return function(){return o.apply(a,arguments)}}function et(n){var t=new v(n.byteLength);return new O(t).set(new O(n)),t}function rt(n,t,e){for(var r=e.length,i=-1,o=F(n.length-r,0),a=-1,u=t.length,c=T(u+o);++a<u;)c[a]=t[a];for(;++i<r;)c[e[i]]=n[i];for(;o--;)c[a++]=n[i++];return c}function it(n,t,e){for(var r=-1,i=e.length,o=-1,a=F(n.length-i,0),u=-1,c=t.length,s=T(a+c);++o<a;)s[o]=n[o];for(var f=o;++u<c;)s[f+u]=t[u];for(;++r<i;)s[f+e[r]]=n[o++];return s}function ot(u,c){return function(n,r,t){var i=c?c():{};if(r=Ct(r,t,3),pr(n))for(var e=-1,o=n.length;++e<o;){var a=n[e];u(i,a,r(a,e,n),n)}else xn(n,function(n,t,e){u(i,n,r(n,t,e),e)});return i}}function at(c){return sr(function(n,t){var e=-1,r=null==n?0:t.length,i=2<r?t[r-2]:gi,o=2<r?t[2]:gi,a=1<r?t[r-1]:gi;for("function"==typeof i?(i=tt(i,a,5),r-=2):r-=(i="function"==typeof a?a:gi)?1:0,o&&Lt(t[0],t[1],o)&&(i=r<3?gi:i,r=1);++e<r;){var u=t[e];u&&c(n,u,i)}return n})}function ut(o,a){return function(n,t){var e=n?Dt(n):0;if(!Qt(e))return o(n,t);for(var r=a?e:-1,i=ne(n);(a?r--:++r<e)&&!1!==t(i[r],r,i););return n}}function ct(c){return function(n,t,e){for(var r=ne(n),i=e(n),o=i.length,a=c?o:-1;c?a--:++a<o;){var u=i[a];if(!1===t(r[u],u,r))break}return n}}function st(n){return C&&j?new tn(n):null}function ft(o){return function(n){for(var t=-1,e=ni(Kr(n)),r=e.length,i="";++t<r;)i=o(i,e[t],t);return i}}function lt(r){return function(){var n=arguments;switch(n.length){case 0:return new r;case 1:return new r(n[0]);case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[1],n[2]);case 4:return new r(n[0],n[1],n[2],n[3]);case 5:return new r(n[0],n[1],n[2],n[3],n[4]);case 6:return new r(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new r(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=mn(r.prototype),e=r.apply(t,n);return gr(e)?e:t}}function pt(o){return function n(t,e,r){r&&Lt(t,e,r)&&(e=gi);var i=Et(t,o,gi,gi,gi,gi,gi,e);return i.placeholder=n.placeholder,i}}function ht(e,r){return sr(function(n){var t=n[0];return null==t?t:(n.push(r),e.apply(gi,n))})}function dt(s,f){return function(n,t,e){if(e&&Lt(n,t,e)&&(t=gi),1==(t=Ct(t,e,3)).length){var r=function(n,t,e,r){for(var i=-1,o=n.length,a=r,u=a;++i<o;){var c=n[i],s=+t(c);e(s,a)&&(a=s,u=c)}return u}(n=pr(n)?n:Zt(n),t,s,f);if(!n.length||r!==f)return r}return i=t,o=s,c=u=a=f,xn(n,function(n,t,e){var r=+i(n,t,e);(o(r,u)||r===a&&r===c)&&(u=r,c=n)}),c;var i,o,a,u,c}}function vt(i,o){return function(n,t,e){if(t=Ct(t,e,3),pr(n)){var r=Po(n,t,o);return-1<r?n[r]:gi}return Sn(n,t,i)}}function gt(r){return function(n,t,e){return n&&n.length?Po(n,t=Ct(t,e,3),r):-1}}function _t(r){return function(n,t,e){return Sn(n,t=Ct(t,e,3),r,!0)}}function yt(c){return function(){for(var i,o=arguments.length,n=c?o:-1,t=0,a=T(o);c?n--:++n<o;){var e=a[t++]=arguments[n];if("function"!=typeof e)throw new y(Ri);!i&&G.prototype.thru&&"wrapper"==Rt(e)&&(i=new G([],!0))}for(n=i?-1:o;++n<o;){var r=Rt(e=a[n]),u="wrapper"==r?Mt(e):gi;i=u&&qt(u[0])&&u[1]==(ji|bi|xi|$i)&&!u[4].length&&1==u[9]?i[Rt(u[0])].apply(i,u[3]):1==e.length&&qt(e)?i[r]():i.thru(e)}return function(){var n=arguments,t=n[0];if(i&&1==n.length&&pr(t)&&t.length>=Ei)return i.plant(t).value();for(var e=0,r=o?a[e].apply(this,n):t;++e<o;)r=a[e].call(this,r);return r}}}function mt(r,i){return function(n,t,e){return"function"==typeof t&&e===gi&&pr(n)?r(n,t):i(n,tt(t,e,3))}}function wt(r){return function(n,t,e){return"function"==typeof t&&e===gi||(t=tt(t,e,3)),r(n,t,Wr)}}function bt(r){return function(n,t,e){return"function"==typeof t&&e===gi||(t=tt(t,e,3)),r(n,t)}}function kt(a){return function(n,i,t){var o={};return i=Ct(i,t,3),Cn(n,function(n,t,e){var r=i(n,t,e);n=a?n:r,o[t=a?r:t]=n}),o}}function xt(r){return function(n,t,e){return n=Wo(n),(r?n:"")+St(n,t,e)+(r?"":n)}}function It(r){var i=sr(function(n,t){var e=Jo(t,i.placeholder);return Et(n,r,gi,t,e)});return i}function jt(s,f){return function(n,t,e,r){var i,o,a,u,c=arguments.length<3;return"function"==typeof t&&r===gi&&pr(n)?s(n,t,e,c):(i=n,o=Ct(t,r,4),a=e,u=c,f(i,function(n,t,e){a=u?(u=!1,n):o(a,n,t,e)}),a)}}function $t(p,h,d,v,g,_,y,m,w,b){var k=h&ji,x=h&yi,I=h&mi,j=h&bi,$=h&wi,S=h&ki,O=I?gi:lt(p);return function n(){for(var t=arguments.length,e=t,r=T(t);e--;)r[e]=arguments[e];if(v&&(r=rt(r,v,g)),_&&(r=it(r,_,y)),j||S){var i=n.placeholder,o=Jo(r,i);if((t-=o.length)<b){var a=m?rn(m):gi,u=F(b-t,0);h|=j?xi:Ii,h&=~(j?Ii:xi),$||(h&=~(yi|mi));var c=[p,h,d,j?r:gi,j?o:gi,j?gi:r,j?gi:o,a,w,u],s=$t.apply(gi,c);return qt(p)&&Xt(s,c),s.placeholder=i,s}}var f=x?d:this,l=I?f[p]:p;return m&&(r=function(n,t){for(var e=n.length,r=W(t.length,e),i=rn(n);r--;){var o=t[r];n[r]=Bt(o,e)?i[o]:gi}return n}(r,m)),k&&w<r.length&&(r.length=w),this&&this!==Mo&&this instanceof n&&(l=O||lt(p)),l.apply(f,r)}}function St(n,t,e){var r=n.length;if((t=+t)<=r||!P(t))return"";var i=t-r;return Vr(e=null==e?" ":e+"",E(i/e.length)).slice(0,i)}function Ot(a,n,u,c){var s=n&yi,f=lt(a);return function n(){for(var t=-1,e=arguments.length,r=-1,i=c.length,o=T(i+e);++r<i;)o[r]=c[r];for(;e--;)o[r++]=arguments[++t];return(this&&this!==Mo&&this instanceof n?f:a).apply(s?u:this,o)}}function Tt(n){var e=i[n];return function(n,t){return(t=t!==gi&&+t||0)?(t=x(10,t),e(n*t)/t):e(n)}}function At(o){return function(n,t,e,r){var i=Ct(e);return null==e&&i===_n?Zn(n,t,o):nt(n,t,i(e,r,1),o)}}function Et(n,t,e,r,i,o,a,u){var c=t&mi;if(!c&&"function"!=typeof n)throw new y(Ri);var s=r?r.length:0;if(s||(t&=~(xi|Ii),r=i=gi),s-=i?i.length:0,t&Ii){var f=r,l=i;r=i=gi}var p,h,d,v=c?gi:Mt(n),g=[n,t,e,r,i,f,l,o,a,u];if(v&&(function(n,t){var e=n[1],r=t[1],i=e|r,o=i<ji,a=r==ji&&e==bi||r==ji&&e==$i&&n[7].length<=t[8]||r==(ji|$i)&&e==bi;if(o||a){r&yi&&(n[2]=t[2],i|=e&yi?0:wi);var u=t[3];if(u){var c=n[3];n[3]=c?rt(c,u,t[4]):rn(u),n[4]=c?Jo(n[3],Pi):rn(t[4])}(u=t[5])&&(c=n[5],n[5]=c?it(c,u,t[6]):rn(u),n[6]=c?Jo(n[5],Pi):rn(t[6])),(u=t[7])&&(n[7]=rn(u)),r&ji&&(n[8]=null==n[8]?t[8]:W(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=i}}(g,v),t=g[1],u=g[9]),g[9]=null==u?c?0:n.length:F(u-s,0)||0,t==yi)var _=(p=g[0],h=g[2],d=lt(p),function n(){return(this&&this!==Mo&&this instanceof n?d:p).apply(h,arguments)});else _=t!=xi&&t!=(yi|xi)||g[4].length?$t.apply(gi,g):Ot.apply(gi,g);return(v?qn:Xt)(_,g)}function Ct(n,t,e){var r=V.callback||ei;return r=r===ei?_n:r,e?r(n,t,e):r}var Mt=J?function(n){return J.get(n)}:ci;function Rt(n){for(var t=n.name,e=Y[t],r=e?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==n)return i.name}return t}function Pt(n,t,e){var r=V.indexOf||se;return r=r===se?Do:r,n?r(n,t,e):r}var Dt=Bn("length");function Ft(n){for(var t=Lr(n),e=t.length;e--;)t[e][2]=Kt(t[e][1]);return t}function Wt(n,t){var e=null==n?gi:n[t];return _r(e)?e:gi}function Nt(n,t,e){null==n||zt(t,n)||(n=1==(t=te(t)).length?n:Pn(n,Qn(t,0,-1)),t=le(t));var r=null==n?n:n[t];return null==r?gi:r.apply(n,e)}function Ut(n){return null!=n&&Qt(Dt(n))}function Bt(n,t){return n="number"==typeof n||Io.test(n)?+n:-1,t=null==t?H:t,-1<n&&n%1==0&&n<t}function Lt(n,t,e){if(gr(e)){var r=typeof t;if("number"==r?Ut(e)&&Bt(t,e.length):"string"==r&&t in e){var i=e[t];return n==n?n===i:i!=i}}}function zt(n,t){var e=typeof n;return!!("string"==e&&ho.test(n)||"number"==e)||!pr(n)&&(!po.test(n)||null!=t&&n in ne(t))}function qt(n){var t=Rt(n);if(t in Z.prototype){var e=V[t];if(n===e)return 1;var r=Mt(e);return r&&n===r[0]}}function Qt(n){return"number"==typeof n&&-1<n&&n%1==0&&n<=H}function Kt(n){return n==n&&!gr(n)}function Ht(n,t){n=ne(n);for(var e=-1,r=t.length,i={};++e<r;){var o=t[e];o in n&&(i[o]=n[o])}return i}function Jt(n,r){var i={};return En(n,function(n,t,e){r(n,t,e)&&(i[t]=n)}),i}var Yt,Vt,Xt=(Vt=Yt=0,function(n,t){var e=Ke(),r=Ai-(e-Vt);if(Vt=e,0<r){if(++Yt>=Ti)return n}else Yt=0;return qn(n,t)});function Gt(n){for(var t=Wr(n),e=t.length,r=e&&n.length,i=!!r&&Qt(r)&&(pr(n)||lr(n)),o=-1,a=[];++o<e;){var u=t[o];(i&&Bt(u,r)||m.call(n,u))&&a.push(u)}return a}function Zt(n){return null==n?[]:Ut(n)?gr(n)?n:p(n):qr(n)}function ne(n){return gr(n)?n:p(n)}function te(n){if(pr(n))return n;var i=[];return Wo(n).replace(vo,function(n,t,e,r){i.push(e?r.replace(mo,"$1"):t||n)}),i}function ee(n){return n instanceof Z?n.clone():new G(n.__wrapped__,n.__chain__,rn(n.__actions__))}var re=sr(function(n,t){return Ho(n)&&Ut(n)?kn(n,On(t,!1,!0)):[]});function ie(n,t,e){return n&&n.length?((e?Lt(n,t,e):null==t)&&(t=1),Qn(n,t<0?0:t)):[]}function oe(n,t,e){var r=n?n.length:0;return r?((e?Lt(n,t,e):null==t)&&(t=1),Qn(n,0,(t=r-(+t||0))<0?0:t)):[]}var ae=gt(),ue=gt(!0);function ce(n){return n?n[0]:gi}function se(n,t,e){var r=n?n.length:0;if(!r)return-1;if("number"==typeof e)e=e<0?F(r+e,0):e;else if(e){var i=Zn(n,t);return i<r&&(t==t?t===n[i]:n[i]!=n[i])?i:-1}return Do(n,t,e||0)}var fe=sr(function(n){for(var t=n.length,e=t,r=T(f),i=Pt(),o=i==Do,a=[];e--;){var u=n[e]=Ut(u=n[e])?u:[];r[e]=o&&120<=u.length?st(e&&u):null}var c=n[0],s=-1,f=c?c.length:0,l=r[0];n:for(;++s<f;)if(u=c[s],(l?en(l,u):i(a,u,0))<0){for(e=t;--e;){var p=r[e];if((p?en(p,u):i(n[e],u,0))<0)continue n}l&&l.push(u),a.push(u)}return a});function le(n){var t=n?n.length:0;return t?n[t-1]:gi}var pe=sr(function(n,t){var e=vn(n,t=On(t));return Ln(n,t.sort(Ro)),e});function he(n){return ie(n,1)}var de=At(),ve=At(!0);var ge=sr(function(n){return Yn(On(n,!1,!0))});function _e(n,t,e,r){if(!n||!n.length)return[];null!=t&&"boolean"!=typeof t&&(e=Lt(n,t,r=e)?gi:t,t=!1);var i=Ct();return null==e&&i===_n||(e=i(e,r,3)),(t&&Pt()==Do?function(n,t){for(var e,r=-1,i=n.length,o=-1,a=[];++r<i;){var u=n[r],c=t?t(u,r,n):u;r&&e===c||(e=c,a[++o]=u)}return a}:Yn)(n,e)}function ye(n){if(!n||!n.length)return[];var t=-1,e=0;n=un(n,function(n){return Ut(n)&&(e=F(n.length,e),1)});for(var r=T(e);++t<e;)r[t]=cn(n,Bn(t));return r}function me(n,t,e){if(!n||!n.length)return[];var r=ye(n);return null==t?r:(t=tt(t,e,4),cn(r,function(n){return fn(n,t,gi,!0)}))}var we=sr(function(n,t){return Ut(n)?kn(n,t):[]});var be=sr(ye);function ke(n,t){var e=-1,r=n?n.length:0,i={};for(!r||t||pr(n[0])||(t=[]);++e<r;){var o=n[e];t?i[o]=t[e]:o&&(i[o[0]]=o[1])}return i}var xe=sr(function(n){var t=n.length,e=2<t?n[t-2]:gi,r=1<t?n[t-1]:gi;return 2<t&&"function"==typeof e?t-=2:(e=1<t&&"function"==typeof r?(--t,r):gi,r=gi),n.length=t,me(n,e,r)});function Ie(n){var t=V(n);return t.__chain__=!0,t}function je(n,t,e){return t.call(e,n)}var $e=sr(function(t){return t=On(t),this.thru(function(n){return function(n,t){for(var e=-1,r=n.length,i=-1,o=t.length,a=T(r+o);++e<r;)a[e]=n[e];for(;++i<o;)a[e++]=t[i];return a}(pr(n)?n:[ne(n)],t)})});var Se=sr(function(n,t){return vn(n,On(t))}),Oe=ot(function(n,t,e){m.call(n,e)?++n[e]:n[e]=1});function Te(n,t,e){var r=pr(n)?an:jn;return e&&Lt(n,t,e)&&(t=gi),"function"==typeof t&&e===gi||(t=Ct(t,e,3)),r(n,t)}function Ae(n,t,e){return(pr(n)?un:$n)(n,t=Ct(t,e,3))}var Ee=vt(xn),Ce=vt(In,!0);var Me=mt(on,xn),Re=mt(function(n,t){for(var e=n.length;e--&&!1!==t(n[e],e,n););return n},In),Pe=ot(function(n,t,e){m.call(n,e)?n[e].push(t):n[e]=[t]});function De(n,t,e,r){var i=n?Dt(n):0;return Qt(i)||(i=(n=qr(n)).length),e="number"!=typeof e||r&&Lt(t,e,r)?0:e<0?F(i+e,0):e||0,"string"==typeof n||!pr(n)&&br(n)?e<=i&&-1<n.indexOf(t,e):!!i&&-1<Pt(n,t,e)}var Fe=ot(function(n,t,e){n[e]=t}),We=sr(function(n,e,r){var i=-1,o="function"==typeof e,a=zt(e),u=Ut(n)?T(n.length):[];return xn(n,function(n){var t=o?e:a&&null!=n?n[e]:gi;u[++i]=t?t.apply(n,r):Nt(n,e,r)}),u});function Ne(n,t,e){return(pr(n)?cn:Wn)(n,t=Ct(t,e,3))}var Ue=ot(function(n,t,e){n[e?0:1].push(t)},function(){return[[],[]]});var Be=jt(fn,xn),Le=jt(function(n,t,e,r){var i=n.length;for(r&&i&&(e=n[--i]);i--;)e=t(e,n[i],i,n);return e},In);function ze(n,t,e){if(e?Lt(n,t,e):null==t)return 0<(r=(n=Zt(n)).length)?n[zn(0,r-1)]:gi;var r,i=-1,o=Ir(n),a=(r=o.length)-1;for(t=W(!(t<0)&&+t||0,r);++i<t;){var u=zn(i,a),c=o[u];o[u]=o[i],o[i]=c}return o.length=t,o}function qe(n,t,e){var r=pr(n)?ln:Kn;return e&&Lt(n,t,e)&&(t=gi),"function"==typeof t&&e===gi||(t=Ct(t,e,3)),r(n,t)}var Qe=sr(function(n,t){if(null==n)return[];var e=t[2];return e&&Lt(t[0],t[1],e)&&(t.length=1),Jn(n,On(t),[])});var Ke=N||function(){return(new e).getTime()};function He(n,t){var e;if("function"!=typeof t){if("function"!=typeof n)throw new y(Ri);var r=n;n=t,t=r}return function(){return 0<--n&&(e=t.apply(this,arguments)),n<=1&&(t=gi),e}}var Je=sr(function(n,t,e){var r=yi;if(e.length){var i=Jo(e,Je.placeholder);r|=xi}return Et(n,r,t,e,i)}),Ye=sr(function(n,t){for(var e=-1,r=(t=t.length?On(t):Dr(n)).length;++e<r;){var i=t[e];n[i]=Et(n[i],yi,n)}return n}),Ve=sr(function(n,t,e){var r=yi|mi;if(e.length){var i=Jo(e,Ve.placeholder);r|=xi}return Et(t,r,n,e,i)}),Xe=pt(bi),Ge=pt(ki);function Ze(r,i,n){var o,a,u,c,s,f,l,p=0,h=!1,d=!0;if("function"!=typeof r)throw new y(Ri);if(i=!(i<0)&&+i||0,!0===n){var v=!0;d=!1}else gr(n)&&(v=!!n.leading,h="maxWait"in n&&F(+n.maxWait||0,i),d="trailing"in n?!!n.trailing:d);function t(n,t){t&&b(t),a=f=l=gi,n&&(p=Ke(),u=r.apply(s,o),f||a||(o=s=gi))}function g(){var n=i-(Ke()-c);n<=0||i<n?t(l,a):f=$(g,n)}function _(){t(d,f)}function e(){if(o=arguments,c=Ke(),s=this,l=d&&(f||!v),!1===h)var n=v&&!f;else{a||v||(p=c);var t=h-(c-p),e=t<=0||h<t;e?(a=a&&b(a),p=c,u=r.apply(s,o)):a=a||$(_,t)}return e&&f?f=b(f):f||i===h||(f=$(g,i)),n&&(e=!0,u=r.apply(s,o)),!e||f||a||(o=s=gi),u}return e.cancel=function(){f&&b(f),a&&b(a),p=0,a=f=l=gi},e}var nr=sr(function(n,t){return bn(n,1,t)}),tr=sr(function(n,t,e){return bn(n,t,e)}),er=yt(),rr=yt(!0);function ir(i,o){if("function"!=typeof i||o&&"function"!=typeof o)throw new y(Ri);var a=function(){var n=arguments,t=o?o.apply(this,n):n[0],e=a.cache;if(e.has(t))return e.get(t);var r=i.apply(this,n);return a.cache=e.set(t,r),r};return a.cache=new ir.Cache,a}var or=sr(function(e,r){if(r=On(r),"function"!=typeof e||!an(r,Fo))throw new y(Ri);var i=r.length;return sr(function(n){for(var t=W(n.length,i);t--;)n[t]=r[t](n[t]);return e.apply(this,n)})});var ar=It(xi),ur=It(Ii),cr=sr(function(n,t){return Et(n,$i,gi,gi,gi,On(t))});function sr(o,a){if("function"!=typeof o)throw new y(Ri);return a=F(a===gi?o.length-1:+a||0,0),function(){for(var n=arguments,t=-1,e=F(n.length-a,0),r=T(e);++t<e;)r[t]=n[a+t];switch(a){case 0:return o.call(this,r);case 1:return o.call(this,n[0],r);case 2:return o.call(this,n[0],n[1],r)}var i=T(a+1);for(t=-1;++t<a;)i[t]=n[t];return i[a]=r,o.apply(this,i)}}function fr(n,t){return t<n}function lr(n){return Ho(n)&&Ut(n)&&m.call(n,"callee")&&!I.call(n,"callee")}var pr=R||function(n){return Ho(n)&&Qt(n.length)&&w.call(n)==Fi};function hr(n,t,e,r){var i=(e="function"==typeof e?tt(e,r,3):gi)?e(n,t):gi;return i===gi?Dn(n,t,e):!!i}function dr(n){return Ho(n)&&"string"==typeof n.message&&w.call(n)==Ui}function vr(n){return gr(n)&&w.call(n)==Bi}function gr(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function _r(n){return null!=n&&(vr(n)?d.test(f.call(n)):Ho(n)&&xo.test(n))}function yr(n){return"number"==typeof n||Ho(n)&&w.call(n)==Li}function mr(n){var t,e;return!(!Ho(n)||w.call(n)!=zi||lr(n)||!(m.call(n,"constructor")||"function"!=typeof(t=n.constructor)||t instanceof t))&&(En(n,function(n,t){e=t}),e===gi||m.call(n,e))}function wr(n){return gr(n)&&w.call(n)==qi}function br(n){return"string"==typeof n||Ho(n)&&w.call(n)==Qi}function kr(n){return Ho(n)&&Qt(n.length)&&!!Eo[w.call(n)]}function xr(n,t){return n<t}function Ir(n){var t=n?Dt(n):0;return Qt(t)?t?rn(n):[]:qr(n)}function jr(n){return gn(n,Wr(n))}var $r=at(function o(a,u,c,s,f){if(!gr(a))return a;var l=Ut(u)&&(pr(u)||kr(u)),p=l?gi:Fr(u);return on(p||u,function(n,t){if(p&&(n=u[t=n]),Ho(n))!function(n,t,e,r,i,o,a){for(var u=o.length,c=t[e];u--;)if(o[u]==c)return n[e]=a[u];var s=n[e],f=i?i(s,c,e,n,t):gi,l=f===gi;l&&(Ut(f=c)&&(pr(c)||kr(c))?f=pr(s)?s:Ut(s)?rn(s):[]:mr(c)||lr(c)?f=lr(s)?jr(s):mr(s)?s:{}:l=!1),o.push(c),a.push(f),l?n[e]=r(f,c,i,o,a):(f==f?f!==s:s==s)&&(n[e]=f)}(a,u,t,o,c,s=s||[],f=f||[]);else{var e=a[t],r=c?c(e,n,t,a,u):gi,i=r===gi;i&&(r=n),r===gi&&(!l||t in a)||!i&&(r==r?r===e:e!=e)||(a[t]=r)}}),a}),Sr=at(function(n,t,e){return e?hn(n,t,e):dn(n,t)});var Or=ht(Sr,function(n,t){return n===gi?t:n}),Tr=ht($r,function n(t,e){return t===gi?e:$r(t,e,n)}),Ar=_t(Cn),Er=_t(Mn),Cr=wt(Tn),Mr=wt(An),Rr=bt(Cn),Pr=bt(Mn);function Dr(n){return Rn(n,Wr(n))}var Fr=D?function(n){var t=null==n?gi:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Ut(n)?Gt(n):gr(n)?D(n):[]}:Gt;function Wr(n){if(null==n)return[];gr(n)||(n=p(n));var t=n.length;t=t&&Qt(t)&&(pr(n)||lr(n))&&t||0;for(var e=n.constructor,r=-1,i="function"==typeof e&&e.prototype===n,o=T(t),a=0<t;++r<t;)o[r]=r+"";for(var u in n)a&&Bt(u,t)||"constructor"==u&&(i||!m.call(n,u))||o.push(u);return o}var Nr=kt(!0),Ur=kt(),Br=sr(function(n,t){if(null==n)return{};if("function"!=typeof t[0])return t=cn(On(t),a),Ht(n,kn(Wr(n),t));var r=tt(t[0],t[1],3);return Jt(n,function(n,t,e){return!r(n,t,e)})});function Lr(n){n=ne(n);for(var t=-1,e=Fr(n),r=e.length,i=T(r);++t<r;){var o=e[t];i[t]=[o,n[o]]}return i}var zr=sr(function(n,t){return null==n?{}:"function"==typeof t[0]?Jt(n,tt(t[0],t[1],3)):Ht(n,On(t))});function qr(n){return Vn(n,Fr(n))}var Qr=ft(function(n,t,e){return t=t.toLowerCase(),n+(e?t.charAt(0).toUpperCase()+t.slice(1):t)});function Kr(n){return(n=Wo(n))&&n.replace(jo,Lo).replace(yo,"")}var Hr=ft(function(n,t,e){return n+(e?"-":"")+t.toLowerCase()});var Jr=xt(),Yr=xt(!0);function Vr(n,t){var e="";if(n=Wo(n),(t=+t)<1||!n||!P(t))return e;for(;t%2&&(e+=n),n+=n,t=M(t/2););return e}var Xr=ft(function(n,t,e){return n+(e?"_":"")+t.toLowerCase()}),Gr=ft(function(n,t,e){return n+(e?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))});function Zr(n,t,e){var r=n;return(n=Wo(n))?(e?Lt(r,t,e):null==t)?n.slice(Yo(n),Vo(n)+1):(t+="",n.slice(No(n,t),Uo(n,t)+1)):n}function ni(n,t,e){return e&&Lt(n,t,e)&&(t=gi),(n=Wo(n)).match(t||Oo)||[]}var ti=sr(function(n,t){try{return n.apply(gi,t)}catch(n){return dr(n)?n:new r(n)}});function ei(n,t,e){return e&&Lt(n,t,e)&&(t=gi),Ho(n)?ii(n):_n(n,t)}function ri(n){return n}function ii(n){return Nn(yn(n,!0))}var oi=sr(function(t,e){return function(n){return Nt(n,t,e)}}),ai=sr(function(t,e){return function(n){return Nt(t,n,e)}});function ui(r,n,t){if(null==t){var e=gr(n),i=e?Fr(n):gi,o=i&&i.length?Rn(n,i):gi;(o?o.length:e)||(o=!1,t=n,n=r,r=this)}o=o||Rn(n,Fr(n));var a=!0,u=-1,c=vr(r),s=o.length;!1===t?a=!1:gr(t)&&"chain"in t&&(a=t.chain);for(;++u<s;){var f=o[u],l=n[f];r[f]=l,c&&(r.prototype[f]=function(e){return function(){var n=this.__chain__;if(a||n){var t=r(this.__wrapped__);return(t.__actions__=rn(this.__actions__)).push({func:e,args:arguments,thisArg:r}),t.__chain__=n,t}return e.apply(r,sn([this.value()],arguments))}}(l))}return r}function ci(){}function si(n){return zt(n)?Bn(n):(e=(t=n)+"",t=te(t),function(n){return Pn(n,t,e)});var t,e}var fi,li=Tt("ceil"),pi=Tt("floor"),hi=dt(fr,L),di=dt(xr,z),vi=Tt("round");return V.prototype=X.prototype,(G.prototype=mn(X.prototype)).constructor=G,(Z.prototype=mn(X.prototype)).constructor=Z,nn.prototype.delete=function(n){return this.has(n)&&delete this.__data__[n]},nn.prototype.get=function(n){return"__proto__"==n?gi:this.__data__[n]},nn.prototype.has=function(n){return"__proto__"!=n&&m.call(this.__data__,n)},nn.prototype.set=function(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this},tn.prototype.push=function(n){var t=this.data;"string"==typeof n||gr(n)?t.set.add(n):t.hash[n]=!0},ir.Cache=nn,V.after=function(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new y(Ri);var e=n;n=t,t=e}return n=P(n=+n)?n:0,function(){if(--n<1)return t.apply(this,arguments)}},V.ary=function(n,t,e){return e&&Lt(n,t,e)&&(t=gi),t=n&&null==t?n.length:F(+t||0,0),Et(n,ji,gi,gi,gi,gi,t)},V.assign=Sr,V.at=Se,V.before=He,V.bind=Je,V.bindAll=Ye,V.bindKey=Ve,V.callback=ei,V.chain=Ie,V.chunk=function(n,t,e){t=(e?Lt(n,t,e):null==t)?1:F(M(t)||1,1);for(var r=0,i=n?n.length:0,o=-1,a=T(E(i/t));r<i;)a[++o]=Qn(n,r,r+=t);return a},V.compact=function(n){for(var t=-1,e=n?n.length:0,r=-1,i=[];++t<e;){var o=n[t];o&&(i[++r]=o)}return i},V.constant=function(n){return function(){return n}},V.countBy=Oe,V.create=function(n,t,e){var r=mn(n);return e&&Lt(n,t,e)&&(t=gi),t?dn(r,t):r},V.curry=Xe,V.curryRight=Ge,V.debounce=Ze,V.defaults=Or,V.defaultsDeep=Tr,V.defer=nr,V.delay=tr,V.difference=re,V.drop=ie,V.dropRight=oe,V.dropRightWhile=function(n,t,e){return n&&n.length?Xn(n,Ct(t,e,3),!0,!0):[]},V.dropWhile=function(n,t,e){return n&&n.length?Xn(n,Ct(t,e,3),!0):[]},V.fill=function(n,t,e,r){var i=n?n.length:0;return i?(e&&"number"!=typeof e&&Lt(n,t,e)&&(e=0,r=i),function(n,t,e,r){var i=n.length;for((e=null!=e&&+e||0)<0&&(e=i<-e?0:i+e),(r=r===gi||i<r?i:+r||0)<0&&(r+=i),i=r<e?0:r>>>0,e>>>=0;e<i;)n[e++]=t;return n}(n,t,e,r)):[]},V.filter=Ae,V.flatten=function(n,t,e){var r=n?n.length:0;return e&&Lt(n,t,e)&&(t=!1),r?On(n,t):[]},V.flattenDeep=function(n){return n&&n.length?On(n,!0):[]},V.flow=er,V.flowRight=rr,V.forEach=Me,V.forEachRight=Re,V.forIn=Cr,V.forInRight=Mr,V.forOwn=Rr,V.forOwnRight=Pr,V.functions=Dr,V.groupBy=Pe,V.indexBy=Fe,V.initial=function(n){return oe(n,1)},V.intersection=fe,V.invert=function(n,t,e){e&&Lt(n,t,e)&&(t=gi);for(var r=-1,i=Fr(n),o=i.length,a={};++r<o;){var u=i[r],c=n[u];t?m.call(a,c)?a[c].push(u):a[c]=[u]:a[c]=u}return a},V.invoke=We,V.keys=Fr,V.keysIn=Wr,V.map=Ne,V.mapKeys=Nr,V.mapValues=Ur,V.matches=ii,V.matchesProperty=function(n,t){return Un(n,yn(t,!0))},V.memoize=ir,V.merge=$r,V.method=oi,V.methodOf=ai,V.mixin=ui,V.modArgs=or,V.negate=function(n){if("function"!=typeof n)throw new y(Ri);return function(){return!n.apply(this,arguments)}},V.omit=Br,V.once=function(n){return He(2,n)},V.pairs=Lr,V.partial=ar,V.partialRight=ur,V.partition=Ue,V.pick=zr,V.pluck=function(n,t){return Ne(n,si(t))},V.property=si,V.propertyOf=function(t){return function(n){return Pn(t,te(n),n+"")}},V.pull=function(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var e=0,r=Pt(),i=n.length;++e<i;)for(var o=0,a=n[e];-1<(o=r(t,a,o));)S.call(t,o,1);return t},V.pullAt=pe,V.range=function(n,t,e){e&&Lt(n,t,e)&&(t=e=gi),n=+n||0,null==t?(t=n,n=0):t=+t||0;for(var r=-1,i=F(E((t-n)/((e=null==e?1:+e||0)||1)),0),o=T(i);++r<i;)o[r]=n,n+=e;return o},V.rearg=cr,V.reject=function(n,r,t){var e=pr(n)?un:$n;return r=Ct(r,t,3),e(n,function(n,t,e){return!r(n,t,e)})},V.remove=function(n,t,e){var r=[];if(!n||!n.length)return r;var i=-1,o=[],a=n.length;for(t=Ct(t,e,3);++i<a;){var u=n[i];t(u,i,n)&&(r.push(u),o.push(i))}return Ln(n,o),r},V.rest=he,V.restParam=sr,V.set=function(n,t,e){if(null==n)return n;for(var r=t+"",i=-1,o=(t=null!=n[r]||zt(t,n)?[r]:te(t)).length,a=o-1,u=n;null!=u&&++i<o;){var c=t[i];gr(u)&&(i==a?u[c]=e:null==u[c]&&(u[c]=Bt(t[i+1])?[]:{})),u=u[c]}return n},V.shuffle=function(n){return ze(n,z)},V.slice=function(n,t,e){var r=n?n.length:0;return r?(e&&"number"!=typeof e&&Lt(n,t,e)&&(t=0,e=r),Qn(n,t,e)):[]},V.sortBy=function(n,r,t){if(null==n)return[];t&&Lt(n,r,t)&&(r=gi);var i=-1;return r=Ct(r,t,3),Hn(Wn(n,function(n,t,e){return{criteria:r(n,t,e),index:++i,value:n}}),Bo)},V.sortByAll=Qe,V.sortByOrder=function(n,t,e,r){return null==n?[]:(r&&Lt(t,e,r)&&(e=gi),pr(t)||(t=null==t?[]:[t]),pr(e)||(e=null==e?[]:[e]),Jn(n,t,e))},V.spread=function(t){if("function"!=typeof t)throw new y(Ri);return function(n){return t.apply(this,n)}},V.take=function(n,t,e){return n&&n.length?((e?Lt(n,t,e):null==t)&&(t=1),Qn(n,0,t<0?0:t)):[]},V.takeRight=function(n,t,e){var r=n?n.length:0;return r?((e?Lt(n,t,e):null==t)&&(t=1),Qn(n,(t=r-(+t||0))<0?0:t)):[]},V.takeRightWhile=function(n,t,e){return n&&n.length?Xn(n,Ct(t,e,3),!1,!0):[]},V.takeWhile=function(n,t,e){return n&&n.length?Xn(n,Ct(t,e,3)):[]},V.tap=function(n,t,e){return t.call(e,n),n},V.throttle=function(n,t,e){var r=!0,i=!0;if("function"!=typeof n)throw new y(Ri);return!1===e?r=!1:gr(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),Ze(n,t,{leading:r,maxWait:+t,trailing:i})},V.thru=je,V.times=function(n,t,e){if((n=M(n))<1||!P(n))return[];var r=-1,i=T(W(n,q));for(t=tt(t,e,1);++r<n;)r<q?i[r]=t(r):t(r);return i},V.toArray=Ir,V.toPlainObject=jr,V.transform=function(n,r,i,t){var e=pr(n)||kr(n);if(r=Ct(r,t,4),null==i)if(e||gr(n)){var o=n.constructor;i=e?pr(n)?new o:[]:mn(vr(o)?o.prototype:gi)}else i={};return(e?on:Cn)(n,function(n,t,e){return r(i,n,t,e)}),i},V.union=ge,V.uniq=_e,V.unzip=ye,V.unzipWith=me,V.values=qr,V.valuesIn=function(n){return Vn(n,Wr(n))},V.where=function(n,t){return Ae(n,Nn(t))},V.without=we,V.wrap=function(n,t){return Et(t=null==t?ri:t,xi,gi,[n],[])},V.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var e=arguments[n];if(Ut(e))var r=r?sn(kn(r,e),kn(e,r)):e}return r?Yn(r):[]},V.zip=be,V.zipObject=ke,V.zipWith=xe,V.backflow=rr,V.collect=Ne,V.compose=rr,V.each=Me,V.eachRight=Re,V.extend=Sr,V.iteratee=ei,V.methods=Dr,V.object=ke,V.select=Ae,V.tail=he,V.unique=_e,ui(V,V),V.add=function(n,t){return(+n||0)+(+t||0)},V.attempt=ti,V.camelCase=Qr,V.capitalize=function(n){return(n=Wo(n))&&n.charAt(0).toUpperCase()+n.slice(1)},V.ceil=li,V.clone=function(n,t,e,r){return t&&"boolean"!=typeof t&&Lt(n,t,e)?t=!1:"function"==typeof t&&(r=e,e=t,t=!1),"function"==typeof e?yn(n,t,tt(e,r,1)):yn(n,t)},V.cloneDeep=function(n,t,e){return"function"==typeof t?yn(n,!0,tt(t,e,1)):yn(n,!0)},V.deburr=Kr,V.endsWith=function(n,t,e){t+="";var r=(n=Wo(n)).length;return e=e===gi?r:W(!(e<0)&&+e||0,r),0<=(e-=t.length)&&n.indexOf(t,e)==e},V.escape=function(n){return(n=Wo(n))&&co.test(n)?n.replace(ao,zo):n},V.escapeRegExp=function(n){return(n=Wo(n))&&_o.test(n)?n.replace(go,qo):n||"(?:)"},V.every=Te,V.find=Ee,V.findIndex=ae,V.findKey=Ar,V.findLast=Ce,V.findLastIndex=ue,V.findLastKey=Er,V.findWhere=function(n,t){return Ee(n,Nn(t))},V.first=ce,V.floor=pi,V.get=function(n,t,e){var r=null==n?gi:Pn(n,te(t),t+"");return r===gi?e:r},V.gt=fr,V.gte=function(n,t){return t<=n},V.has=function(n,t){if(null==n)return!1;var e=m.call(n,t);if(!e&&!zt(t)){if(null==(n=1==(t=te(t)).length?n:Pn(n,Qn(t,0,-1))))return!1;t=le(t),e=m.call(n,t)}return e||Qt(n.length)&&Bt(t,n.length)&&(pr(n)||lr(n))},V.identity=ri,V.includes=De,V.indexOf=se,V.inRange=function(n,t,e){return t=+t||0,e===gi?(e=t,t=0):e=+e||0,n>=W(t,e)&&n<F(t,e)},V.isArguments=lr,V.isArray=pr,V.isBoolean=function(n){return!0===n||!1===n||Ho(n)&&w.call(n)==Wi},V.isDate=function(n){return Ho(n)&&w.call(n)==Ni},V.isElement=function(n){return!!n&&1===n.nodeType&&Ho(n)&&!mr(n)},V.isEmpty=function(n){return null==n||(Ut(n)&&(pr(n)||br(n)||lr(n)||Ho(n)&&vr(n.splice))?!n.length:!Fr(n).length)},V.isEqual=hr,V.isError=dr,V.isFinite=function(n){return"number"==typeof n&&P(n)},V.isFunction=vr,V.isMatch=function(n,t,e,r){return e="function"==typeof e?tt(e,r,3):gi,Fn(n,Ft(t),e)},V.isNaN=function(n){return yr(n)&&n!=+n},V.isNative=_r,V.isNull=function(n){return null===n},V.isNumber=yr,V.isObject=gr,V.isPlainObject=mr,V.isRegExp=wr,V.isString=br,V.isTypedArray=kr,V.isUndefined=function(n){return n===gi},V.kebabCase=Hr,V.last=le,V.lastIndexOf=function(n,t,e){var r=n?n.length:0;if(!r)return-1;var i=r;if("number"==typeof e)i=(e<0?F(r+e,0):W(e||0,r-1))+1;else if(e){var o=n[i=Zn(n,t,!0)-1];return(t==t?t===o:o!=o)?i:-1}if(t!=t)return Ko(n,i,!0);for(;i--;)if(n[i]===t)return i;return-1},V.lt=xr,V.lte=function(n,t){return n<=t},V.max=hi,V.min=di,V.noConflict=function(){return Mo._=h,this},V.noop=ci,V.now=Ke,V.pad=function(n,t,e){t=+t;var r=(n=Wo(n)).length;if(t<=r||!P(t))return n;var i=(t-r)/2,o=M(i);return(e=St("",E(i),e)).slice(0,o)+n+e},V.padLeft=Jr,V.padRight=Yr,V.parseInt=function(n,t,e){return t=(e?Lt(n,t,e):null==t)?0:t&&+t,n=Zr(n),U(n,t||(ko.test(n)?16:10))},V.random=function(n,t,e){e&&Lt(n,t,e)&&(t=e=gi);var r=null==n,i=null==t;if(null==e&&(i&&"boolean"==typeof n?(e=n,n=1):"boolean"==typeof t&&(e=t,i=!0)),r&&i&&(i=!(t=1)),n=+n||0,i?(t=n,n=0):t=+t||0,e||n%1||t%1){var o=B();return W(n+o*(t-n+k("1e-"+((o+"").length-1))),t)}return zn(n,t)},V.reduce=Be,V.reduceRight=Le,V.repeat=Vr,V.result=function(n,t,e){var r=null==n?gi:n[t];return r===gi&&(null==n||zt(t,n)||(r=null==(n=1==(t=te(t)).length?n:Pn(n,Qn(t,0,-1)))?gi:n[le(t)]),r=r===gi?e:r),vr(r)?r.call(n):r},V.round=vi,V.runInContext=n,V.size=function(n){var t=n?Dt(n):0;return Qt(t)?t:Fr(n).length},V.snakeCase=Xr,V.some=qe,V.sortedIndex=de,V.sortedLastIndex=ve,V.startCase=Gr,V.startsWith=function(n,t,e){return n=Wo(n),e=null==e?0:W(!(e<0)&&+e||0,n.length),n.lastIndexOf(t,e)==e},V.sum=function(n,t,e){return e&&Lt(n,t,e)&&(t=gi),1==(t=Ct(t,e,3)).length?function(n,t){for(var e=n.length,r=0;e--;)r+=+t(n[e])||0;return r}(pr(n)?n:Zt(n),t):(r=t,i=0,xn(n,function(n,t,e){i+=+r(n,t,e)||0}),i);var r,i},V.template=function(a,n,t){var e=V.templateSettings;t&&Lt(a,n,t)&&(n=t=gi),a=Wo(a),n=hn(dn({},t||n),e,pn);var u,c,r=hn(dn({},n.imports),e.imports,pn),i=Fr(r),o=Vn(r,i),s=0,f=n.interpolate||$o,l="__p += '",p=_((n.escape||$o).source+"|"+f.source+"|"+(f===lo?wo:$o).source+"|"+(n.evaluate||$o).source+"|$","g"),h="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Ao+"]")+"\n";a.replace(p,function(n,t,e,r,i,o){return e=e||r,l+=a.slice(s,o).replace(So,Qo),t&&(u=!0,l+="' +\n__e("+t+") +\n'"),i&&(c=!0,l+="';\n"+i+";\n__p += '"),e&&(l+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),s=o+n.length,n}),l+="';\n";var d=n.variable;d||(l="with (obj) {\n"+l+"\n}\n"),l=(c?l.replace(eo,""):l).replace(ro,"$1").replace(io,"$1;"),l="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=ti(function(){return g(i,h+"return "+l).apply(gi,o)});if(v.source=l,dr(v))throw v;return v},V.trim=Zr,V.trimLeft=function(n,t,e){var r=n;return(n=Wo(n))?(e?Lt(r,t,e):null==t)?n.slice(Yo(n)):n.slice(No(n,t+"")):n},V.trimRight=function(n,t,e){var r=n;return(n=Wo(n))?(e?Lt(r,t,e):null==t)?n.slice(0,Vo(n)+1):n.slice(0,Uo(n,t+"")+1):n},V.trunc=function(n,t,e){e&&Lt(n,t,e)&&(t=gi);var r=Si,i=Oi;if(null!=t)if(gr(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?Wo(t.omission):i}else r=+t||0;if(r>=(n=Wo(n)).length)return n;var a=r-i.length;if(a<1)return i;var u=n.slice(0,a);if(null==o)return u+i;if(wr(o)){if(n.slice(a).search(o)){var c,s,f=n.slice(0,a);for(o.global||(o=_(o.source,(bo.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(f);)s=c.index;u=u.slice(0,null==s?a:s)}}else if(n.indexOf(o,a)!=a){var l=u.lastIndexOf(o);-1<l&&(u=u.slice(0,l))}return u+i},V.unescape=function(n){return(n=Wo(n))&&uo.test(n)?n.replace(oo,Xo):n},V.uniqueId=function(n){var t=++l;return Wo(n)+t},V.words=ni,V.all=Te,V.any=qe,V.contains=De,V.eq=hr,V.detect=Ee,V.foldl=Be,V.foldr=Le,V.head=ce,V.include=De,V.inject=Be,ui(V,(fi={},Cn(V,function(n,t){V.prototype[t]||(fi[t]=n)}),fi),!1),V.sample=ze,V.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return ze(n,t)}):ze(this.value())},V.VERSION=_i,on(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){V[n].placeholder=V}),on(["drop","take"],function(r,i){Z.prototype[r]=function(n){var t=this.__filtered__;if(t&&!i)return new Z(this);n=null==n?1:F(M(n)||0,0);var e=this.clone();return t?e.__takeCount__=W(e.__takeCount__,n):e.__views__.push({size:n,type:r+(e.__dir__<0?"Right":"")}),e},Z.prototype[r+"Right"]=function(n){return this.reverse()[r](n).reverse()}}),on(["filter","map","takeWhile"],function(n,t){var r=t+1,i=r!=Mi;Z.prototype[n]=function(n,t){var e=this.clone();return e.__iteratees__.push({iteratee:Ct(n,t,1),type:r}),e.__filtered__=e.__filtered__||i,e}}),on(["first","last"],function(n,t){var e="take"+(t?"Right":"");Z.prototype[n]=function(){return this[e](1).value()[0]}}),on(["initial","rest"],function(n,t){var e="drop"+(t?"":"Right");Z.prototype[n]=function(){return this.__filtered__?new Z(this):this[e](1)}}),on(["pluck","where"],function(n,t){var e=t?"filter":"map",r=t?Nn:si;Z.prototype[n]=function(n){return this[e](r(n))}}),Z.prototype.compact=function(){return this.filter(ri)},Z.prototype.reject=function(t,n){return t=Ct(t,n,1),this.filter(function(n){return!t(n)})},Z.prototype.slice=function(n,t){n=null!=n&&+n||0;var e=this;return e.__filtered__&&(0<n||t<0)?new Z(e):(n<0?e=e.takeRight(-n):n&&(e=e.drop(n)),t!==gi&&(e=(t=+t||0)<0?e.dropRight(-t):e.take(t-n)),e)},Z.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},Z.prototype.toArray=function(){return this.take(z)},Cn(Z.prototype,function(l,n){var p=/^(?:filter|map|reject)|While$/.test(n),h=/^(?:first|last)$/.test(n),d=V[h?"take"+("last"==n?"Right":""):n];d&&(V.prototype[n]=function(){var t=h?[1]:arguments,e=this.__chain__,n=this.__wrapped__,r=!!this.__actions__.length,i=n instanceof Z,o=t[0],a=i||pr(n);function u(n){return h&&e?d(n,1)[0]:d.apply(gi,sn([n],t))}a&&p&&"function"==typeof o&&1!=o.length&&(i=a=!1);var c={func:je,args:[u],thisArg:gi},s=i&&!r;if(h&&!e)return s?((n=n.clone()).__actions__.push(c),l.call(n)):d.call(gi,this.value())[0];if(h||!a)return this.thru(u);n=s?n:new Z(this);var f=l.apply(n,t);return f.__actions__.push(c),new G(f,e)})}),on(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var e=(/^(?:replace|split)$/.test(n)?s:u)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(n);V.prototype[n]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[r](function(n){return e.apply(n,t)})}}),Cn(Z.prototype,function(n,t){var e=V[t];if(e){var r=e.name;(Y[r]||(Y[r]=[])).push({name:t,func:e})}}),Y[$t(gi,mi).name]=[{name:"wrapper",func:gi}],Z.prototype.clone=function(){var n=new Z(this.__wrapped__);return n.__actions__=rn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=rn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=rn(this.__views__),n},Z.prototype.reverse=function(){if(this.__filtered__){var n=new Z(this);n.__dir__=-1,n.__filtered__=!0}else(n=this.clone()).__dir__*=-1;return n},Z.prototype.value=function(){var n=this.__wrapped__.value(),t=this.__dir__,e=pr(n),r=t<0,i=e?n.length:0,o=function(n,t,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":n+=a;break;case"dropRight":t-=a;break;case"take":t=W(t,n+a);break;case"takeRight":n=F(n,t-a)}}return{start:n,end:t}}(0,i,this.__views__),a=o.start,u=o.end,c=u-a,s=r?u:a-1,f=this.__iteratees__,l=f.length,p=0,h=W(c,this.__takeCount__);if(!e||i<Ei||i==c&&h==c)return Gn(r&&e?n.reverse():n,this.__actions__);var d=[];n:for(;c--&&p<h;){for(var v=-1,g=n[s+=t];++v<l;){var _=f[v],y=_.iteratee,m=_.type,w=y(g);if(m==Mi)g=w;else if(!w){if(m==Ci)continue n;break n}}d[p++]=g}return d},V.prototype.chain=function(){return Ie(this)},V.prototype.commit=function(){return new G(this.value(),this.__chain__)},V.prototype.concat=$e,V.prototype.plant=function(n){for(var t,e=this;e instanceof X;){var r=ee(e);t?i.__wrapped__=r:t=r;var i=r;e=e.__wrapped__}return i.__wrapped__=n,t},V.prototype.reverse=function(){function n(n){return e&&e.__dir__<0?n:n.reverse()}var t=this.__wrapped__;if(t instanceof Z){var e=t;return this.__actions__.length&&(e=new Z(this)),(e=e.reverse()).__actions__.push({func:je,args:[n],thisArg:gi}),new G(e,this.__chain__)}return this.thru(n)},V.prototype.toString=function(){return this.value()+""},V.prototype.run=V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=function(){return Gn(this.__wrapped__,this.__actions__)},V.prototype.collect=V.prototype.map,V.prototype.head=V.prototype.first,V.prototype.select=V.prototype.filter,V.prototype.tail=V.prototype.rest,V}();Mo._=Go,(m=function(){return Go}.call(w,b,w,_))===gi||(_.exports=m)}).call(this)}).call(this,b(132)(n),b(111))},64:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var r=e(20),a=e.n(r),i=e(0),o=e.n(i),u=e(1),c=e.n(u),s=e(14),f=e.n(s),l=(e(86),e(87),function(){function n(){o()(this,n),this.eventMap={receives:{}},this._registerIframeEvents()}return c()(n,[{key:"_registerIframeEvents",value:function(){return f.a.instanceId("activity"),f.a.fedx.addFilter([{channel:"activity-events",topic:"#",direction:"out"},{channel:"task-events",topic:"#",direction:"in"}]),f.a.fedx.signalReady(),this._registerReceiveTaskParentEvents(),this}},{key:"_registerReceiveTaskParentEvents",value:function(){var i=this;f.a.subscribe({channel:"task-events",topic:"#",callback:function(n){var t=n.event,e=n.data,r=i.eventMap.receives[t];void 0!==r&&r.forEach(function(n){return n(e)})}})}},{key:"emit",value:function(i,o){return new a.a(function(t,e){var n={event:i,data:o};f.a.publish({channel:"activity-events",topic:"#",data:n});var r=f.a.channel("task-events").subscribe("#",function(n){n.error?e(n.error):t(n),r.unsubscribe()})})}},{key:"receive",value:function(n,t){this.eventMap.receives[n]=this.eventMap.receives[n]||[],this.eventMap.receives[n].push(t)}}]),n}())},76:function(n,t,e){"use strict";var r=e(0),i=e.n(r);t.a=function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$("html");i()(this,n),t.attr("unselectable","on").css("user-select","none").on("selectstart",!1)}},765:function(n,t,e){"use strict";e.r(t);var r=e(2),i=e.n(r),o=e(0),a=e.n(o),u=e(1),c=e.n(u),s=e(7),f=e.n(s),l=e(4),p=e.n(l),h=e(8),d=e.n(h),v=e(105),g=e(28);function _(r){return function(){var n,t=p()(r);if(function(){if("undefined"==typeof Reflect||!i.a)return;if(i.a.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(i()(Date,[],function(){})),1}catch(n){return}}()){var e=p()(this).constructor;n=i()(t,arguments,e)}else n=t.apply(this,arguments);return f()(this,n)}}var y=function(n){d()(r,n);var e=_(r);function r(n){var t;return a()(this,r),(t=e.call(this,n)).$timePauseDialog=t.$container.find("#time-pause-dialog"),t.$timer=n.find(".js-testpaper-timer"),t._init(),t}return c()(r,[{key:"_init",value:function(){var t=this;Object(g.a)(),Object(g.b)(),Object(g.d)(),Object(g.e)(),Object(g.c)(),this._initTimer(),this.$container.on("click",".js-btn-pause",function(n){return t._clickBtnPause(n)}),this.$container.on("click",".js-btn-resume",function(n){return t._clickBtnReume(n)})}},{key:"_initTimer",value:function(){var n=this;this.$timer&&this.$timer.timer({countdown:!0,duration:this.$timer.data("time"),format:"%H:%M:%S",callback:function(){n.$container.find("#time-finish-dialog").modal("show"),clearInterval(n.$usedTimer),0==$('input[name="preview"]').length&&n._submitTest(n.$container.find('[data-role="paper-submit"]').data("url"))},repeat:!0,start:function(){n.usedTime=0}})}},{key:"_clickBtnPause",value:function(n){$(n.currentTarget).toggleClass("active").hasClass("active")?(this.$timer.timer("pause"),clearInterval(this.$usedTimer),this.$timePauseDialog.modal("show")):(this.$timer.timer("resume"),this._initUsedTimer(),this.$timePauseDialog.modal("hide"))}},{key:"_clickBtnReume",value:function(){this.$timer.timer("resume"),this._initUsedTimer(),this.$container.find(".js-btn-pause").removeClass("active"),this.$timePauseDialog.modal("hide")}}]),r}(v.a),m=e(50);$("#facein-init-modal").length<1&&new y($(".js-task-testpaper-body")),new m.a($(".js-task-testpaper-body"))},86:function(n,t,e){
/*!
 *  * postal.federation - A base plugin for federating instances of postal.js across various boundaries.
 *  * Author: Jim Cowart (http://ifandelse.com)
 *  * Version: v0.5.3
 *  * Url: http://github.com/postaljs/postal.federation
 *  * License(s): (MIT OR GPL-2.0)
 */
var r;r=function(e,r){return a={},i.m=o=[function(n,t,e){function r(n){return n&&n.__esModule?n.default:n}var i=r(e(1)),o=r(e(2));e(3);var a=e(4),u=a.packingSlips,c=a.getPackingSlip,s=e(5),f=s.state,l=s.disconnect,p=s.NO_OP,h=s.configure,d=e(6),v=d.handlers,g=d.onFederatedMsg,_=e(7),y=r(_),m=_.matchesFilter,w=_.addFilter,b=_.removeFilter,k=r(e(8)),x=o.fedx={FederationClient:k,packingSlips:u,handlers:v,clients:f._clients,transports:f._transports,filters:y,addFilter:w,removeFilter:b,canSendRemote:function(n,t){return m(n,t,"out")},configure:h,getPackingSlip:c,onFederatedMsg:g,sendMessage:function(t){f._ready?i.each(this.transports,function(n){n.sendMessage(t)}):f._outboundQueue.push(arguments)},disconnect:l,_getTransports:function(){return i.reduce(this.transports,function(n,t,e){return n[e]=!0,n},{})},signalReady:function(n,t,e){if(f._ready){var r=this._getTransports();switch(arguments.length){case 1:"function"==typeof n?e=n:"string"==typeof n&&((r={})[n]=this.transports[n],e=p);break;case 2:"string"==typeof n?(r={})[n]=this.transports[n]:r=n,e=t||p;break;case 3:(r={})[n]=[t]}i.each(r,function(n,t){n="boolean"==typeof n?[]:n,this.transports[t].signalReady(n,e)},this)}else f._signalQueue.push(arguments)}};function I(n){x.signalReady.apply(this,n)}function j(n){x.send.apply(this,n)}function $(n){x.onFederatedMsg.call(this,n)}n.exports=x,o.addWireTap(function(n,t){x.canSendRemote(t.channel,t.topic)&&x.sendMessage(t)}),o.subscribe({channel:o.configuration.SYSTEM_CHANNEL,topic:"instanceId.changed",callback:function(){for(f._ready=!0;f._signalQueue.length;)I(f._signalQueue.shift());for(;f._outboundQueue.length;)j(f._outboundQueue.shift());for(;f._inboundQueue.length;)$(f._inboundQueue.shift())}}),void 0!==o.instanceId()&&(f._ready=!0)},function(n,t){n.exports=e},function(n,t){n.exports=r},function(n,t,e){var r,i,o,a=(r=e(2))&&r.__esModule?r.default:r;a.createUUID||(a.createUUID=function(){for(var n=[],t="0123456789abcdef",e=0;e<36;e++)n[e]=t.substr(Math.floor(16*Math.random()),1);return n[14]="4",n[19]=t.substr(3&n[19]|8,1),n[8]=n[13]=n[18]=n[23]="-",n.join("")}),a.instanceId||(a.instanceId=(o=i=void 0,function(n){return n&&(o=i,i=n,a.publish({channel:a.configuration.SYSTEM_CHANNEL,topic:"instanceId.changed",data:{oldId:o,newId:i}})),i}))},function(n,t,e){t.getPackingSlip=function(n){if(Object.prototype.hasOwnProperty.call(o,n))return o[n].apply(this,Array.prototype.slice.call(arguments,1))},Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=e(2))&&r.__esModule?r.default:r;var o={ping:function(){return{type:"federation.ping",instanceId:i.instanceId(),timeStamp:new Date,ticket:i.createUUID()}},pong:function(n){return{type:"federation.pong",instanceId:i.instanceId(),timeStamp:new Date,pingData:{instanceId:n.instanceId,timeStamp:n.timeStamp,ticket:n.ticket}}},message:function(n){return{type:"federation.message",instanceId:i.instanceId(),timeStamp:new Date,envelope:n}},disconnect:function(){return{type:"federation.disconnect",instanceId:i.instanceId(),timeStamp:new Date}},bundle:function(n){return{type:"federation.bundle",instanceId:i.instanceId(),timeStamp:new Date,packingSlips:n}}};t.packingSlips=o},function(n,t,e){t.configure=function(n){if(n&&n.filterMode&&"blacklist"!==n.filterMode&&"whitelist"!==n.filterMode)throw new Error("postal.fedx filterMode must be 'blacklist' or 'whitelist'.");n&&(a._config=i.defaults(n,o));return a._config},t.disconnect=function(t){t=t||{};var n=a._transports;t.transport&&((n={})[t.transport]=a._transports[t.transport]);i.each(n,function(n){n.disconnect({target:t.target,instanceId:t.instanceId,doNotNotify:!!t.doNotNotify})})},Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=e(1))&&r.__esModule?r.default:r,o={enabled:!0,filterMode:"whitelist",filterDirection:"both"},a={_clients:[],_transports:{},_ready:!(t.NO_OP=function(){}),_inboundQueue:[],_outboundQueue:[],_signalQueue:[],_config:o};t.state=a},function(n,t,e){function r(n){return n&&n.__esModule?n.default:n}t.onFederatedMsg=p,Object.defineProperty(t,"__esModule",{value:!0});var i=e(4).getPackingSlip,o=e(5),a=o.state,u=o.disconnect,c=e(7).matchesFilter,s=r(e(2)),f=r(e(1)),l={"federation.ping":function(n){n.source.setInstanceId(n.packingSlip.instanceId),n.source.handshakeComplete?n.source.sendPong(n.packingSlip):n.source.sendBundle([i("pong",n.packingSlip),i("ping")])},"federation.pong":function(n){n.source.handshakeComplete=!0,n.source.setInstanceId(n.packingSlip.instanceId),n.source.pings[n.packingSlip.pingData.ticket]&&(n.source.pings[n.packingSlip.pingData.ticket].callback({ticket:n.packingSlip.pingData.ticket,instanceId:n.packingSlip.instanceId,source:n.source}),n.source.pings[n.packingSlip.pingData.ticket]=void 0),f.contains(a._clients,n.packingSlip.instanceId)||a._clients.push(n.packingSlip.instanceId),s.publish({channel:"postal.federation",topic:"client.federated",data:{remoteId:n.source.instanceId,localId:s.instanceId(),transport:n.transport}})},"federation.disconnect":function(n){a._clients=f.without(a._clients,n.source.instanceId),u({transport:n.source.transportName,instanceId:n.source.instanceId,doNotNotify:!0})},"federation.message":function(n){var t=n.packingSlip.envelope;c(t.channel,t.topic,"in")&&(t.lastSender=n.packingSlip.instanceId,s.publish(t))},"federation.bundle":function(t){f.each(t.packingSlip.packingSlips,function(n){p(f.extend({},t,{packingSlip:n}))})}};function p(n){if(a._ready){if(!Object.prototype.hasOwnProperty.call(l,n.packingSlip.type))throw new Error("postal.federation does not have a message handler for '"+n.packingSlip.type+"'.");l[n.packingSlip.type](n)}else a._inboundQueue.push(n)}t.handlers=l},function(n,t,e){function r(n){return n&&n.__esModule?n.default:n}t.addFilter=function(n){n=a.isArray(n)?n:[n],a.each(n,function(t){t.direction=t.direction||u._config.filterDirection,a.each("both"===t.direction?["in","out"]:[t.direction],function(n){s[n][t.channel]?a.include(s[n][t.channel],t.topic)||s[n][t.channel].push(t.topic):s[n][t.channel]=[t.topic]})})},t.removeFilter=function(n){n=a.isArray(n)?n:[n],a.each(n,function(t){t.direction=t.direction||u._config.filterDirection,a.each("both"===t.direction?["in","out"]:[t.direction],function(n){s[n][t.channel]&&a.include(s[n][t.channel],t.topic)&&(s[n][t.channel]=a.without(s[n][t.channel],t.topic))})})},t.matchesFilter=function(n,t,e){var r=Object.prototype.hasOwnProperty.call(s[e],n),i=r&&a.any(s[e][n],function(n){return c.configuration.resolver.compare(n,t)}),o="blacklist"===u._config.filterMode;return u._config.enabled&&(o&&(!r||r&&!i)||!o&&r&&i)},Object.defineProperty(t,"__esModule",{value:!0});var a=r(e(1)),u=e(5).state,c=r(e(2)),s={in:{},out:{}};t.default=s},function(n,t,e){function r(n){return n&&n.__esModule?n.default:n}var i=function(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),n};function o(n,t){for(var e in t){var r=t[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(n,t)}var a=e(4).getPackingSlip,u=e(6).onFederatedMsg,c=e(5),s=c.state,f=c.NO_OP,l=r(e(2)),p=r(e(1)),h=(i(d,{sendPing:{value:function(n){var t=a("ping");this.pings[t.ticket]={ticket:t.ticket,callback:n||f},this.send(t)}},sendPong:{value:function(n){this.send(a("pong",n))}},sendBundle:{value:function(n){this.send(a("bundle",n))}},sendMessage:{value:function(n){if(this.handshakeComplete){n.originId=n.originId||l.instanceId();var t=p.clone(n);!this.instanceId||this.instanceId===t.lastSender||t.knownIds&&t.knownIds.length&&(!t.knownIds||p.include(t.knownIds,this.instanceId))||(t.knownIds=(t.knownIds||[]).concat(p.without(s._clients,this.instanceId)),this.send(a("message",t)))}}},disconnect:{value:function(){this.send(a("disconnect"))}},onMessage:{value:function(n){this.shouldProcess()&&u({transport:this.transportName,packingSlip:n,source:this})}},shouldProcess:{value:function(){return!0}},send:{value:function(){throw new Error("An object deriving from FederationClient must provide an implementation for 'send'.")}},setInstanceId:{value:function(n){this.instanceId=n}}},{extend:{value:function(n,t){function e(){d.apply(this,arguments)}return e.prototype=Object.create(d.prototype),p.extend(e.prototype,n),p.extend(e,t),e}}}),d);function d(n,t,e){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),this.target=n,this.options=t||{},this.pings={},this.instanceId=e,this.handshakeComplete=!1}n.exports=h}],i.c=a,i.p="",i(0);function i(n){if(a[n])return a[n].exports;var t=a[n]={exports:{},id:n,loaded:!1};return o[n].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var o,a},n.exports=r(e(57),e(14))},87:function(n,t,e){
/*!
 *  * postal.xframe - postal.js/postal.federation plugin for federating instances of postal.js across iframe/window boundaries.
 *  * Author: Jim Cowart (http://ifandelse.com)
 *  * Version: v0.5.0
 *  * Url: http://github.com/postaljs/postal.xframe
 *  * License(s): (MIT OR GPL-2.0)
 */
var r;r=function(e,r){return a={},i.m=o=[function(n,t,e){function r(n){return n&&n.__esModule?n.default:n}var i=r(e(1)),o=r(e(2)),a=e(3),u=a._memoRemoteByInstanceId,c=a._memoRemoteByTarget,s=a._disconnectClient,f=a.safeSerialize,l=e(4),p=l.state,h=l.env,d=r(e(5));function v(){y.routeMessage.apply(y,arguments)}function g(n){i.include(p.workers,n)||(n.addEventListener("message",v),p.workers.push(n))}d.getInstance=function(n,t,e){var r=new d(n,{origin:t,isWorker:"undefined"!=typeof Worker&&n instanceof Worker},e);return r.options.isWorker&&g(r.target),r};function _(){}var y=o.fedx.transports.xframe={eagerSerialize:h.useEagerSerialize,XFrameClient:d,configure:function(n){return n&&(p.config=i.defaults(i.extend(p.config,n),p.defaults)),p.config},clearConfiguration:function(){p.config=i.extend({},p.defaults)},getTargets:h.isWorker?function(){return[{target:{postMessage:postMessage}}]}:function(){var n=i.map(document.getElementsByTagName("iframe"),function(n){var t=document.createElement("a");t.href=n.src;var e=t.protocol+"//"+t.host;return"//"===e&&(e=null),{target:n.contentWindow,origin:e||p.config.defaultOriginUrl}});return window.parent&&window.parent!==window&&n.push({target:window.parent,origin:"*"}),n.concat(p.workers)},remotes:[],wrapForTransport:h.useEagerSerialize?function(n){return JSON.stringify({postal:!0,packingSlip:n})}:function(n){return{postal:!0,packingSlip:n}},unwrapFromTransport:function(n){if("string"!=typeof n||!h.useEagerSerialize&&-1===n.indexOf('"postal":true'))return n;try{return JSON.parse(n)}catch(n){return{}}},routeMessage:function(n){var t=n.source||n.currentTarget,e=this.unwrapFromTransport(n.data);if(e.postal){var r=i.find(this.remotes,function(n){return n.target===t});r||(r=d.getInstance(t,n.origin,e.packingSlip.instanceId),this.remotes.push(r)),r.onMessage(e.packingSlip)}},sendMessage:function(n){var t=n;p.config.safeSerialize&&(t=f(i.cloneDeep(n))),i.each(this.remotes,function(n){n.sendMessage(t)})},disconnect:function(n){var t=(n=n||{}).instanceId?i.reduce(i.isArray(n.instanceId)?n.instanceId:[n.instanceId],u,[],this):n.target?i.reduce(i.isArray(n.target)?n.target:[n.target],c,[],this):this.remotes;n.doNotNotify||i.each(t,s,this),this.remotes=i.without.apply(null,[this.remotes].concat(t))},signalReady:function(n,e){n=(n=i.isArray(n)?n:[n]).length?n:this.getTargets(),e=e||_,i.each(n,function(t){if(t.target){t.origin=t.origin||p.config.defaultOriginUrl;var n=i.find(this.remotes,function(n){return n.target===t.target});n||(n=d.getInstance(t.target,t.origin),this.remotes.push(n)),n.sendPing(e)}},this)},addEventListener:h.isWorker?function(){addEventListener("message",v)}:function(n,t,e){if("undefined"==typeof window||"function"!=typeof window.addEventListener)throw new Error("postal.xframe only works with browsers that support window.addEventListener");window.addEventListener(n,t,e)},listenToWorker:g,stopListeningToWorker:function(n){if(n)n.removeEventListener("message",v),p.workers=i.without(p.workers,n);else for(;p.workers.length;)p.workers.pop().removeEventListener("message",v)}};y.addEventListener("message",v,!1)},function(n,t){n.exports=e},function(n,t){n.exports=r},function(n,t,e){var f=function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n)){for(var e,r=[],i=n[Symbol.iterator]();!(e=i.next()).done&&(r.push(e.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")};t._memoRemoteByInstanceId=function(n,t){var e=l.find(this.remotes,function(n){return n.instanceId===t});e&&n.push(e);return n},t._memoRemoteByTarget=function(n,t){var e=l.find(this.remotes,function(n){return n.target===t});e&&n.push(e);return n},t._disconnectClient=function(n){n.disconnect()},t.safeSerialize=function n(t){var e=!0;var r=!1;var i=void 0;try{for(var o,a=p(t)[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var u=f(o.value,2),c=u[0],s=u[1];"function"==typeof s&&delete t[c],l.isPlainObject(s)&&n(s),l.isArray(s)&&l.each(s,n)}}catch(n){r=!0,i=n}finally{try{!e&&a.return&&a.return()}finally{if(r)throw i}}return t},Object.defineProperty(t,"__esModule",{value:!0});var r,l=(r=e(1))&&r.__esModule?r.default:r;var p=regeneratorRuntime.mark(function n(t){var e,r,i,o,a,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:-1===["object","function"].indexOf(typeof t)&&(t={}),r=!(e=!0),i=void 0,n.prev=4,o=Object.keys(t)[Symbol.iterator]();case 6:if(e=(a=o.next()).done){n.next=13;break}return u=a.value,n.next=10,[u,t[u]];case 10:e=!0,n.next=6;break;case 13:n.next=19;break;case 15:n.prev=15,n.t0=n.catch(4),r=!0,i=n.t0;case 19:n.prev=19,n.prev=20,!e&&o.return&&o.return();case 22:if(n.prev=22,r)throw i;n.next=25;break;case 25:return n.finish(22);case 26:return n.finish(19);case 27:case"end":return n.stop()}},n,this,[[4,15,19,27],[20,,22,26]])});t.entries=p},function(n,t,e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=e(1))&&r.__esModule?r.default:r,o={origin:location.origin||location.protocol+"//"+location.host,isWorker:"undefined"==typeof window&&postMessage&&location,useEagerSerialize:/MSIE [8,9]/.test(navigator.userAgent)},a={allowedOrigins:[(t.env=o).origin],enabled:!0,defaultOriginUrl:"*",safeSerialize:!1},u={workers:[],config:i.extend({},a),defaults:a};t.state=u},function(n,t,e){function r(n){return n&&n.__esModule?n.default:n}var i=function(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),n};function o(n,t){for(var e in t){var r=t[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(n,t)}var a=r(e(2)),u=r(e(1)),c=e(4),s=c.state,f=c.env,l=(function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.__proto__=t)}(p,a.fedx.FederationClient),i(p,{shouldProcess:{value:function(){var n=!!s.config.allowedOrigins.length;return s.config.enabled&&("*"===this.options.origin||n&&u.contains(s.config.allowedOrigins,this.options.origin)||!n||this.options.isWorker&&u.contains(s.workers,this.target)||f.isWorker)}},send:{value:function(n){if(this.shouldProcess()){var t=f.isWorker?null:this.target,e=[a.fedx.transports.xframe.wrapForTransport(n)];this.options.isWorker||f.isWorker||e.push(this.options.origin),f.isWorker?this.target.postMessage.apply(t,e):1===e.length?this.target.postMessage(e[0]):this.target.postMessage(e[0],e[1])}}}}),p);function p(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),this.transportName="xframe",function n(t,e,r){var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:n(o,e,r)}if("value"in i&&i.writable)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(Object.getPrototypeOf(p.prototype),"constructor",this).apply(this,t)}n.exports=l}],i.c=a,i.p="",i(0);function i(n){if(a[n])return a[n].exports;var t=a[n]={exports:{},id:n,loaded:!1};return o[n].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var o,a},n.exports=r(e(57),e(14))}});