!function(c){function e(e){for(var t,n,a=e[0],o=e[1],r=e[2],s=0,i=[];s<a.length;s++)n=a[s],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&i.push(l[n][0]),l[n]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(c[t]=o[t]);for(p&&p(e);i.length;)i.shift()();return u.push.apply(u,r||[]),d()}function d(){for(var e,t=0;t<u.length;t++){for(var n=u[t],a=!0,o=1;o<n.length;o++){var r=n[o];0!==l[r]&&(a=!1)}a&&(u.splice(t--,1),e=s(s.s=n[0]))}return e}var n={},l={104:0},u=[];function s(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=c,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/static-dist/";var t=window.webpackJsonp=window.webpackJsonp||[],a=t.push.bind(t);t.push=e,t=t.slice();for(var o=0;o<t.length;o++)e(t[o]);var p=a;u.push([843,0]),d()}({318:function(e,t){e.exports=function(e){"use strict";if(!window||window.window!==window)throw new Error("This module is only available in browser");var t=window.Blob||window.MozBlob||window.WebKitBlob;if(!t)throw new Error("Blob was not supported");var n=e.match(/^data:((.*?)(;charset=.*?)?)(;base64)?,/);if(!n)throw new Error("invalid dataURI");for(var a=n[2]?n[1]:"text/plain"+(n[3]||";charset=utf-8"),o=!!n[4],r=e.slice(n[0].length),s=(o?atob:decodeURIComponent)(r),i=[],c=0;c<s.length;c++)i.push(s.charCodeAt(c));return new t([new Uint8Array(i)],{type:a})}},358:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(6),o=n.n(a);function r(){function e(e){return e.test(n)}function t(e){return n.match(e).toString().replace(/[^0-9|_.]/g,"").replace(/_/g,".")}var n=navigator.userAgent.toLowerCase(),a="unknow";e(/windows|win32|win64|wow32|wow64/g)?a="windows":e(/macintosh|macintel/g)?a="macos":e(/x11/g)?a="linux":e(/android|adr/g)?a="android":e(/ios|iphone|ipad|ipod|iwatch/g)&&(a="ios");var o="unknow";"windows"===a?e(/windows nt 5.0|windows 2000/g)?o="2000":e(/windows nt 5.1|windows xp/g)?o="xp":e(/windows nt 5.2|windows 2003/g)?o="2003":e(/windows nt 6.0|windows vista/g)?o="vista":e(/windows nt 6.1|windows 7/g)?o="7":e(/windows nt 6.2|windows 8/g)?o="8":e(/windows nt 6.3|windows 8.1/g)?o="8.1":e(/windows nt 10.0|windows 10/g)&&(o="10"):"macos"===a?o=t(/os x [\d._]+/g):"android"===a?o=t(/android [\d._]+/g):"ios"===a&&(o=t(/os [\d._]+/g));var r="unknow";"windows"===a||"macos"===a||"linux"===a?r="desktop":"android"!==a&&"ios"!==a&&!e(/mobile/g)||(r="mobile");var s="unknow",i="unknow";e(/applewebkit/g)?(s="webkit",e(/edge/g)?i="edge":e(/opr/g)?i="opera":e(/chrome/g)?i="chrome":e(/safari/g)&&(i="safari")):e(/gecko/g)&&e(/firefox/g)?(s="gecko",i="firefox"):e(/presto/g)?(s="presto",i="opera"):e(/trident|compatible|msie/g)&&(s="trident",i="iexplore");var c="unknow";"webkit"===s?c=t(/applewebkit\/[\d._]+/g):"gecko"===s?c=t(/gecko\/[\d._]+/g):"presto"===s?c=t(/presto\/[\d._]+/g):"trident"===s&&(c=t(/trident\/[\d._]+/g));var d="unknow";"chrome"===i?d=t(/chrome\/[\d._]+/g):"safari"===i?d=t(/version\/[\d._]+/g):"firefox"===i?d=t(/firefox\/[\d._]+/g):"opera"===i?d=t(/opr\/[\d._]+/g):"iexplore"===i?d=t(/(msie [\d._]+)|(rv:[\d._]+)/g):"edge"===i&&(d=t(/edge\/[\d._]+/g));var l="none",u="unknow";e(/micromessenger/g)?(l="wechat",u=t(/micromessenger\/[\d._]+/g)):e(/qqbrowser/g)?(l="qq",u=t(/qqbrowser\/[\d._]+/g)):e(/ucbrowser/g)?(l="uc",u=t(/ucbrowser\/[\d._]+/g)):e(/qihu 360se/g)?l="360":e(/2345explorer/g)?(l="2345",u=t(/2345explorer\/[\d._]+/g)):e(/metasr/g)?l="sougou":e(/lbbrowser/g)?l="liebao":e(/maxthon/g)&&(l="maxthon",u=t(/maxthon\/[\d._]+/g));var p={engine:s,engineVs:c,platform:r,supporter:i,supporterVs:d,system:a,systemVs:o};return"none"!==l&&(p.shell=l,p.shellVs=u),p}var s=function(){var e={ok:!0,message:""},t=r(),n=e.message='请下载安装使用最新版 <a href="https://edtech.edusoho.net/software/chrome-win64.exe" target="_blank">谷歌</a>、<a href="https://browser.360.cn/se/" target="_blank">360</a> 或 <a href="https://ie.sogou.com/" target="_blank">搜狗</a> 浏览器。';return"desktop"!==t.platform?(e.ok=!1,e.message="请在电脑端浏览器中打开！"):"iexplore"===t.supporter||t.shell&&"qq"===t.shell?(e.ok=!1,e.message="不支持当前浏览器，"+n):"chrome"===t.supporter&&o()(t.supporterVs)<69&&(e.ok=!1,e.message="当前浏览器版本过低，"+n),e}},843:function(e,t,n){"use strict";n.r(t);var a,o=n(21),r=n.n(o),s=n(18),i=n.n(s),c=n(14),d=n(144),l=n(318),u=n.n(l),p=n(358),m={data:function(){var e=0<$("[name=token]").length&&""!==$("[name=token]").val(),t=Object(p.a)();return{showCKEditorData:{publicPath:$("[name=ckeditor_path]").val(),filebrowserImageUploadUrl:$("[name=ckeditor_image_upload_url]").val(),filebrowserImageDownloadUrl:$("[name=ckeditor_image_download_url]").val(),language:"zh_CN"===document.documentElement.lang?"zh-cn":document.documentElement.lang,jqueryPath:$("[name=jquery_path]").val()},showAttachment:$("[name=show_attachment]").val(),cdnHost:$("[name=cdn_host]").val(),uploadSDKInitData:{sdkBaseUri:app.cloudSdkBaseUri,disableDataUpload:app.cloudDisableLogReport,disableSentry:app.cloudDisableLogReport,initUrl:$("[name=upload_init_url]").val(),finishUrl:$("[name=upload_finish_url]").val(),accept:JSON.parse($("[name=upload_accept]").val()),fileSingleSizeLimit:$("[name=upload_size_limit]").val(),locale:document.documentElement.lang},fileId:0,inspectionOpen:e,isNotMobile:!Object(c.f)(),errorMessage:t.ok?"":t.message,getCurrentTime:function(){var t=Date.parse(new Date);return $.ajax({type:"GET",beforeSend:function(e){e.setRequestHeader("Accept","application/vnd.edusoho.v2+json")},url:"/api/system/timestamp",async:!1,success:function(e){isNaN(e)||(t=1e3*e)},error:function(e){console.log(e)}}),t}}},created:function(){this.emitter=new d.a,this.emitter.emit("doing",{data:""});var t=this;$.ajax({url:"/api/continue_answer",type:"POST",async:!1,headers:{Accept:"application/vnd.edusoho.v2+json"},data:{answer_record_id:$("[name='answer_record_id']").val()},beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done(function(e){t.assessment=e.assessment,t.answerRecord=e.answer_record,t.answerScene=e.answer_scene,t.assessmentResponse=e.assessment_response})},methods:{getAnswerData:function(e){var t=this;$.ajax({url:"/api/submit_answer",contentType:"application/json;charset=utf-8",type:"POST",headers:{Accept:"application/vnd.edusoho.v2+json"},data:i()(e),beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done(function(e){t.emitter.emit("finish",{data:""}),location.replace($("[name=submit_goto_url]").val())})},reachTimeSubmitAnswerData:function(e){var t=this;$.ajax({url:"/api/submit_answer",contentType:"application/json;charset=utf-8",type:"POST",headers:{Accept:"application/vnd.edusoho.v2+json"},data:i()(e),beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done(function(e){t.emitter.emit("finish",{data:""}),cd.confirm({title:"答题结束",content:"答题已结束，您的试卷已提交，请点击下面的按钮查看结果！",okText:"查看结果",cancelText:"返回",className:""}).on("ok",function(){location.replace($("[name=submit_goto_url]").val())}).on("cancel",function(){location.replace($("[name=submit_goto_url]").val())})})},timeSaveAnswerData:function(e){$.ajax({url:"/api/save_answer",contentType:"application/json;charset=utf-8",headers:{Accept:"application/vnd.edusoho.v2+json"},type:"POST",data:i()(e),beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done(function(e){})},saveAnswerData:function(e){$.ajax({url:"/api/save_answer",contentType:"application/json;charset=utf-8",type:"POST",headers:{Accept:"application/vnd.edusoho.v2+json"},data:i()(e),beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done(function(e){parent.location.href=$("[name=save_goto_url]").val()})},deleteAttachment:function(e,t){t&&(this.fileId=e)},previewAttachment:function(e){this.fileId=e},downloadAttachment:function(e){this.fileId=e},previewAttachmentCallback:function(){var e=this,n=this;return new r.a(function(t){$.ajax({url:$("[name=preview-attachment-url]").val(),type:"post",data:{id:e.fileId},beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done(function(e){e.data.sdkBaseUri=app.cloudSdkBaseUri,e.data.disableDataUpload=app.cloudDisableLogReport,e.data.disableSentry=app.cloudDisableLogReport,t(e),n.fileId=0})})},downloadAttachmentCallback:function(){var e=this,n=this;return new r.a(function(t){$.ajax({url:$("[name=download-attachment-url]").val(),type:"post",data:{id:e.fileId},beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done(function(e){t(e),n.fileId=0})})},deleteAttachmentCallback:function(){var e=this,n=this;return new r.a(function(t){$.ajax({url:$("[name=delete-attachment-url]").val(),type:"post",data:{id:e.fileId},beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done(function(e){t(e),n.fileId=0})})},readyHandler:function(){var e=$("[name=img-url]");0<e.length&&""!==e.val()?this.$refs.inspection.captureModal({token:$("[name=token]").val(),faceUrl:e.val(),errorMessage:this.errorMessage}):this.$refs.inspection.captureModal({token:$("[name=token]").val(),errorMessage:this.errorMessage})},saveCheatRecord:function(e){var t=new FormData;t.append("status","cheating"),t.append("level","1"),t.append("duration","15000"),t.append("behavior",e.behavior),t.append("picture",u()(e.image)),$.ajax({url:$("[name=inspection-save-url]").val(),type:"POST",contentType:!1,processData:!1,data:t,beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))},success:function(e){console.log(e)}})},captureHandler:function(e){var t=new FormData;t.append("picture",u()(e.capture)),$.ajax({url:$("[name=upload-url]").val(),type:"POST",contentType:!1,processData:!1,data:t,beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))},success:function(){}})}}},f=n(20),w=Object(f.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ibs-vue",attrs:{id:"app"}},[n("div",{attrs:{id:"cd-modal"}}),e._v(" "),n("item-engine",{attrs:{assessment:e.assessment,answerRecord:e.answerRecord,answerScene:e.answerScene,showCKEditorData:e.showCKEditorData,assessmentResponse:e.assessmentResponse,showAttachment:e.showAttachment,cdnHost:e.cdnHost,uploadSDKInitData:e.uploadSDKInitData,deleteAttachmentCallback:e.deleteAttachmentCallback,previewAttachmentCallback:e.previewAttachmentCallback,downloadAttachmentCallback:e.downloadAttachmentCallback,getCurrentTime:e.getCurrentTime},on:{getAnswerData:e.getAnswerData,saveAnswerData:e.saveAnswerData,timeSaveAnswerData:e.timeSaveAnswerData,reachTimeSubmitAnswerData:e.reachTimeSubmitAnswerData,deleteAttachment:e.deleteAttachment,previewAttachment:e.previewAttachment,downloadAttachment:e.downloadAttachment}},[e.inspectionOpen&&e.isNotMobile?n("template",{slot:"inspection"},[n("inspection-control",{ref:"inspection",attrs:{mode:"watching"},on:{ready:e.readyHandler,cheatHappened:e.saveCheatRecord,faceCaptured:e.captureHandler}})],1):e._e()],2)],1)},[],!1,null,null,null).exports;jQuery.support.cors=!0,Object(c.f)()&&$("body, html").css({height:"100%",overflow:"auto"}),Vue.config.productionTip=!1,"en"==app.lang&&(a=local.default,itemBank.default.install(Vue,{locale:a})),new Vue({render:function(e){return e(w)}}).$mount("#app")}});