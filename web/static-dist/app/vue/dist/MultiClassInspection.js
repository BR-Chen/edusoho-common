(window.webpackJsonp=window.webpackJsonp||[]).push([[400],{1312:function(t,i,e){},1313:function(t,i,e){"use strict";var n={name:"AsideLayout",props:{breadcrumbs:{type:Array,required:!0},headerTitle:{type:String,default:""},headerTip:{type:String,default:""}}},s=(e(1314),e(31)),a=Object(s.a)(n,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"aside-layout"},[e("div",{staticClass:"aside-layout-header"},[e("a-breadcrumb",{staticClass:"pull-left aside-layout-header__breadcrumb",attrs:{separator:"/"}},t._l(t.breadcrumbs,(function(i,n){return e("a-breadcrumb-item",{key:n},[i.href?[e("a",{attrs:{href:i.href,target:"_blank"}},[t._v(t._s(i.name))])]:i.pathName?[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.$router.push({name:i.pathName})}}},[t._v(t._s(i.name))])]:[t._v("\n          "+t._s(i.name)+"\n        ")]],2)})),1),t._v(" "),t.headerTip?e("a-popover",{attrs:{placement:"bottomLeft"}},[e("template",{slot:"content"},[e("div",{staticClass:"aside-header-tip",domProps:{innerHTML:t._s(t.headerTip)}})]),t._v(" "),e("span",{staticClass:"aside-header-title-icon"},[e("a-icon",{attrs:{theme:"filled",type:"question-circle"}}),e("span",{staticClass:"icon-circle"},[t._v(t._s(t.headerTitle))])],1)],2):t._e()],1),t._v(" "),e("div",{staticClass:"aside-layout-main"},[t._t("default")],2)])}),[],!1,null,null,null);i.a=a.exports},1314:function(t,i,e){"use strict";var n=e(1312);e.n(n).a},1317:function(t,i,e){},1326:function(t,i,e){"use strict";var n={name:"Empty",props:{description:{type:String,default:"暂无数据"},image:{type:String,default:"/static-dist/app/img/vue/empty.png"},imageStyle:{type:Object,default:function(){return{height:"200px"}}}}},s=(e(1327),e(31)),a=Object(s.a)(n,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("a-empty",{staticClass:"custom-empty",attrs:{image:t.image,"image-style":t.imageStyle}},[e("span",{staticClass:"custom-empty__description",attrs:{slot:"description"},slot:"description"},[t._v(t._s(t.description))])])}),[],!1,null,null,null);i.a=a.exports},1327:function(t,i,e){"use strict";var n=e(1317);e.n(n).a},1372:function(t,i,e){},1473:function(t,i,e){"use strict";var n=e(1372);e.n(n).a},599:function(t,i,e){"use strict";e.r(i);var n=e(23),s=e.n(n),a=e(35),c=e.n(a),o=e(1313),r=e(1326),l=e(498),u=e(57),p=e.n(u),d={name:"InspectionCard",components:{},props:{inspection:{type:Object,require:!0}},data:function(){return{liveInfo:{base:{},info:{},onlineAssistants:[{}]},nowTime:Date.parse(new Date)/1e3}},computed:{},created:function(){this.getLiveInfo()},methods:{getLiveInfo:function(){var t=this;return c()(s.a.mark((function i(){return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,l.a.getLiveInfoById({query:{id:t.inspection.activityId}});case 3:t.liveInfo=i.sent,i.next=8;break;case 6:i.prev=6,i.t0=i.catch(0);case 8:case"end":return i.stop()}}),i,null,[[0,6]])})))()},assistantAttend:function(t){return p.a.find(this.liveInfo.onlineAssistants,["userId",Number(t)])}}},v=(e(1473),e(31)),_=Object(v.a)(d,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"inspection-card"},[e("div",{staticClass:"inspection-card__info"},[e("div",{staticClass:"inspection-card__title info text-overflow"},[t._v("班课名称："+t._s(t.inspection.multiClass.title))]),t._v(" "),e("div",{staticClass:"inspection-card__item info text-overflow"},[t._v("课时名称："+t._s(t.inspection.title))]),t._v(" "),e("div",{staticClass:"inspection-card__item info"},[t._v("开课时间："+t._s(t.$dateFormat(t.inspection.startTime,"YYYY-MM-DD HH:mm")))]),t._v(" "),e("div",{staticClass:"inspection-card__item info"},[t._v("课程时长："+t._s(t.inspection.length)+"分钟")]),t._v(" "),e("div",{staticClass:"inspection-card__item info"},[t._v("实时学员人数："+t._s(t.liveInfo.info.currentOnlineNum?t.liveInfo.info.currentOnlineNum:0)+"/"+t._s(t.inspection.studentNum))]),t._v(" "),e("div",{staticClass:"inspection-card__item info"},[t._v("授课教师：\n      "),e("span",{staticClass:"teacher"},[t._v("\n        "+t._s(t.inspection.teacherInfo.nickname)+"\n        "),"unstart"===t.liveInfo.info.status&&"notOnTime"===t.liveInfo.info.status?e("svg-icon",{staticClass:"icon-a-closecircle",attrs:{icon:"icon-a-closecircle"}}):e("svg-icon",{staticClass:"icon-check-circle",attrs:{icon:"icon-check-circle"}})],1)]),t._v(" "),e("div",{staticClass:"inspection-card__item info"},[t._v("助教出席：\n      "),t._l(t.inspection.assistantInfo,(function(i){return e("span",{key:i.id,staticClass:"teacher"},[t._v("\n        "+t._s(i.nickname)+"\n        "),t.assistantAttend(i.id)?e("svg-icon",{staticClass:"icon-check-circle",attrs:{icon:"icon-check-circle"}}):e("svg-icon",{staticClass:"icon-a-closecircle",attrs:{icon:"icon-a-closecircle"}})],1)}))],2)]),t._v(" "),e("div",{staticClass:"inspection-card__button"},["notOnTime"===t.liveInfo.info.status?e("div",{staticClass:"inspection-card__button not-live-start"},[t._v("\n      直播未按时开始\n    ")]):t._e(),t._v(" "),"living"===t.liveInfo.info.status?e("div",{staticClass:"inspection-card__button live-start"},[e("svg-icon",{staticClass:"icon-live",attrs:{icon:"icon-live"}}),t._v("\n      进入直播\n    ")],1):t._e(),t._v(" "),"finished"===t.liveInfo.info.status&&"generated"===t.inspection.activityInfo.ext.replayStatus?e("div",{staticClass:"inspection-card__button live-start"},[e("svg-icon",{staticClass:"icon-live",attrs:{icon:"icon-live-playback"}}),t._v("\n      查看回放\n    ")],1):t._e(),t._v(" "),"finished"===t.liveInfo.info.status?e("div",{staticClass:"inspection-card__button live-start"},[e("svg-icon",{staticClass:"icon-live",attrs:{icon:"icon-live-playback"}}),t._v("\n      直播已结束，回放生成中\n    ")],1):t._e(),t._v(" "),"unstart"===t.liveInfo.info.status?e("div",{staticClass:"inspection-card__button no-start-live"},[e("svg-icon",{staticClass:"icon-live",staticStyle:{width:"24px",height:"24px",top:"4px"},attrs:{icon:"icon-no-start-live"}}),t._v("\n      直播未开始\n    ")],1):t._e()])])}),[],!1,null,"e6ed92ce",null).exports,f={name:"index",components:{AsideLayout:o.a,Empty:r.a,InspectionCard:_},data:function(){return{inspectionList:[],getListLoading:!1,headerTip:"班课巡检仅展示今天所有直播课"}},computed:{},created:function(){this.getMultiClassInspectionList()},methods:{getMultiClassInspectionList:function(){var t=this;return c()(s.a.mark((function i(){return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.getListLoading=!0,i.prev=1,i.next=4,l.a.search();case 4:t.inspectionList=i.sent;case 5:return i.prev=5,t.getListLoading=!1,i.finish(5);case 8:case"end":return i.stop()}}),i,null,[[1,,5,8]])})))()}}},m=Object(v.a)(f,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("aside-layout",{attrs:{breadcrumbs:[{name:"班课巡检"}],headerTip:t.headerTip}},[e("a-spin",{staticClass:"multi-class-inspection",attrs:{spinning:t.getListLoading}},[e("a-row",{attrs:{gutter:[24,24]}},t._l(t.inspectionList,(function(t){return e("a-col",{key:t.id,attrs:{sm:24,lg:12,xl:8,xxl:6}},[e("inspection-card",{attrs:{inspection:t}})],1)})),1),t._v(" "),t.getListLoading||t.inspectionList.length?t._e():e("empty")],1)],1)}),[],!1,null,"26ac3551",null);i.default=m.exports}}]);